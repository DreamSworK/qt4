<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Qt 4.8: /src/testlib/qbenchmark.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="qt_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Qt 4.8
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0"
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_1427e6b9e14483d8a13b4ea1c69420e3.html">qt-4.8.6</a></li><li class="navelem"><a class="el" href="dir_42c0970699667688278d00b1a5e7112e.html">src</a></li><li class="navelem"><a class="el" href="dir_5e726010c005185c8cc1b25a6fefcf1f.html">testlib</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">qbenchmark.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;QtTest/qtest_global.h&gt;</code><br />
<code>#include &lt;QtTest/qbenchmarkmetric.h&gt;</code><br />
</div>
<p><a href="qbenchmark_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQTest_1_1QBenchmarkIterationController.html">QTest::QBenchmarkIterationController</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="classQTest_1_1QBenchmarkIterationController.html" title="The QBenchmarkIterationController class is used by the QBENCHMARK macro to drive the benchmarking loo...">QBenchmarkIterationController</a> class is used by the QBENCHMARK macro to drive the benchmarking loop.  <a href="classQTest_1_1QBenchmarkIterationController.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespaceQTest"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceQTest.html">QTest</a></td></tr>
<tr class="memdesc:namespaceQTest"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="namespaceQTest.html" title="The QTest namespace contains all the functions and declarations that are related to the QTestLib tool...">QTest</a> namespace contains all the functions and declarations that are related to the QTestLib tool. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a00764ac13ed42c5f5964e44c9776befb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qbenchmark_8h.html#a00764ac13ed42c5f5964e44c9776befb">QBENCHMARK</a></td></tr>
<tr class="memdesc:a00764ac13ed42c5f5964e44c9776befb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro is used to measure the performance of code within a test.  <a href="#a00764ac13ed42c5f5964e44c9776befb">More...</a><br /></td></tr>
<tr class="separator:a00764ac13ed42c5f5964e44c9776befb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa166f6df86c1c72f0cf19a198d3b9484"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qbenchmark_8h.html#aa166f6df86c1c72f0cf19a198d3b9484">QBENCHMARK_ONCE</a></td></tr>
<tr class="memdesc:aa166f6df86c1c72f0cf19a198d3b9484"><td class="mdescLeft">&#160;</td><td class="mdescRight">The QBENCHMARK_ONCE macro is for measuring performance of a code block by running it once.  <a href="#aa166f6df86c1c72f0cf19a198d3b9484">More...</a><br /></td></tr>
<tr class="separator:aa166f6df86c1c72f0cf19a198d3b9484"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a204ea628c6355519b5c804253b6e850e"><td class="memItemLeft" align="right" valign="top">void <a class="el" href="qtest__global_8h.html#a8739718bed41604847078d5f713304d1">Q_TESTLIB_EXPORT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceQTest.html#a204ea628c6355519b5c804253b6e850e">QTest::setBenchmarkResult</a> (<a class="el" href="qglobal_8h.html#abe7fa83b9984f2a0bbd470063c14e0f5">qreal</a> result, QBenchmarkMetric metric)</td></tr>
<tr class="memdesc:a204ea628c6355519b5c804253b6e850e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the benchmark result for this test function to <em>result</em>.  <a href="namespaceQTest.html#a204ea628c6355519b5c804253b6e850e">More...</a><br /></td></tr>
<tr class="separator:a204ea628c6355519b5c804253b6e850e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a00764ac13ed42c5f5964e44c9776befb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00764ac13ed42c5f5964e44c9776befb">&#9670;&nbsp;</a></span>QBENCHMARK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define QBENCHMARK</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">for</span> (<a class="code" href="classQTest_1_1QBenchmarkIterationController.html">QTest::QBenchmarkIterationController</a> __iteration_controller; \</div><div class="line">            __iteration_controller.<a class="code" href="classQTest_1_1QBenchmarkIterationController.html#a1eee78425c95e373902a1c8826cae5b9">isDone</a>() == <span class="keyword">false</span>; __iteration_controller.next())</div><div class="ttc" id="classQTest_1_1QBenchmarkIterationController_html_a1eee78425c95e373902a1c8826cae5b9"><div class="ttname"><a href="classQTest_1_1QBenchmarkIterationController.html#a1eee78425c95e373902a1c8826cae5b9">QTest::QBenchmarkIterationController::isDone</a></div><div class="ttdeci">bool isDone()</div><div class="ttdef"><b>Definition:</b> <a href="qbenchmark_8cpp_source.html#l00222">qbenchmark.cpp:222</a></div></div>
<div class="ttc" id="classQTest_1_1QBenchmarkIterationController_html"><div class="ttname"><a href="classQTest_1_1QBenchmarkIterationController.html">QTest::QBenchmarkIterationController</a></div><div class="ttdoc">The QBenchmarkIterationController class is used by the QBENCHMARK macro to drive the benchmarking loo...</div><div class="ttdef"><b>Definition:</b> <a href="qbenchmark_8h_source.html#l00065">qbenchmark.h:65</a></div></div>
</div><!-- fragment -->
<p>This macro is used to measure the performance of code within a test. </p>
<p>The code to be benchmarked is contained within a code block following this macro.</p>
<p>For example:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> TestBenchmark::simple()</div><div class="line">{</div><div class="line">    <a class="code" href="classQString.html">QString</a> str1 = <a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;This is a test string&quot;</span>);</div><div class="line">    <a class="code" href="classQString.html">QString</a> str2 = <a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;This is a test string&quot;</span>);</div><div class="line"></div><div class="line">    <a class="code" href="qtestcase_8h.html#aa43ad0d933e29438122bc822765c859b">QCOMPARE</a>(str1.<a class="code" href="classQString.html#ac6eb8521606d25ad2f6d9a1bc7b41833">localeAwareCompare</a>(str2), 0);</div><div class="line"></div><div class="line">    <a class="code" href="qbenchmark_8h.html#a00764ac13ed42c5f5964e44c9776befb">QBENCHMARK</a> {</div><div class="line">        str1.<a class="code" href="classQString.html#ac6eb8521606d25ad2f6d9a1bc7b41833">localeAwareCompare</a>(str2);</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --> <dl class="section see"><dt>See also</dt><dd>{QTestLib Manual::Creating <a class="el" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a> Benchmark}{Creating <a class="el" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a> Benchmark}, {Chapter 5: Writing <a class="el" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a> Benchmark}{Writing <a class="el" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a> Benchmark} </dd></dl>

</div>
</div>
<a id="aa166f6df86c1c72f0cf19a198d3b9484"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa166f6df86c1c72f0cf19a198d3b9484">&#9670;&nbsp;</a></span>QBENCHMARK_ONCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define QBENCHMARK_ONCE</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">for</span> (<a class="code" href="classQTest_1_1QBenchmarkIterationController.html">QTest::QBenchmarkIterationController</a> __iteration_controller(<a class="code" href="classQTest_1_1QBenchmarkIterationController.html#a22389a23a5b3031d0d896dc7870b9c52a5795cc0c33b872454ed894d8c32c90e5">QTest::QBenchmarkIterationController::RunOnce</a>); \</div><div class="line">            __iteration_controller.<a class="code" href="classQTest_1_1QBenchmarkIterationController.html#a1eee78425c95e373902a1c8826cae5b9">isDone</a>() == <span class="keyword">false</span>; __iteration_controller.next())</div><div class="ttc" id="classQTest_1_1QBenchmarkIterationController_html_a1eee78425c95e373902a1c8826cae5b9"><div class="ttname"><a href="classQTest_1_1QBenchmarkIterationController.html#a1eee78425c95e373902a1c8826cae5b9">QTest::QBenchmarkIterationController::isDone</a></div><div class="ttdeci">bool isDone()</div><div class="ttdef"><b>Definition:</b> <a href="qbenchmark_8cpp_source.html#l00222">qbenchmark.cpp:222</a></div></div>
<div class="ttc" id="classQTest_1_1QBenchmarkIterationController_html_a22389a23a5b3031d0d896dc7870b9c52a5795cc0c33b872454ed894d8c32c90e5"><div class="ttname"><a href="classQTest_1_1QBenchmarkIterationController.html#a22389a23a5b3031d0d896dc7870b9c52a5795cc0c33b872454ed894d8c32c90e5">QTest::QBenchmarkIterationController::RunOnce</a></div><div class="ttdef"><b>Definition:</b> <a href="qbenchmark_8h_source.html#l00068">qbenchmark.h:68</a></div></div>
<div class="ttc" id="classQTest_1_1QBenchmarkIterationController_html"><div class="ttname"><a href="classQTest_1_1QBenchmarkIterationController.html">QTest::QBenchmarkIterationController</a></div><div class="ttdoc">The QBenchmarkIterationController class is used by the QBENCHMARK macro to drive the benchmarking loo...</div><div class="ttdef"><b>Definition:</b> <a href="qbenchmark_8h_source.html#l00065">qbenchmark.h:65</a></div></div>
</div><!-- fragment -->
<p>The QBENCHMARK_ONCE macro is for measuring performance of a code block by running it once. </p>
<dl class="section since"><dt>Since</dt><dd>4.6</dd></dl>
<p>This macro is used to measure the performance of code within a test. The code to be benchmarked is contained within a code block following this macro.</p>
<p>Unlike QBENCHMARK, the contents of the contained code block is only run once. The elapsed time will be reported as "0" if it's to short to be measured by the selected backend. (Use)</p>
<dl class="section see"><dt>See also</dt><dd>{QTestLib Manual::Creating <a class="el" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a> Benchmark}{Creating <a class="el" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a> Benchmark}, {Chapter 5: Writing <a class="el" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a> Benchmark}{Writing <a class="el" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a> Benchmark} </dd></dl>

</div>
</div>
</div><!-- contents -->

<hr class="footer"/><address class="footer"><small><a href="https://dreamswork.github.io/qt4/">Qt 4.8 Source Code Browser</a></small></address>
</body>
</html>
