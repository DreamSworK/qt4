<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Qt 4.8: QPngHandlerPrivate Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="qt_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Qt 4.8
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0"
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Functions</a> &#124;
<a href="#pub-attribs">Public Variables</a> &#124;
<a href="classQPngHandlerPrivate-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">QPngHandlerPrivate Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a488f07c52d9106caff5f269a5ff107d3"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3">State</a> { <a class="el" href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3abd2724454ac71a3716973eb2944c13f0">Ready</a>,
<a class="el" href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3ad0f1c7c70e3bc20be6d28eb38a9cdad0">ReadHeader</a>,
<a class="el" href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3a7848a80134f165ba69412d1eeee8fb73">ReadingEnd</a>,
<a class="el" href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3a065a4b67b4944ea456870ee7edaefb94">Error</a>
 }</td></tr>
<tr class="separator:a488f07c52d9106caff5f269a5ff107d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Functions</h2></td></tr>
<tr class="memitem:a2d03d5eb69bc3536d8a7f3cf608e1fed"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQPngHandlerPrivate.html#a2d03d5eb69bc3536d8a7f3cf608e1fed">QPngHandlerPrivate</a> (<a class="el" href="classQPngHandler.html">QPngHandler</a> *qq)</td></tr>
<tr class="separator:a2d03d5eb69bc3536d8a7f3cf608e1fed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad617d314b7b3aee4fbfc35e0c27f406a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8d">QImage::Format</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQPngHandlerPrivate.html#ad617d314b7b3aee4fbfc35e0c27f406a">readImageFormat</a> ()</td></tr>
<tr class="separator:ad617d314b7b3aee4fbfc35e0c27f406a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4e170803e492eae63295344badacbe4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQPngHandlerPrivate.html#ac4e170803e492eae63295344badacbe4">readPngHeader</a> ()</td></tr>
<tr class="separator:ac4e170803e492eae63295344badacbe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a634dbeb0d7470833ae2855fe4c13cdad"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQPngHandlerPrivate.html#a634dbeb0d7470833ae2855fe4c13cdad">readPngImage</a> (<a class="el" href="classQImage.html">QImage</a> *image)</td></tr>
<tr class="separator:a634dbeb0d7470833ae2855fe4c13cdad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22364a91fe2b72eaacbebd257f038df9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQPngHandlerPrivate.html#a22364a91fe2b72eaacbebd257f038df9">readPngTexts</a> (png_info *<a class="el" href="qelapsedtimer__mac_8cpp.html#aa73cc0d6f0ccfa40c6cb4f7509896845">info</a>)</td></tr>
<tr class="separator:a22364a91fe2b72eaacbebd257f038df9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Variables</h2></td></tr>
<tr class="memitem:a99733efd90526e328d309896de4331f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classQString.html">QString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQPngHandlerPrivate.html#a99733efd90526e328d309896de4331f5">description</a></td></tr>
<tr class="separator:a99733efd90526e328d309896de4331f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ffd8eb5dcafbb419020a58aaa786c6c"><td class="memItemLeft" align="right" valign="top">png_info *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQPngHandlerPrivate.html#a3ffd8eb5dcafbb419020a58aaa786c6c">end_info</a></td></tr>
<tr class="separator:a3ffd8eb5dcafbb419020a58aaa786c6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d988f424b775e82be84bb56d8169fe6"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQPngHandlerPrivate.html#a2d988f424b775e82be84bb56d8169fe6">gamma</a></td></tr>
<tr class="separator:a2d988f424b775e82be84bb56d8169fe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7564d3d455123dc8bdd6c00515f03bc8"><td class="memItemLeft" align="right" valign="top">png_info *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">info_ptr</a></td></tr>
<tr class="separator:a7564d3d455123dc8bdd6c00515f03bc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d23d3c5af6f59889beb226e78ef81bd"><td class="memItemLeft" align="right" valign="top">png_struct *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a></td></tr>
<tr class="separator:a6d23d3c5af6f59889beb226e78ef81bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c53d4327eccd19eee152ba3cccc0fec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classQPngHandler.html">QPngHandler</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQPngHandlerPrivate.html#a2c53d4327eccd19eee152ba3cccc0fec">q</a></td></tr>
<tr class="separator:a2c53d4327eccd19eee152ba3cccc0fec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96fd007ca79eea47c24f68d767fcd5ae"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQPngHandlerPrivate.html#a96fd007ca79eea47c24f68d767fcd5ae">quality</a></td></tr>
<tr class="separator:a96fd007ca79eea47c24f68d767fcd5ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5e1b371005e6c2915a92183316a3285"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classQStringList.html">QStringList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQPngHandlerPrivate.html#aa5e1b371005e6c2915a92183316a3285">readTexts</a></td></tr>
<tr class="separator:aa5e1b371005e6c2915a92183316a3285"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e26524210a58c1ac6103e03852e7a60"><td class="memItemLeft" align="right" valign="top">png_byte **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQPngHandlerPrivate.html#a8e26524210a58c1ac6103e03852e7a60">row_pointers</a></td></tr>
<tr class="separator:a8e26524210a58c1ac6103e03852e7a60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1214ee5a629e43e39c283ccfe3a4fcec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3">State</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQPngHandlerPrivate.html#a1214ee5a629e43e39c283ccfe3a4fcec">state</a></td></tr>
<tr class="separator:a1214ee5a629e43e39c283ccfe3a4fcec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="qpnghandler_8cpp_source.html#l00108">108</a> of file <a class="el" href="qpnghandler_8cpp_source.html">qpnghandler.cpp</a>.</p>
</div><h2 class="groupheader">Enumerations</h2>
<a id="a488f07c52d9106caff5f269a5ff107d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a488f07c52d9106caff5f269a5ff107d3">&#9670;&nbsp;</a></span>State</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3">QPngHandlerPrivate::State</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a488f07c52d9106caff5f269a5ff107d3abd2724454ac71a3716973eb2944c13f0"></a>Ready&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a488f07c52d9106caff5f269a5ff107d3ad0f1c7c70e3bc20be6d28eb38a9cdad0"></a>ReadHeader&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a488f07c52d9106caff5f269a5ff107d3a7848a80134f165ba69412d1eeee8fb73"></a>ReadingEnd&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a488f07c52d9106caff5f269a5ff107d3a065a4b67b4944ea456870ee7edaefb94"></a>Error&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="qpnghandler_8cpp_source.html#l00111">111</a> of file <a class="el" href="qpnghandler_8cpp_source.html">qpnghandler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;               {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <a class="code" href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3abd2724454ac71a3716973eb2944c13f0">Ready</a>,</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <a class="code" href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3ad0f1c7c70e3bc20be6d28eb38a9cdad0">ReadHeader</a>,</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <a class="code" href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3a7848a80134f165ba69412d1eeee8fb73">ReadingEnd</a>,</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <a class="code" href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3a065a4b67b4944ea456870ee7edaefb94">Error</a></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    };</div><div class="ttc" id="classQPngHandlerPrivate_html_a488f07c52d9106caff5f269a5ff107d3ad0f1c7c70e3bc20be6d28eb38a9cdad0"><div class="ttname"><a href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3ad0f1c7c70e3bc20be6d28eb38a9cdad0">QPngHandlerPrivate::ReadHeader</a></div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00113">qpnghandler.cpp:113</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a488f07c52d9106caff5f269a5ff107d3a7848a80134f165ba69412d1eeee8fb73"><div class="ttname"><a href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3a7848a80134f165ba69412d1eeee8fb73">QPngHandlerPrivate::ReadingEnd</a></div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00114">qpnghandler.cpp:114</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a488f07c52d9106caff5f269a5ff107d3a065a4b67b4944ea456870ee7edaefb94"><div class="ttname"><a href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3a065a4b67b4944ea456870ee7edaefb94">QPngHandlerPrivate::Error</a></div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00115">qpnghandler.cpp:115</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a488f07c52d9106caff5f269a5ff107d3abd2724454ac71a3716973eb2944c13f0"><div class="ttname"><a href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3abd2724454ac71a3716973eb2944c13f0">QPngHandlerPrivate::Ready</a></div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00112">qpnghandler.cpp:112</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructors and Destructors</h2>
<a id="a2d03d5eb69bc3536d8a7f3cf608e1fed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d03d5eb69bc3536d8a7f3cf608e1fed">&#9670;&nbsp;</a></span>QPngHandlerPrivate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QPngHandlerPrivate::QPngHandlerPrivate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQPngHandler.html">QPngHandler</a> *&#160;</td>
          <td class="paramname"><em>qq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qpnghandler_8cpp_source.html#l00118">118</a> of file <a class="el" href="qpnghandler_8cpp_source.html">qpnghandler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        : <a class="code" href="classQPngHandlerPrivate.html#a2d988f424b775e82be84bb56d8169fe6">gamma</a>(0.0), <a class="code" href="classQPngHandlerPrivate.html#a96fd007ca79eea47c24f68d767fcd5ae">quality</a>(2), <a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>(0), <a class="code" href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">info_ptr</a>(0),</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;          <a class="code" href="classQPngHandlerPrivate.html#a3ffd8eb5dcafbb419020a58aaa786c6c">end_info</a>(0), <a class="code" href="classQPngHandlerPrivate.html#a8e26524210a58c1ac6103e03852e7a60">row_pointers</a>(0), <a class="code" href="classQPngHandlerPrivate.html#a1214ee5a629e43e39c283ccfe3a4fcec">state</a>(<a class="code" href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3abd2724454ac71a3716973eb2944c13f0">Ready</a>), <a class="code" href="classQPngHandlerPrivate.html#a2c53d4327eccd19eee152ba3cccc0fec">q</a>(qq)</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    { }</div><div class="ttc" id="classQPngHandlerPrivate_html_a2c53d4327eccd19eee152ba3cccc0fec"><div class="ttname"><a href="classQPngHandlerPrivate.html#a2c53d4327eccd19eee152ba3cccc0fec">QPngHandlerPrivate::q</a></div><div class="ttdeci">QPngHandler * q</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00141">qpnghandler.cpp:141</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a3ffd8eb5dcafbb419020a58aaa786c6c"><div class="ttname"><a href="classQPngHandlerPrivate.html#a3ffd8eb5dcafbb419020a58aaa786c6c">QPngHandlerPrivate::end_info</a></div><div class="ttdeci">png_info * end_info</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00130">qpnghandler.cpp:130</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a7564d3d455123dc8bdd6c00515f03bc8"><div class="ttname"><a href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">QPngHandlerPrivate::info_ptr</a></div><div class="ttdeci">png_info * info_ptr</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00129">qpnghandler.cpp:129</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a1214ee5a629e43e39c283ccfe3a4fcec"><div class="ttname"><a href="classQPngHandlerPrivate.html#a1214ee5a629e43e39c283ccfe3a4fcec">QPngHandlerPrivate::state</a></div><div class="ttdeci">State state</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00139">qpnghandler.cpp:139</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a96fd007ca79eea47c24f68d767fcd5ae"><div class="ttname"><a href="classQPngHandlerPrivate.html#a96fd007ca79eea47c24f68d767fcd5ae">QPngHandlerPrivate::quality</a></div><div class="ttdeci">int quality</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00124">qpnghandler.cpp:124</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a6d23d3c5af6f59889beb226e78ef81bd"><div class="ttname"><a href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">QPngHandlerPrivate::png_ptr</a></div><div class="ttdeci">png_struct * png_ptr</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00128">qpnghandler.cpp:128</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a2d988f424b775e82be84bb56d8169fe6"><div class="ttname"><a href="classQPngHandlerPrivate.html#a2d988f424b775e82be84bb56d8169fe6">QPngHandlerPrivate::gamma</a></div><div class="ttdeci">float gamma</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00123">qpnghandler.cpp:123</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a8e26524210a58c1ac6103e03852e7a60"><div class="ttname"><a href="classQPngHandlerPrivate.html#a8e26524210a58c1ac6103e03852e7a60">QPngHandlerPrivate::row_pointers</a></div><div class="ttdeci">png_byte ** row_pointers</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00131">qpnghandler.cpp:131</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a488f07c52d9106caff5f269a5ff107d3abd2724454ac71a3716973eb2944c13f0"><div class="ttname"><a href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3abd2724454ac71a3716973eb2944c13f0">QPngHandlerPrivate::Ready</a></div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00112">qpnghandler.cpp:112</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Functions</h2>
<a id="ad617d314b7b3aee4fbfc35e0c27f406a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad617d314b7b3aee4fbfc35e0c27f406a">&#9670;&nbsp;</a></span>readImageFormat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8d">QImage::Format</a> QPngHandlerPrivate::readImageFormat </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qpnghandler_8cpp_source.html#l00569">569</a> of file <a class="el" href="qpnghandler_8cpp_source.html">qpnghandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qpnghandler_8cpp_source.html#l00983">QPngHandler::option()</a>.</p>
<div class="fragment"><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;{</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        <a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8d">QImage::Format</a> <a class="code" href="qprintengine__ps_8cpp.html#a387137c43ed9616d39ba90e890d181eb">format</a> = <a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8da686edf14b41199b4dfb4ab533966d849">QImage::Format_Invalid</a>;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        png_uint_32 width, height;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        <span class="keywordtype">int</span> bit_depth, color_type;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        png_colorp palette;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="keywordtype">int</span> num_palette;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        png_get_IHDR(<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>, <a class="code" href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">info_ptr</a>, &amp;width, &amp;height, &amp;bit_depth, &amp;color_type, 0, 0, 0);</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        <span class="keywordflow">if</span> (color_type == PNG_COLOR_TYPE_GRAY) {</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            <span class="comment">// Black &amp; White or 8-bit grayscale</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            <span class="keywordflow">if</span> (bit_depth == 1 &amp;&amp; png_get_channels(<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>, <a class="code" href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">info_ptr</a>) == 1) {</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                format = <a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dab1aa35fb34158e02d1af6272303e3aae">QImage::Format_Mono</a>;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (bit_depth == 16 &amp;&amp; png_get_valid(<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>, <a class="code" href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">info_ptr</a>, PNG_INFO_tRNS)) {</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                format = <a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dae6a648c88becc4b9993158b57fbdc8e6">QImage::Format_ARGB32</a>;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                format = <a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dabee95196f4682d4f4d1eb1220859e8d2">QImage::Format_Indexed8</a>;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            }</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (color_type == PNG_COLOR_TYPE_PALETTE</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                   &amp;&amp; png_get_PLTE(<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>, <a class="code" href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">info_ptr</a>, &amp;palette, &amp;num_palette)</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                   &amp;&amp; num_palette &lt;= 256)</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        {</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            <span class="comment">// 1-bit and 8-bit color</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            <span class="keywordflow">if</span> (bit_depth != 1)</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                png_set_packing(<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>);</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            png_read_update_info(<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>, <a class="code" href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">info_ptr</a>);</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            png_get_IHDR(<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>, <a class="code" href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">info_ptr</a>, &amp;width, &amp;height, &amp;bit_depth, &amp;color_type, 0, 0, 0);</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            format = bit_depth == 1 ? <a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dab1aa35fb34158e02d1af6272303e3aae">QImage::Format_Mono</a> : <a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dabee95196f4682d4f4d1eb1220859e8d2">QImage::Format_Indexed8</a>;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;            <span class="comment">// 32-bit</span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            <span class="keywordflow">if</span> (bit_depth == 16)</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                png_set_strip_16(<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>);</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            format = <a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dae6a648c88becc4b9993158b57fbdc8e6">QImage::Format_ARGB32</a>;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            <span class="comment">// Only add filler if no alpha, or we can get 5 channel data.</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            <span class="keywordflow">if</span> (!(color_type &amp; PNG_COLOR_MASK_ALPHA)</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                &amp;&amp; !png_get_valid(<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>, <a class="code" href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">info_ptr</a>, PNG_INFO_tRNS)) {</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                <span class="comment">// We want 4 bytes, but it isn&#39;t an alpha channel</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                format = <a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8da6711d4eda08befec966bcc742678e48c">QImage::Format_RGB32</a>;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            }</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        }</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="qprintengine__ps_8cpp.html#a387137c43ed9616d39ba90e890d181eb">format</a>;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;}</div><div class="ttc" id="classQImage_html_a810aa2990f23c8aa8dc82c59ba11bd8d"><div class="ttname"><a href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8d">QImage::Format</a></div><div class="ttdeci">Format</div><div class="ttdoc">The following image formats are available in Qt. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00091">qimage.h:91</a></div></div>
<div class="ttc" id="classQImage_html_a810aa2990f23c8aa8dc82c59ba11bd8dabee95196f4682d4f4d1eb1220859e8d2"><div class="ttname"><a href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dabee95196f4682d4f4d1eb1220859e8d2">QImage::Format_Indexed8</a></div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00095">qimage.h:95</a></div></div>
<div class="ttc" id="classQImage_html_a810aa2990f23c8aa8dc82c59ba11bd8da686edf14b41199b4dfb4ab533966d849"><div class="ttname"><a href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8da686edf14b41199b4dfb4ab533966d849">QImage::Format_Invalid</a></div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00092">qimage.h:92</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a7564d3d455123dc8bdd6c00515f03bc8"><div class="ttname"><a href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">QPngHandlerPrivate::info_ptr</a></div><div class="ttdeci">png_info * info_ptr</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00129">qpnghandler.cpp:129</a></div></div>
<div class="ttc" id="classQImage_html_a810aa2990f23c8aa8dc82c59ba11bd8dab1aa35fb34158e02d1af6272303e3aae"><div class="ttname"><a href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dab1aa35fb34158e02d1af6272303e3aae">QImage::Format_Mono</a></div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00093">qimage.h:93</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a6d23d3c5af6f59889beb226e78ef81bd"><div class="ttname"><a href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">QPngHandlerPrivate::png_ptr</a></div><div class="ttdeci">png_struct * png_ptr</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00128">qpnghandler.cpp:128</a></div></div>
<div class="ttc" id="qprintengine__ps_8cpp_html_a387137c43ed9616d39ba90e890d181eb"><div class="ttname"><a href="qprintengine__ps_8cpp.html#a387137c43ed9616d39ba90e890d181eb">format</a></div><div class="ttdeci">format</div><div class="ttdef"><b>Definition:</b> <a href="qprintengine__ps_8cpp_source.html#l00286">qprintengine_ps.cpp:286</a></div></div>
<div class="ttc" id="classQImage_html_a810aa2990f23c8aa8dc82c59ba11bd8dae6a648c88becc4b9993158b57fbdc8e6"><div class="ttname"><a href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dae6a648c88becc4b9993158b57fbdc8e6">QImage::Format_ARGB32</a></div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00097">qimage.h:97</a></div></div>
<div class="ttc" id="classQImage_html_a810aa2990f23c8aa8dc82c59ba11bd8da6711d4eda08befec966bcc742678e48c"><div class="ttname"><a href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8da6711d4eda08befec966bcc742678e48c">QImage::Format_RGB32</a></div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00096">qimage.h:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac4e170803e492eae63295344badacbe4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4e170803e492eae63295344badacbe4">&#9670;&nbsp;</a></span>readPngHeader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="qpnghandler_8cpp.html#a06ab9d197f8affe16c04808b24ffd021">Q_INTERNAL_WIN_NO_THROW</a> QPngHandlerPrivate::readPngHeader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section warning"><dt>Warning</dt><dd>This function is not part of the public interface. </dd></dl>

<p class="definition">Definition at line <a class="el" href="qpnghandler_8cpp_source.html#l00423">423</a> of file <a class="el" href="qpnghandler_8cpp_source.html">qpnghandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qpnghandler_8cpp_source.html#l00983">QPngHandler::option()</a>, and <a class="el" href="qpnghandler_8cpp_source.html#l00464">readPngImage()</a>.</p>
<div class="fragment"><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;{</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <a class="code" href="classQPngHandlerPrivate.html#a1214ee5a629e43e39c283ccfe3a4fcec">state</a> = <a class="code" href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3a065a4b67b4944ea456870ee7edaefb94">Error</a>;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a> = png_create_read_struct(PNG_LIBPNG_VER_STRING,0,0,0);</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>)</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    png_set_error_fn(<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>, 0, 0, <a class="code" href="qpnghandler_8cpp.html#a53d6f943203094049614b41ee6881cb2">qt_png_warning</a>);</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <a class="code" href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">info_ptr</a> = png_create_info_struct(<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>);</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">info_ptr</a>) {</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        png_destroy_read_struct(&amp;<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>, 0, 0);</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a> = 0;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    }</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <a class="code" href="classQPngHandlerPrivate.html#a3ffd8eb5dcafbb419020a58aaa786c6c">end_info</a> = png_create_info_struct(<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>);</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classQPngHandlerPrivate.html#a3ffd8eb5dcafbb419020a58aaa786c6c">end_info</a>) {</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        png_destroy_read_struct(&amp;<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>, &amp;<a class="code" href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">info_ptr</a>, 0);</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a> = 0;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    }</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordflow">if</span> (setjmp(png_jmpbuf(<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>))) {</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        png_destroy_read_struct(&amp;<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>, &amp;<a class="code" href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">info_ptr</a>, &amp;<a class="code" href="classQPngHandlerPrivate.html#a3ffd8eb5dcafbb419020a58aaa786c6c">end_info</a>);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a> = 0;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    }</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    png_set_read_fn(<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>, <span class="keyword">this</span>, <a class="code" href="qpnghandler_8cpp.html#ae4918806f392c543626d8bc5da74c99e">iod_read_fn</a>);</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    png_read_info(<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>, <a class="code" href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">info_ptr</a>);</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <a class="code" href="classQPngHandlerPrivate.html#a22364a91fe2b72eaacbebd257f038df9">readPngTexts</a>(<a class="code" href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">info_ptr</a>);</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <a class="code" href="classQPngHandlerPrivate.html#a1214ee5a629e43e39c283ccfe3a4fcec">state</a> = <a class="code" href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3ad0f1c7c70e3bc20be6d28eb38a9cdad0">ReadHeader</a>;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;}</div><div class="ttc" id="classQPngHandlerPrivate_html_a488f07c52d9106caff5f269a5ff107d3ad0f1c7c70e3bc20be6d28eb38a9cdad0"><div class="ttname"><a href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3ad0f1c7c70e3bc20be6d28eb38a9cdad0">QPngHandlerPrivate::ReadHeader</a></div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00113">qpnghandler.cpp:113</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a22364a91fe2b72eaacbebd257f038df9"><div class="ttname"><a href="classQPngHandlerPrivate.html#a22364a91fe2b72eaacbebd257f038df9">QPngHandlerPrivate::readPngTexts</a></div><div class="ttdeci">void readPngTexts(png_info *info)</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00391">qpnghandler.cpp:391</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a3ffd8eb5dcafbb419020a58aaa786c6c"><div class="ttname"><a href="classQPngHandlerPrivate.html#a3ffd8eb5dcafbb419020a58aaa786c6c">QPngHandlerPrivate::end_info</a></div><div class="ttdeci">png_info * end_info</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00130">qpnghandler.cpp:130</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a7564d3d455123dc8bdd6c00515f03bc8"><div class="ttname"><a href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">QPngHandlerPrivate::info_ptr</a></div><div class="ttdeci">png_info * info_ptr</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00129">qpnghandler.cpp:129</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a488f07c52d9106caff5f269a5ff107d3a065a4b67b4944ea456870ee7edaefb94"><div class="ttname"><a href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3a065a4b67b4944ea456870ee7edaefb94">QPngHandlerPrivate::Error</a></div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00115">qpnghandler.cpp:115</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a1214ee5a629e43e39c283ccfe3a4fcec"><div class="ttname"><a href="classQPngHandlerPrivate.html#a1214ee5a629e43e39c283ccfe3a4fcec">QPngHandlerPrivate::state</a></div><div class="ttdeci">State state</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00139">qpnghandler.cpp:139</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a6d23d3c5af6f59889beb226e78ef81bd"><div class="ttname"><a href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">QPngHandlerPrivate::png_ptr</a></div><div class="ttdeci">png_struct * png_ptr</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00128">qpnghandler.cpp:128</a></div></div>
<div class="ttc" id="qpnghandler_8cpp_html_ae4918806f392c543626d8bc5da74c99e"><div class="ttname"><a href="qpnghandler_8cpp.html#ae4918806f392c543626d8bc5da74c99e">iod_read_fn</a></div><div class="ttdeci">static void CALLBACK_CALL_TYPE iod_read_fn(png_structp png_ptr, png_bytep data, png_size_t length)</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00179">qpnghandler.cpp:179</a></div></div>
<div class="ttc" id="qpnghandler_8cpp_html_a53d6f943203094049614b41ee6881cb2"><div class="ttname"><a href="qpnghandler_8cpp.html#a53d6f943203094049614b41ee6881cb2">qt_png_warning</a></div><div class="ttdeci">static void CALLBACK_CALL_TYPE qt_png_warning(png_structp, png_const_charp message)</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00378">qpnghandler.cpp:378</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a634dbeb0d7470833ae2855fe4c13cdad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a634dbeb0d7470833ae2855fe4c13cdad">&#9670;&nbsp;</a></span>readPngImage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="qpnghandler_8cpp.html#a06ab9d197f8affe16c04808b24ffd021">Q_INTERNAL_WIN_NO_THROW</a> QPngHandlerPrivate::readPngImage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQImage.html">QImage</a> *&#160;</td>
          <td class="paramname"><em>outImage</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section warning"><dt>Warning</dt><dd>This function is not part of the public interface. </dd></dl>

<p class="definition">Definition at line <a class="el" href="qpnghandler_8cpp_source.html#l00464">464</a> of file <a class="el" href="qpnghandler_8cpp_source.html">qpnghandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qpnghandler_8cpp_source.html#l00962">QPngHandler::read()</a>.</p>
<div class="fragment"><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;{</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQPngHandlerPrivate.html#a1214ee5a629e43e39c283ccfe3a4fcec">state</a> == <a class="code" href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3a065a4b67b4944ea456870ee7edaefb94">Error</a>)</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQPngHandlerPrivate.html#a1214ee5a629e43e39c283ccfe3a4fcec">state</a> == <a class="code" href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3abd2724454ac71a3716973eb2944c13f0">Ready</a> &amp;&amp; !<a class="code" href="classQPngHandlerPrivate.html#ac4e170803e492eae63295344badacbe4">readPngHeader</a>()) {</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <a class="code" href="classQPngHandlerPrivate.html#a1214ee5a629e43e39c283ccfe3a4fcec">state</a> = <a class="code" href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3a065a4b67b4944ea456870ee7edaefb94">Error</a>;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    }</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <a class="code" href="classQPngHandlerPrivate.html#a8e26524210a58c1ac6103e03852e7a60">row_pointers</a> = 0;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordflow">if</span> (setjmp(png_jmpbuf(<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>))) {</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        png_destroy_read_struct(&amp;<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>, &amp;<a class="code" href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">info_ptr</a>, &amp;<a class="code" href="classQPngHandlerPrivate.html#a3ffd8eb5dcafbb419020a58aaa786c6c">end_info</a>);</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <span class="keyword">delete</span> [] <a class="code" href="classQPngHandlerPrivate.html#a8e26524210a58c1ac6103e03852e7a60">row_pointers</a>;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a> = 0;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <a class="code" href="classQPngHandlerPrivate.html#a1214ee5a629e43e39c283ccfe3a4fcec">state</a> = <a class="code" href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3a065a4b67b4944ea456870ee7edaefb94">Error</a>;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    }</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <a class="code" href="qpnghandler_8cpp.html#a51da633e05bc6b0b5a2f583ae41ab808">setup_qt</a>(*outImage, <a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>, <a class="code" href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">info_ptr</a>, <a class="code" href="classQPngHandlerPrivate.html#a2d988f424b775e82be84bb56d8169fe6">gamma</a>);</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keywordflow">if</span> (outImage-&gt;<a class="code" href="classQImage.html#a21c6f77f876ef25965afcd9f412fe5ed">isNull</a>()) {</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        png_destroy_read_struct(&amp;<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>, &amp;<a class="code" href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">info_ptr</a>, &amp;<a class="code" href="classQPngHandlerPrivate.html#a3ffd8eb5dcafbb419020a58aaa786c6c">end_info</a>);</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="keyword">delete</span> [] <a class="code" href="classQPngHandlerPrivate.html#a8e26524210a58c1ac6103e03852e7a60">row_pointers</a>;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a> = 0;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <a class="code" href="classQPngHandlerPrivate.html#a1214ee5a629e43e39c283ccfe3a4fcec">state</a> = <a class="code" href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3a065a4b67b4944ea456870ee7edaefb94">Error</a>;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    }</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    png_uint_32 width = 0;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    png_uint_32 height = 0;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    png_int_32 offset_x = 0;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    png_int_32 offset_y = 0;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keywordtype">int</span> bit_depth = 0;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="keywordtype">int</span> color_type = 0;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordtype">int</span> unit_type = PNG_OFFSET_PIXEL;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    png_get_IHDR(<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>, <a class="code" href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">info_ptr</a>, &amp;width, &amp;height, &amp;bit_depth, &amp;color_type,</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                 0, 0, 0);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    png_get_oFFs(<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>, <a class="code" href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">info_ptr</a>, &amp;offset_x, &amp;offset_y, &amp;unit_type);</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <a class="code" href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *<a class="code" href="qdbusmessage_8cpp.html#a4b86149e51ff4431f59ce6148820fb86">data</a> = outImage-&gt;<a class="code" href="classQImage.html#a73462e7ea76c229ccb77829986170388">bits</a>();</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keywordtype">int</span> bpl = outImage-&gt;<a class="code" href="classQImage.html#ac673d1d5da391ecaaa9add4ff1b586ce">bytesPerLine</a>();</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <a class="code" href="classQPngHandlerPrivate.html#a8e26524210a58c1ac6103e03852e7a60">row_pointers</a> = <span class="keyword">new</span> png_bytep[height];</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="qglobal_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> y = 0; y &lt; height; y++)</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <a class="code" href="classQPngHandlerPrivate.html#a8e26524210a58c1ac6103e03852e7a60">row_pointers</a>[y] = data + y * bpl;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    png_read_image(<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>, <a class="code" href="classQPngHandlerPrivate.html#a8e26524210a58c1ac6103e03852e7a60">row_pointers</a>);</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="preprocessor">#if 0 // libpng takes care of this.</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    png_get_valid(<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>, <a class="code" href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">info_ptr</a>, PNG_INFO_tRNS)</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <span class="keywordflow">if</span> (outImage-&gt;<a class="code" href="classQImage.html#afa946f31315267065159774c4cce4124">depth</a>()==32 &amp;&amp; png_get_valid(<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>, <a class="code" href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">info_ptr</a>, PNG_INFO_tRNS)) {</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            <a class="code" href="qrgb_8h.html#a0e7a1324ad38755e59ac899e1435e855">QRgb</a> trans = 0xFF000000 | <a class="code" href="qrgb_8h.html#ad893ba1106079f0892fc33504a2879bd">qRgb</a>(</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                (<a class="code" href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">info_ptr</a>-&gt;trans_values.red &lt;&lt; 8 &gt;&gt; bit_depth)&amp;0xff,</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                (<a class="code" href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">info_ptr</a>-&gt;trans_values.green &lt;&lt; 8 &gt;&gt; bit_depth)&amp;0xff,</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                (<a class="code" href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">info_ptr</a>-&gt;trans_values.blue &lt;&lt; 8 &gt;&gt; bit_depth)&amp;0xff);</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="qglobal_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> y=0; y&lt;height; y++) {</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="qglobal_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> x=0; x&lt;<a class="code" href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">info_ptr</a>-&gt;width; x++) {</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                    <span class="keywordflow">if</span> (((<a class="code" href="qglobal_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>**)jt)[y][x] == trans) {</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                        ((<a class="code" href="qglobal_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>**)jt)[y][x] &amp;= 0x00FFFFFF;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                    }</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                }</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            }</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        }</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    outImage-&gt;<a class="code" href="classQImage.html#ac2c11158c917b5f0f19042b656a2203a">setDotsPerMeterX</a>(png_get_x_pixels_per_meter(<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>,<a class="code" href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">info_ptr</a>));</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    outImage-&gt;<a class="code" href="classQImage.html#a0b3a0ee2f89c6acca54c51ba7f33edd2">setDotsPerMeterY</a>(png_get_y_pixels_per_meter(<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>,<a class="code" href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">info_ptr</a>));</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordflow">if</span> (unit_type == PNG_OFFSET_PIXEL)</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        outImage-&gt;<a class="code" href="classQImage.html#aed4e2e4a2dd334fc9797a06894c0c4e6">setOffset</a>(<a class="code" href="classQPoint.html">QPoint</a>(offset_x, offset_y));</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <a class="code" href="classQPngHandlerPrivate.html#a1214ee5a629e43e39c283ccfe3a4fcec">state</a> = <a class="code" href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3a7848a80134f165ba69412d1eeee8fb73">ReadingEnd</a>;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    png_read_end(<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>, <a class="code" href="classQPngHandlerPrivate.html#a3ffd8eb5dcafbb419020a58aaa786c6c">end_info</a>);</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="preprocessor">#ifndef QT_NO_IMAGE_TEXT</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <a class="code" href="classQPngHandlerPrivate.html#a22364a91fe2b72eaacbebd257f038df9">readPngTexts</a>(<a class="code" href="classQPngHandlerPrivate.html#a3ffd8eb5dcafbb419020a58aaa786c6c">end_info</a>);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classQPngHandlerPrivate.html#aa5e1b371005e6c2915a92183316a3285">readTexts</a>.<a class="code" href="classQList.html#aa83cded751888bb21257cb4890652809">size</a>()-1; i+=2)</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        outImage-&gt;<a class="code" href="classQImage.html#a2ee8dbbcd8390f423e73ce12a07ad054">setText</a>(<a class="code" href="classQPngHandlerPrivate.html#aa5e1b371005e6c2915a92183316a3285">readTexts</a>.<a class="code" href="classQList.html#ab32e1ab64b7837c2d0d7a89c4ca8d9c2">at</a>(i), <a class="code" href="classQPngHandlerPrivate.html#aa5e1b371005e6c2915a92183316a3285">readTexts</a>.<a class="code" href="classQList.html#ab32e1ab64b7837c2d0d7a89c4ca8d9c2">at</a>(i+1));</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    png_destroy_read_struct(&amp;<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>, &amp;<a class="code" href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">info_ptr</a>, &amp;<a class="code" href="classQPngHandlerPrivate.html#a3ffd8eb5dcafbb419020a58aaa786c6c">end_info</a>);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keyword">delete</span> [] <a class="code" href="classQPngHandlerPrivate.html#a8e26524210a58c1ac6103e03852e7a60">row_pointers</a>;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a> = 0;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <a class="code" href="classQPngHandlerPrivate.html#a1214ee5a629e43e39c283ccfe3a4fcec">state</a> = <a class="code" href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3abd2724454ac71a3716973eb2944c13f0">Ready</a>;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="comment">// sanity check palette entries</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keywordflow">if</span> (color_type == PNG_COLOR_TYPE_PALETTE</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        &amp;&amp; outImage-&gt;<a class="code" href="classQImage.html#aa0017b14009d6a95b5fda586dc6adc89">format</a>() == <a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dabee95196f4682d4f4d1eb1220859e8d2">QImage::Format_Indexed8</a>) {</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="keywordtype">int</span> color_table_size = outImage-&gt;<a class="code" href="classQImage.html#ac9e178635f9c5e6b8b68a96e6ad5ef37">colorCount</a>();</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y=0; y&lt;(int)height; ++y) {</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            <a class="code" href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *p = <a class="code" href="qpnghandler_8cpp.html#ad4d39b9ef1162e761cd9a5736a739412">FAST_SCAN_LINE</a>(data, bpl, y);</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            <a class="code" href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *<a class="code" href="qt__cocoa__helpers__mac_8mm.html#a875104226bb2d18c4bead75b19e75065">end</a> = p + width;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            <span class="keywordflow">while</span> (p &lt; end) {</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                <span class="keywordflow">if</span> (*p &gt;= color_table_size)</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                    *p = 0;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                ++p;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            }</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        }</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    }</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;}</div><div class="ttc" id="classQPngHandlerPrivate_html_ac4e170803e492eae63295344badacbe4"><div class="ttname"><a href="classQPngHandlerPrivate.html#ac4e170803e492eae63295344badacbe4">QPngHandlerPrivate::readPngHeader</a></div><div class="ttdeci">bool readPngHeader()</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00423">qpnghandler.cpp:423</a></div></div>
<div class="ttc" id="qrgb_8h_html_a0e7a1324ad38755e59ac899e1435e855"><div class="ttname"><a href="qrgb_8h.html#a0e7a1324ad38755e59ac899e1435e855">QRgb</a></div><div class="ttdeci">unsigned int QRgb</div><div class="ttdef"><b>Definition:</b> <a href="qrgb_8h_source.html#l00053">qrgb.h:53</a></div></div>
<div class="ttc" id="classQImage_html_a810aa2990f23c8aa8dc82c59ba11bd8dabee95196f4682d4f4d1eb1220859e8d2"><div class="ttname"><a href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dabee95196f4682d4f4d1eb1220859e8d2">QImage::Format_Indexed8</a></div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00095">qimage.h:95</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a22364a91fe2b72eaacbebd257f038df9"><div class="ttname"><a href="classQPngHandlerPrivate.html#a22364a91fe2b72eaacbebd257f038df9">QPngHandlerPrivate::readPngTexts</a></div><div class="ttdeci">void readPngTexts(png_info *info)</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00391">qpnghandler.cpp:391</a></div></div>
<div class="ttc" id="classQImage_html_a21c6f77f876ef25965afcd9f412fe5ed"><div class="ttname"><a href="classQImage.html#a21c6f77f876ef25965afcd9f412fe5ed">QImage::isNull</a></div><div class="ttdeci">bool isNull() const</div><div class="ttdoc">Returns true if it is a null image, otherwise returns false. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l01542">qimage.cpp:1542</a></div></div>
<div class="ttc" id="qpnghandler_8cpp_html_ad4d39b9ef1162e761cd9a5736a739412"><div class="ttname"><a href="qpnghandler_8cpp.html#ad4d39b9ef1162e761cd9a5736a739412">FAST_SCAN_LINE</a></div><div class="ttdeci">#define FAST_SCAN_LINE(data, bpl, y)</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00099">qpnghandler.cpp:99</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a488f07c52d9106caff5f269a5ff107d3a7848a80134f165ba69412d1eeee8fb73"><div class="ttname"><a href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3a7848a80134f165ba69412d1eeee8fb73">QPngHandlerPrivate::ReadingEnd</a></div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00114">qpnghandler.cpp:114</a></div></div>
<div class="ttc" id="classQImage_html_ac673d1d5da391ecaaa9add4ff1b586ce"><div class="ttname"><a href="classQImage.html#ac673d1d5da391ecaaa9add4ff1b586ce">QImage::bytesPerLine</a></div><div class="ttdeci">int bytesPerLine() const</div><div class="ttdoc">Returns the number of bytes per image scanline. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l01812">qimage.cpp:1812</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a3ffd8eb5dcafbb419020a58aaa786c6c"><div class="ttname"><a href="classQPngHandlerPrivate.html#a3ffd8eb5dcafbb419020a58aaa786c6c">QPngHandlerPrivate::end_info</a></div><div class="ttdeci">png_info * end_info</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00130">qpnghandler.cpp:130</a></div></div>
<div class="ttc" id="classQImage_html_aa0017b14009d6a95b5fda586dc6adc89"><div class="ttname"><a href="classQImage.html#aa0017b14009d6a95b5fda586dc6adc89">QImage::format</a></div><div class="ttdeci">Format format() const</div><div class="ttdoc">Returns the format of the image. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l02305">qimage.cpp:2305</a></div></div>
<div class="ttc" id="qglobal_8h_html_a65f85814a8290f9797005d3b28e7e5fc"><div class="ttname"><a href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a></div><div class="ttdeci">unsigned char uchar</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l00994">qglobal.h:994</a></div></div>
<div class="ttc" id="classQImage_html_aed4e2e4a2dd334fc9797a06894c0c4e6"><div class="ttname"><a href="classQImage.html#aed4e2e4a2dd334fc9797a06894c0c4e6">QImage::setOffset</a></div><div class="ttdeci">void setOffset(const QPoint &amp;)</div><div class="ttdoc">Sets the number of pixels by which the image is intended to be offset by when positioning relative to...</div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l05705">qimage.cpp:5705</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a7564d3d455123dc8bdd6c00515f03bc8"><div class="ttname"><a href="classQPngHandlerPrivate.html#a7564d3d455123dc8bdd6c00515f03bc8">QPngHandlerPrivate::info_ptr</a></div><div class="ttdeci">png_info * info_ptr</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00129">qpnghandler.cpp:129</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a488f07c52d9106caff5f269a5ff107d3a065a4b67b4944ea456870ee7edaefb94"><div class="ttname"><a href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3a065a4b67b4944ea456870ee7edaefb94">QPngHandlerPrivate::Error</a></div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00115">qpnghandler.cpp:115</a></div></div>
<div class="ttc" id="classQImage_html_a2ee8dbbcd8390f423e73ce12a07ad054"><div class="ttname"><a href="classQImage.html#a2ee8dbbcd8390f423e73ce12a07ad054">QImage::setText</a></div><div class="ttdeci">void setText(const QString &amp;key, const QString &amp;value)</div><div class="ttdoc">Sets the image text to the given text and associate it with the given key. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l05780">qimage.cpp:5780</a></div></div>
<div class="ttc" id="classQList_html_ab32e1ab64b7837c2d0d7a89c4ca8d9c2"><div class="ttname"><a href="classQList.html#ab32e1ab64b7837c2d0d7a89c4ca8d9c2">QList::at</a></div><div class="ttdeci">const T &amp; at(int i) const</div><div class="ttdoc">Returns the item at index position i in the list. </div><div class="ttdef"><b>Definition:</b> <a href="qlist_8h_source.html#l00468">qlist.h:468</a></div></div>
<div class="ttc" id="qdbusmessage_8cpp_html_a4b86149e51ff4431f59ce6148820fb86"><div class="ttname"><a href="qdbusmessage_8cpp.html#a4b86149e51ff4431f59ce6148820fb86">data</a></div><div class="ttdeci">static const char * data(const QByteArray &amp;arr)</div><div class="ttdef"><b>Definition:</b> <a href="qdbusmessage_8cpp_source.html#l00060">qdbusmessage.cpp:60</a></div></div>
<div class="ttc" id="qglobal_8h_html_a91ad9478d81a7aaf2593e8d9c3d06a14"><div class="ttname"><a href="qglobal_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a></div><div class="ttdeci">unsigned int uint</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l00996">qglobal.h:996</a></div></div>
<div class="ttc" id="classQImage_html_a0b3a0ee2f89c6acca54c51ba7f33edd2"><div class="ttname"><a href="classQImage.html#a0b3a0ee2f89c6acca54c51ba7f33edd2">QImage::setDotsPerMeterY</a></div><div class="ttdeci">void setDotsPerMeterY(int)</div><div class="ttdoc">Sets the number of pixels that fit vertically in a physical meter, to y. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l05667">qimage.cpp:5667</a></div></div>
<div class="ttc" id="classQImage_html_afa946f31315267065159774c4cce4124"><div class="ttname"><a href="classQImage.html#afa946f31315267065159774c4cce4124">QImage::depth</a></div><div class="ttdeci">int depth() const</div><div class="ttdoc">Returns the depth of the image. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l01620">qimage.cpp:1620</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a1214ee5a629e43e39c283ccfe3a4fcec"><div class="ttname"><a href="classQPngHandlerPrivate.html#a1214ee5a629e43e39c283ccfe3a4fcec">QPngHandlerPrivate::state</a></div><div class="ttdeci">State state</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00139">qpnghandler.cpp:139</a></div></div>
<div class="ttc" id="classQImage_html_a73462e7ea76c229ccb77829986170388"><div class="ttname"><a href="classQImage.html#a73462e7ea76c229ccb77829986170388">QImage::bits</a></div><div class="ttdeci">uchar * bits()</div><div class="ttdoc">Returns a pointer to the first pixel data. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l01946">qimage.cpp:1946</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a6d23d3c5af6f59889beb226e78ef81bd"><div class="ttname"><a href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">QPngHandlerPrivate::png_ptr</a></div><div class="ttdeci">png_struct * png_ptr</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00128">qpnghandler.cpp:128</a></div></div>
<div class="ttc" id="classQImage_html_ac2c11158c917b5f0f19042b656a2203a"><div class="ttname"><a href="classQImage.html#ac2c11158c917b5f0f19042b656a2203a">QImage::setDotsPerMeterX</a></div><div class="ttdeci">void setDotsPerMeterX(int)</div><div class="ttdoc">Sets the number of pixels that fit horizontally in a physical meter, to x. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l05645">qimage.cpp:5645</a></div></div>
<div class="ttc" id="classQImage_html_ac9e178635f9c5e6b8b68a96e6ad5ef37"><div class="ttname"><a href="classQImage.html#ac9e178635f9c5e6b8b68a96e6ad5ef37">QImage::colorCount</a></div><div class="ttdeci">int colorCount() const</div><div class="ttdoc">Returns the size of the color table for the image. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l01656">qimage.cpp:1656</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a2d988f424b775e82be84bb56d8169fe6"><div class="ttname"><a href="classQPngHandlerPrivate.html#a2d988f424b775e82be84bb56d8169fe6">QPngHandlerPrivate::gamma</a></div><div class="ttdeci">float gamma</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00123">qpnghandler.cpp:123</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a8e26524210a58c1ac6103e03852e7a60"><div class="ttname"><a href="classQPngHandlerPrivate.html#a8e26524210a58c1ac6103e03852e7a60">QPngHandlerPrivate::row_pointers</a></div><div class="ttdeci">png_byte ** row_pointers</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00131">qpnghandler.cpp:131</a></div></div>
<div class="ttc" id="qrgb_8h_html_ad893ba1106079f0892fc33504a2879bd"><div class="ttname"><a href="qrgb_8h.html#ad893ba1106079f0892fc33504a2879bd">qRgb</a></div><div class="ttdeci">Q_GUI_EXPORT_INLINE QRgb qRgb(int r, int g, int b)</div><div class="ttdef"><b>Definition:</b> <a href="qrgb_8h_source.html#l00069">qrgb.h:69</a></div></div>
<div class="ttc" id="classQPoint_html"><div class="ttname"><a href="classQPoint.html">QPoint</a></div><div class="ttdoc">The QPoint class defines a point in the plane using integer precision. </div><div class="ttdef"><b>Definition:</b> <a href="qpoint_8h_source.html#l00053">qpoint.h:53</a></div></div>
<div class="ttc" id="classQList_html_aa83cded751888bb21257cb4890652809"><div class="ttname"><a href="classQList.html#aa83cded751888bb21257cb4890652809">QList::size</a></div><div class="ttdeci">int size() const</div><div class="ttdoc">Returns the number of items in the list. </div><div class="ttdef"><b>Definition:</b> <a href="qlist_8h_source.html#l00137">qlist.h:137</a></div></div>
<div class="ttc" id="qpnghandler_8cpp_html_a51da633e05bc6b0b5a2f583ae41ab808"><div class="ttname"><a href="qpnghandler_8cpp.html#a51da633e05bc6b0b5a2f583ae41ab808">setup_qt</a></div><div class="ttdeci">static void setup_qt(QImage &amp;image, png_structp png_ptr, png_infop info_ptr, float screen_gamma=0.0)</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00227">qpnghandler.cpp:227</a></div></div>
<div class="ttc" id="qt__cocoa__helpers__mac_8mm_html_a875104226bb2d18c4bead75b19e75065"><div class="ttname"><a href="qt__cocoa__helpers__mac_8mm.html#a875104226bb2d18c4bead75b19e75065">end</a></div><div class="ttdeci">static const KeyPair *const end</div><div class="ttdef"><b>Definition:</b> <a href="qt__cocoa__helpers__mac_8mm_source.html#l00652">qt_cocoa_helpers_mac.mm:652</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_aa5e1b371005e6c2915a92183316a3285"><div class="ttname"><a href="classQPngHandlerPrivate.html#aa5e1b371005e6c2915a92183316a3285">QPngHandlerPrivate::readTexts</a></div><div class="ttdeci">QStringList readTexts</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00126">qpnghandler.cpp:126</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a488f07c52d9106caff5f269a5ff107d3abd2724454ac71a3716973eb2944c13f0"><div class="ttname"><a href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3abd2724454ac71a3716973eb2944c13f0">QPngHandlerPrivate::Ready</a></div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00112">qpnghandler.cpp:112</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a22364a91fe2b72eaacbebd257f038df9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22364a91fe2b72eaacbebd257f038df9">&#9670;&nbsp;</a></span>readPngTexts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="qpnghandler_8cpp.html#a06ab9d197f8affe16c04808b24ffd021">Q_INTERNAL_WIN_NO_THROW</a> QPngHandlerPrivate::readPngTexts </td>
          <td>(</td>
          <td class="paramtype">png_info *&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section warning"><dt>Warning</dt><dd>This function is not part of the public interface. </dd></dl>

<p class="definition">Definition at line <a class="el" href="qpnghandler_8cpp_source.html#l00391">391</a> of file <a class="el" href="qpnghandler_8cpp_source.html">qpnghandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qpnghandler_8cpp_source.html#l00423">readPngHeader()</a>, and <a class="el" href="qpnghandler_8cpp_source.html#l00464">readPngImage()</a>.</p>
<div class="fragment"><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;{</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="preprocessor">#ifndef QT_NO_IMAGE_TEXT</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    png_textp text_ptr;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordtype">int</span> num_text=0;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    png_get_text(<a class="code" href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">png_ptr</a>, <a class="code" href="qelapsedtimer__mac_8cpp.html#aa73cc0d6f0ccfa40c6cb4f7509896845">info</a>, &amp;text_ptr, &amp;num_text);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordflow">while</span> (num_text--) {</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <a class="code" href="classQString.html">QString</a> <a class="code" href="qkeysequence_8cpp.html#a35af0be900467fedbb610bd6ea65ed78">key</a>, value;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        key = <a class="code" href="classQString.html#a09b8b144ffd130ce7d065bacf7cd495e">QString::fromLatin1</a>(text_ptr-&gt;key);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="preprocessor">#if defined(PNG_iTXt_SUPPORTED)</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <span class="keywordflow">if</span> (text_ptr-&gt;itxt_length) {</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            value = <a class="code" href="classQString.html#ad7f4d0a383890ee85bcbfe7b2b7c7b4c">QString::fromUtf8</a>(text_ptr-&gt;text, <span class="keywordtype">int</span>(text_ptr-&gt;itxt_length));</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        } <span class="keywordflow">else</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        {</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            value = <a class="code" href="classQString.html#a09b8b144ffd130ce7d065bacf7cd495e">QString::fromLatin1</a>(text_ptr-&gt;text, <span class="keywordtype">int</span>(text_ptr-&gt;text_length));</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        }</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classQPngHandlerPrivate.html#a99733efd90526e328d309896de4331f5">description</a>.<a class="code" href="classQString.html#aa032d4b5892338beb575a85e59bbbf38">isEmpty</a>())</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            <a class="code" href="classQPngHandlerPrivate.html#a99733efd90526e328d309896de4331f5">description</a> += <a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;\n\n&quot;</span>);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <a class="code" href="classQPngHandlerPrivate.html#a99733efd90526e328d309896de4331f5">description</a> += key + <a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;: &quot;</span>) + value.<a class="code" href="classQString.html#a9c2a096c813373c11643e07e7c23680b">simplified</a>();</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <a class="code" href="classQPngHandlerPrivate.html#aa5e1b371005e6c2915a92183316a3285">readTexts</a>.<a class="code" href="classQList.html#a3a1e18c5fb9cc04324825a46540638c5">append</a>(key);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <a class="code" href="classQPngHandlerPrivate.html#aa5e1b371005e6c2915a92183316a3285">readTexts</a>.<a class="code" href="classQList.html#a3a1e18c5fb9cc04324825a46540638c5">append</a>(value);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        text_ptr++;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    }</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;}</div><div class="ttc" id="qelapsedtimer__mac_8cpp_html_aa73cc0d6f0ccfa40c6cb4f7509896845"><div class="ttname"><a href="qelapsedtimer__mac_8cpp.html#aa73cc0d6f0ccfa40c6cb4f7509896845">info</a></div><div class="ttdeci">static mach_timebase_info_data_t info</div><div class="ttdef"><b>Definition:</b> <a href="qelapsedtimer__mac_8cpp_source.html#l00060">qelapsedtimer_mac.cpp:60</a></div></div>
<div class="ttc" id="qdbusservicewatcher_8cpp_html_a81beb56f94d46874cfa290c3d712024d"><div class="ttname"><a href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a></div><div class="ttdeci">QLatin1String(DBUS_INTERFACE_DBUS))) Q_GLOBAL_STATIC_WITH_ARGS(QString</div></div>
<div class="ttc" id="classQString_html"><div class="ttname"><a href="classQString.html">QString</a></div><div class="ttdoc">The QString class provides a Unicode character string. </div><div class="ttdef"><b>Definition:</b> <a href="qstring_8h_source.html#l00083">qstring.h:83</a></div></div>
<div class="ttc" id="classQList_html_a3a1e18c5fb9cc04324825a46540638c5"><div class="ttname"><a href="classQList.html#a3a1e18c5fb9cc04324825a46540638c5">QList::append</a></div><div class="ttdeci">void append(const T &amp;t)</div><div class="ttdoc">Inserts value at the end of the list. </div><div class="ttdef"><b>Definition:</b> <a href="qlist_8h_source.html#l00507">qlist.h:507</a></div></div>
<div class="ttc" id="classQString_html_aa032d4b5892338beb575a85e59bbbf38"><div class="ttname"><a href="classQString.html#aa032d4b5892338beb575a85e59bbbf38">QString::isEmpty</a></div><div class="ttdeci">bool isEmpty() const</div><div class="ttdoc">Returns true if the string has no characters; otherwise returns false. </div><div class="ttdef"><b>Definition:</b> <a href="qstring_8h_source.html#l00704">qstring.h:704</a></div></div>
<div class="ttc" id="classQString_html_ad7f4d0a383890ee85bcbfe7b2b7c7b4c"><div class="ttname"><a href="classQString.html#ad7f4d0a383890ee85bcbfe7b2b7c7b4c">QString::fromUtf8</a></div><div class="ttdeci">static QString fromUtf8(const char *, int size=-1)</div><div class="ttdoc">Returns a QString initialized with the first size bytes of the UTF-8 string str. </div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l04302">qstring.cpp:4302</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a6d23d3c5af6f59889beb226e78ef81bd"><div class="ttname"><a href="classQPngHandlerPrivate.html#a6d23d3c5af6f59889beb226e78ef81bd">QPngHandlerPrivate::png_ptr</a></div><div class="ttdeci">png_struct * png_ptr</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00128">qpnghandler.cpp:128</a></div></div>
<div class="ttc" id="classQString_html_a9c2a096c813373c11643e07e7c23680b"><div class="ttname"><a href="classQString.html#a9c2a096c813373c11643e07e7c23680b">QString::simplified</a></div><div class="ttdeci">QString simplified() const Q_REQUIRED_RESULT</div><div class="ttdoc">Returns a string that has whitespace removed from the start and the end, and that has each sequence o...</div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l04415">qstring.cpp:4415</a></div></div>
<div class="ttc" id="classQString_html_a09b8b144ffd130ce7d065bacf7cd495e"><div class="ttname"><a href="classQString.html#a09b8b144ffd130ce7d065bacf7cd495e">QString::fromLatin1</a></div><div class="ttdeci">static QString fromLatin1(const char *, int size=-1)</div><div class="ttdoc">Returns a QString initialized with the first size characters of the Latin-1 string str...</div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l04188">qstring.cpp:4188</a></div></div>
<div class="ttc" id="qkeysequence_8cpp_html_a35af0be900467fedbb610bd6ea65ed78"><div class="ttname"><a href="qkeysequence_8cpp.html#a35af0be900467fedbb610bd6ea65ed78">key</a></div><div class="ttdeci">int key</div><div class="ttdef"><b>Definition:</b> <a href="qkeysequence_8cpp_source.html#l00395">qkeysequence.cpp:395</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_aa5e1b371005e6c2915a92183316a3285"><div class="ttname"><a href="classQPngHandlerPrivate.html#aa5e1b371005e6c2915a92183316a3285">QPngHandlerPrivate::readTexts</a></div><div class="ttdeci">QStringList readTexts</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00126">qpnghandler.cpp:126</a></div></div>
<div class="ttc" id="classQPngHandlerPrivate_html_a99733efd90526e328d309896de4331f5"><div class="ttname"><a href="classQPngHandlerPrivate.html#a99733efd90526e328d309896de4331f5">QPngHandlerPrivate::description</a></div><div class="ttdeci">QString description</div><div class="ttdef"><b>Definition:</b> <a href="qpnghandler_8cpp_source.html#l00125">qpnghandler.cpp:125</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Properties</h2>
<a id="a99733efd90526e328d309896de4331f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99733efd90526e328d309896de4331f5">&#9670;&nbsp;</a></span>description</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQString.html">QString</a> QPngHandlerPrivate::description</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qpnghandler_8cpp_source.html#l00125">125</a> of file <a class="el" href="qpnghandler_8cpp_source.html">qpnghandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qpnghandler_8cpp_source.html#l00983">QPngHandler::option()</a>, <a class="el" href="qpnghandler_8cpp_source.html#l00391">readPngTexts()</a>, <a class="el" href="qpnghandler_8cpp_source.html#l01004">QPngHandler::setOption()</a>, and <a class="el" href="qpnghandler_8cpp_source.html#l00969">QPngHandler::write()</a>.</p>

</div>
</div>
<a id="a3ffd8eb5dcafbb419020a58aaa786c6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ffd8eb5dcafbb419020a58aaa786c6c">&#9670;&nbsp;</a></span>end_info</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">png_info* QPngHandlerPrivate::end_info</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qpnghandler_8cpp_source.html#l00130">130</a> of file <a class="el" href="qpnghandler_8cpp_source.html">qpnghandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qpnghandler_8cpp_source.html#l00423">readPngHeader()</a>, <a class="el" href="qpnghandler_8cpp_source.html#l00464">readPngImage()</a>, and <a class="el" href="qpnghandler_8cpp_source.html#l00932">QPngHandler::~QPngHandler()</a>.</p>

</div>
</div>
<a id="a2d988f424b775e82be84bb56d8169fe6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d988f424b775e82be84bb56d8169fe6">&#9670;&nbsp;</a></span>gamma</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float QPngHandlerPrivate::gamma</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qpnghandler_8cpp_source.html#l00123">123</a> of file <a class="el" href="qpnghandler_8cpp_source.html">qpnghandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qpnghandler_8cpp_source.html#l00983">QPngHandler::option()</a>, <a class="el" href="qpnghandler_8cpp_source.html#l00464">readPngImage()</a>, <a class="el" href="qpnghandler_8cpp_source.html#l01004">QPngHandler::setOption()</a>, and <a class="el" href="qpnghandler_8cpp_source.html#l00969">QPngHandler::write()</a>.</p>

</div>
</div>
<a id="a7564d3d455123dc8bdd6c00515f03bc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7564d3d455123dc8bdd6c00515f03bc8">&#9670;&nbsp;</a></span>info_ptr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">png_info* QPngHandlerPrivate::info_ptr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qpnghandler_8cpp_source.html#l00129">129</a> of file <a class="el" href="qpnghandler_8cpp_source.html">qpnghandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qpnghandler_8cpp_source.html#l00983">QPngHandler::option()</a>, <a class="el" href="qpnghandler_8cpp_source.html#l00569">readImageFormat()</a>, <a class="el" href="qpnghandler_8cpp_source.html#l00423">readPngHeader()</a>, <a class="el" href="qpnghandler_8cpp_source.html#l00464">readPngImage()</a>, and <a class="el" href="qpnghandler_8cpp_source.html#l00932">QPngHandler::~QPngHandler()</a>.</p>

</div>
</div>
<a id="a6d23d3c5af6f59889beb226e78ef81bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d23d3c5af6f59889beb226e78ef81bd">&#9670;&nbsp;</a></span>png_ptr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">png_struct* QPngHandlerPrivate::png_ptr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qpnghandler_8cpp_source.html#l00128">128</a> of file <a class="el" href="qpnghandler_8cpp_source.html">qpnghandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qpnghandler_8cpp_source.html#l00983">QPngHandler::option()</a>, <a class="el" href="qpnghandler_8cpp_source.html#l00569">readImageFormat()</a>, <a class="el" href="qpnghandler_8cpp_source.html#l00423">readPngHeader()</a>, <a class="el" href="qpnghandler_8cpp_source.html#l00464">readPngImage()</a>, <a class="el" href="qpnghandler_8cpp_source.html#l00391">readPngTexts()</a>, and <a class="el" href="qpnghandler_8cpp_source.html#l00932">QPngHandler::~QPngHandler()</a>.</p>

</div>
</div>
<a id="a2c53d4327eccd19eee152ba3cccc0fec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c53d4327eccd19eee152ba3cccc0fec">&#9670;&nbsp;</a></span>q</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQPngHandler.html">QPngHandler</a>* QPngHandlerPrivate::q</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qpnghandler_8cpp_source.html#l00141">141</a> of file <a class="el" href="qpnghandler_8cpp_source.html">qpnghandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qpnghandler_8cpp_source.html#l00179">iod_read_fn()</a>.</p>

</div>
</div>
<a id="a96fd007ca79eea47c24f68d767fcd5ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96fd007ca79eea47c24f68d767fcd5ae">&#9670;&nbsp;</a></span>quality</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int QPngHandlerPrivate::quality</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qpnghandler_8cpp_source.html#l00124">124</a> of file <a class="el" href="qpnghandler_8cpp_source.html">qpnghandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qpnghandler_8cpp_source.html#l00983">QPngHandler::option()</a>, <a class="el" href="qpnghandler_8cpp_source.html#l01004">QPngHandler::setOption()</a>, and <a class="el" href="qpnghandler_8cpp_source.html#l00969">QPngHandler::write()</a>.</p>

</div>
</div>
<a id="aa5e1b371005e6c2915a92183316a3285"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5e1b371005e6c2915a92183316a3285">&#9670;&nbsp;</a></span>readTexts</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQStringList.html">QStringList</a> QPngHandlerPrivate::readTexts</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qpnghandler_8cpp_source.html#l00126">126</a> of file <a class="el" href="qpnghandler_8cpp_source.html">qpnghandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qpnghandler_8cpp_source.html#l00464">readPngImage()</a>, and <a class="el" href="qpnghandler_8cpp_source.html#l00391">readPngTexts()</a>.</p>

</div>
</div>
<a id="a8e26524210a58c1ac6103e03852e7a60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e26524210a58c1ac6103e03852e7a60">&#9670;&nbsp;</a></span>row_pointers</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">png_byte** QPngHandlerPrivate::row_pointers</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qpnghandler_8cpp_source.html#l00131">131</a> of file <a class="el" href="qpnghandler_8cpp_source.html">qpnghandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qpnghandler_8cpp_source.html#l00464">readPngImage()</a>.</p>

</div>
</div>
<a id="a1214ee5a629e43e39c283ccfe3a4fcec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1214ee5a629e43e39c283ccfe3a4fcec">&#9670;&nbsp;</a></span>state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQPngHandlerPrivate.html#a488f07c52d9106caff5f269a5ff107d3">State</a> QPngHandlerPrivate::state</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qpnghandler_8cpp_source.html#l00139">139</a> of file <a class="el" href="qpnghandler_8cpp_source.html">qpnghandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qpnghandler_8cpp_source.html#l00939">QPngHandler::canRead()</a>, <a class="el" href="qpnghandler_8cpp_source.html#l00179">iod_read_fn()</a>, <a class="el" href="qpnghandler_8cpp_source.html#l00983">QPngHandler::option()</a>, <a class="el" href="qpnghandler_8cpp_source.html#l00423">readPngHeader()</a>, and <a class="el" href="qpnghandler_8cpp_source.html#l00464">readPngImage()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/src/gui/image/<a class="el" href="qpnghandler_8cpp_source.html">qpnghandler.cpp</a></li>
</ul>
</div><!-- contents -->

<hr class="footer"/><address class="footer"><small><a href="https://dreamswork.github.io/qt4/">Qt 4.8 Source Code Browser</a></small></address>
</body>
</html>
