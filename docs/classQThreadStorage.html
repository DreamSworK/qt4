<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Qt 4.8: QThreadStorage&lt; T &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="qt_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Qt 4.8
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0"
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Functions</a> &#124;
<a href="#pri-static-methods">Static Private Functions</a> &#124;
<a href="#pri-attribs">Properties</a> &#124;
<a href="classQThreadStorage-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">QThreadStorage&lt; T &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="classQThreadStorage.html" title="The QThreadStorage class provides per-thread data storage. ">QThreadStorage</a> class provides per-thread data storage.
 <a href="classQThreadStorage.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="qthreadstorage_8h_source.html">qthreadstorage.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Functions</h2></td></tr>
<tr class="memitem:ab0821ede7bda260f6ab9138c1339f7c3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQThreadStorage.html#ab0821ede7bda260f6ab9138c1339f7c3">hasLocalData</a> () const</td></tr>
<tr class="memdesc:ab0821ede7bda260f6ab9138c1339f7c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">If T is a pointer type, returns true if the calling thread has non-zero data available.  <a href="#ab0821ede7bda260f6ab9138c1339f7c3">More...</a><br /></td></tr>
<tr class="separator:ab0821ede7bda260f6ab9138c1339f7c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66dc50f552220f58bce6694fa918bfdd"><td class="memItemLeft" align="right" valign="top">T &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQThreadStorage.html#a66dc50f552220f58bce6694fa918bfdd">localData</a> ()</td></tr>
<tr class="memdesc:a66dc50f552220f58bce6694fa918bfdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a reference to the data that was set by the calling thread.  <a href="#a66dc50f552220f58bce6694fa918bfdd">More...</a><br /></td></tr>
<tr class="separator:a66dc50f552220f58bce6694fa918bfdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58212c8d8066a35d5ef4a8516ecbe0c7"><td class="memItemLeft" align="right" valign="top">T&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQThreadStorage.html#a58212c8d8066a35d5ef4a8516ecbe0c7">localData</a> () const</td></tr>
<tr class="memdesc:a58212c8d8066a35d5ef4a8516ecbe0c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a copy of the data that was set by the calling thread.  <a href="#a58212c8d8066a35d5ef4a8516ecbe0c7">More...</a><br /></td></tr>
<tr class="separator:a58212c8d8066a35d5ef4a8516ecbe0c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2e8cf9ffd64355ff6611fc65dd205f3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQThreadStorage.html#aa2e8cf9ffd64355ff6611fc65dd205f3">QThreadStorage</a> ()</td></tr>
<tr class="memdesc:aa2e8cf9ffd64355ff6611fc65dd205f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a new per-thread data storage object.  <a href="#aa2e8cf9ffd64355ff6611fc65dd205f3">More...</a><br /></td></tr>
<tr class="separator:aa2e8cf9ffd64355ff6611fc65dd205f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1975065acb6a41ef9b1b19d619f21066"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQThreadStorage.html#a1975065acb6a41ef9b1b19d619f21066">setLocalData</a> (T t)</td></tr>
<tr class="memdesc:a1975065acb6a41ef9b1b19d619f21066"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the local data for the calling thread to <em>data</em>.  <a href="#a1975065acb6a41ef9b1b19d619f21066">More...</a><br /></td></tr>
<tr class="separator:a1975065acb6a41ef9b1b19d619f21066"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ab782a7b0db37708e5cbdaebe03c9c6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQThreadStorage.html#a9ab782a7b0db37708e5cbdaebe03c9c6">~QThreadStorage</a> ()</td></tr>
<tr class="memdesc:a9ab782a7b0db37708e5cbdaebe03c9c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys the per-thread data storage object.  <a href="#a9ab782a7b0db37708e5cbdaebe03c9c6">More...</a><br /></td></tr>
<tr class="separator:a9ab782a7b0db37708e5cbdaebe03c9c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Functions</h2></td></tr>
<tr class="memitem:ab28c97c27406c0608997564c8efa2b3c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQThreadStorage.html#ab28c97c27406c0608997564c8efa2b3c">deleteData</a> (void *x)</td></tr>
<tr class="separator:ab28c97c27406c0608997564c8efa2b3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Properties</h2></td></tr>
<tr class="memitem:a38a6c2266b61a9ef7de6ca751ed58e6e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classQThreadStorageData.html">QThreadStorageData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQThreadStorage.html#a38a6c2266b61a9ef7de6ca751ed58e6e">d</a></td></tr>
<tr class="separator:a38a6c2266b61a9ef7de6ca751ed58e6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class T&gt;<br />
class QThreadStorage&lt; T &gt;</h3>

<p>The <a class="el" href="classQThreadStorage.html" title="The QThreadStorage class provides per-thread data storage. ">QThreadStorage</a> class provides per-thread data storage. </p>
<dl class="section note"><dt>Note</dt><dd>This class or function is <b>threadsafe</b>.</dd></dl>
<p><a class="el" href="classQThreadStorage.html" title="The QThreadStorage class provides per-thread data storage. ">QThreadStorage</a> is a template class that provides per-thread data storage.</p>
<p>The <a class="el" href="classQThreadStorage.html#a1975065acb6a41ef9b1b19d619f21066" title="Sets the local data for the calling thread to data. ">setLocalData()</a> function stores a single thread-specific value for the calling thread. The data can be accessed later using <a class="el" href="classQThreadStorage.html#a66dc50f552220f58bce6694fa918bfdd" title="Returns a reference to the data that was set by the calling thread. ">localData()</a>.</p>
<p>The <a class="el" href="classQThreadStorage.html#ab0821ede7bda260f6ab9138c1339f7c3" title="If T is a pointer type, returns true if the calling thread has non-zero data available. ">hasLocalData()</a> function allows the programmer to determine if data has previously been set using the <a class="el" href="classQThreadStorage.html#a1975065acb6a41ef9b1b19d619f21066" title="Sets the local data for the calling thread to data. ">setLocalData()</a> function. This is also useful for lazy initializiation.</p>
<p>If T is a pointer type, <a class="el" href="classQThreadStorage.html" title="The QThreadStorage class provides per-thread data storage. ">QThreadStorage</a> takes ownership of the data (which must be created on the heap with <code>new</code>) and deletes it when the thread exits, either normally or via termination.</p>
<p>For example, the following code uses <a class="el" href="classQThreadStorage.html" title="The QThreadStorage class provides per-thread data storage. ">QThreadStorage</a> to store a single cache for each thread that calls the cacheObject() and removeFromCache() functions. The cache is automatically deleted when the calling thread exits.</p>
<div class="fragment"><div class="line"><a class="code" href="classQThreadStorage.html">QThreadStorage&lt;QCache&lt;QString, SomeClass&gt;</a> &gt; caches;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> cacheObject(<span class="keyword">const</span> <a class="code" href="classQString.html">QString</a> &amp;<a class="code" href="qkeysequence_8cpp.html#a35af0be900467fedbb610bd6ea65ed78">key</a>, SomeClass *<span class="keywordtype">object</span>)</div></div><!-- fragment --> <div class="fragment"><div class="line">{</div><div class="line">    caches.<a class="code" href="classQThreadStorage.html#a66dc50f552220f58bce6694fa918bfdd">localData</a>().insert(key, <span class="keywordtype">object</span>);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> removeFromCache(<span class="keyword">const</span> <a class="code" href="classQString.html">QString</a> &amp;key)</div></div><!-- fragment --> <div class="fragment"><div class="line">{</div><div class="line">    <span class="keywordflow">if</span> (!caches.<a class="code" href="classQThreadStorage.html#ab0821ede7bda260f6ab9138c1339f7c3">hasLocalData</a>())</div><div class="line">        <span class="keywordflow">return</span>;</div><div class="line"></div><div class="line">    caches.<a class="code" href="classQThreadStorage.html#a66dc50f552220f58bce6694fa918bfdd">localData</a>().remove(key);</div><div class="line">}</div></div><!-- fragment --><p> <a class="anchor" id="Caveats"></a></p><h3>Caveats</h3>
<ul>
<li>
<p class="startli">The <a class="el" href="classQThreadStorage.html" title="The QThreadStorage class provides per-thread data storage. ">QThreadStorage</a> destructor does not delete per-thread data. <a class="el" href="classQThreadStorage.html" title="The QThreadStorage class provides per-thread data storage. ">QThreadStorage</a> only deletes per-thread data when the thread exits or when <a class="el" href="classQThreadStorage.html#a1975065acb6a41ef9b1b19d619f21066" title="Sets the local data for the calling thread to data. ">setLocalData()</a> is called multiple times.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><a class="el" href="classQThreadStorage.html" title="The QThreadStorage class provides per-thread data storage. ">QThreadStorage</a> can be used to store data for the <code><a class="el" href="qaxmain_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main()</a></code> thread. <a class="el" href="classQThreadStorage.html" title="The QThreadStorage class provides per-thread data storage. ">QThreadStorage</a> deletes all data set for the <code><a class="el" href="qaxmain_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main()</a></code> thread when <a class="el" href="classQApplication.html" title="The QApplication class manages the GUI application&#39;s control flow and main settings. ">QApplication</a> is destroyed, regardless of whether or not the <code><a class="el" href="qaxmain_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main()</a></code> thread has actually finished.</p>
<p class="endli"></p>
</li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classQThread.html" title="The QThread class provides a platform-independent way to manage threads. ">QThread</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qthreadstorage_8h_source.html#l00132">132</a> of file <a class="el" href="qthreadstorage_8h_source.html">qthreadstorage.h</a>.</p>
</div><h2 class="groupheader">Constructors and Destructors</h2>
<a id="aa2e8cf9ffd64355ff6611fc65dd205f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2e8cf9ffd64355ff6611fc65dd205f3">&#9670;&nbsp;</a></span>QThreadStorage()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQThreadStorage.html">QThreadStorage</a>&lt; T &gt;::<a class="el" href="classQThreadStorage.html">QThreadStorage</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a new per-thread data storage object. </p>

<p class="definition">Definition at line <a class="el" href="qthreadstorage_8h_source.html#l00143">143</a> of file <a class="el" href="qthreadstorage_8h_source.html">qthreadstorage.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;: <a class="code" href="classQThreadStorage.html#a38a6c2266b61a9ef7de6ca751ed58e6e">d</a>(<a class="code" href="classQThreadStorage.html#ab28c97c27406c0608997564c8efa2b3c">deleteData</a>) { }</div><div class="ttc" id="classQThreadStorage_html_ab28c97c27406c0608997564c8efa2b3c"><div class="ttname"><a href="classQThreadStorage.html#ab28c97c27406c0608997564c8efa2b3c">QThreadStorage::deleteData</a></div><div class="ttdeci">static void deleteData(void *x)</div><div class="ttdef"><b>Definition:</b> <a href="qthreadstorage_8h_source.html#l00139">qthreadstorage.h:139</a></div></div>
<div class="ttc" id="classQThreadStorage_html_a38a6c2266b61a9ef7de6ca751ed58e6e"><div class="ttname"><a href="classQThreadStorage.html#a38a6c2266b61a9ef7de6ca751ed58e6e">QThreadStorage::d</a></div><div class="ttdeci">QThreadStorageData d</div><div class="ttdef"><b>Definition:</b> <a href="qthreadstorage_8h_source.html#l00135">qthreadstorage.h:135</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9ab782a7b0db37708e5cbdaebe03c9c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ab782a7b0db37708e5cbdaebe03c9c6">&#9670;&nbsp;</a></span>~QThreadStorage()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQThreadStorage.html">QThreadStorage</a>&lt; T &gt;::~<a class="el" href="classQThreadStorage.html">QThreadStorage</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destroys the per-thread data storage object. </p>
<p>Note: The per-thread data stored is not deleted. Any data left in <a class="el" href="classQThreadStorage.html" title="The QThreadStorage class provides per-thread data storage. ">QThreadStorage</a> is leaked. Make sure that all threads using <a class="el" href="classQThreadStorage.html" title="The QThreadStorage class provides per-thread data storage. ">QThreadStorage</a> have exited before deleting the <a class="el" href="classQThreadStorage.html" title="The QThreadStorage class provides per-thread data storage. ">QThreadStorage</a>.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classQThreadStorage.html#ab0821ede7bda260f6ab9138c1339f7c3" title="If T is a pointer type, returns true if the calling thread has non-zero data available. ">hasLocalData()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qthreadstorage_8h_source.html#l00144">144</a> of file <a class="el" href="qthreadstorage_8h_source.html">qthreadstorage.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;{ }</div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Functions</h2>
<a id="ab28c97c27406c0608997564c8efa2b3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab28c97c27406c0608997564c8efa2b3c">&#9670;&nbsp;</a></span>deleteData()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="classQThreadStorage.html">QThreadStorage</a>&lt; T &gt;::deleteData </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qthreadstorage_8h_source.html#l00139">139</a> of file <a class="el" href="qthreadstorage_8h_source.html">qthreadstorage.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    { <a class="code" href="qthreadstorage_8h.html#a92ac2f1cf9f3c25b84254e419d0e16d4">qThreadStorage_deleteData</a>(x, reinterpret_cast&lt;T*&gt;(0)); }</div><div class="ttc" id="qthreadstorage_8h_html_a92ac2f1cf9f3c25b84254e419d0e16d4"><div class="ttname"><a href="qthreadstorage_8h.html#a92ac2f1cf9f3c25b84254e419d0e16d4">qThreadStorage_deleteData</a></div><div class="ttdeci">void qThreadStorage_deleteData(void *d, T **)</div><div class="ttdef"><b>Definition:</b> <a href="qthreadstorage_8h_source.html#l00096">qthreadstorage.h:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab0821ede7bda260f6ab9138c1339f7c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0821ede7bda260f6ab9138c1339f7c3">&#9670;&nbsp;</a></span>hasLocalData()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classQThreadStorage.html">QThreadStorage</a>&lt; T &gt;::hasLocalData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If T is a pointer type, returns true if the calling thread has non-zero data available. </p>
<p>If T is a value type, returns whether the data has already been constructed by calling setLocalData or localData.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classQThreadStorage.html#a66dc50f552220f58bce6694fa918bfdd" title="Returns a reference to the data that was set by the calling thread. ">localData()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qthreadstorage_8h_source.html#l00146">146</a> of file <a class="el" href="qthreadstorage_8h_source.html">qthreadstorage.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="qfont_8cpp_source.html#l02927">QFontCache::cleanup()</a>, <a class="el" href="quuid_8cpp_source.html#l00897">QUuid::createUuid()</a>, and <a class="el" href="qhttpthreaddelegate_8cpp_source.html#l00240">QHttpThreadDelegate::startRequest()</a>.</p>
<div class="fragment"><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    { <span class="keywordflow">return</span> <a class="code" href="classQThreadStorage.html#a38a6c2266b61a9ef7de6ca751ed58e6e">d</a>.<a class="code" href="classQThreadStorageData.html#ac50847c62c2f8d3f9128160221f715a7">get</a>() != 0; }</div><div class="ttc" id="classQThreadStorage_html_a38a6c2266b61a9ef7de6ca751ed58e6e"><div class="ttname"><a href="classQThreadStorage.html#a38a6c2266b61a9ef7de6ca751ed58e6e">QThreadStorage::d</a></div><div class="ttdeci">QThreadStorageData d</div><div class="ttdef"><b>Definition:</b> <a href="qthreadstorage_8h_source.html#l00135">qthreadstorage.h:135</a></div></div>
<div class="ttc" id="classQThreadStorageData_html_ac50847c62c2f8d3f9128160221f715a7"><div class="ttname"><a href="classQThreadStorageData.html#ac50847c62c2f8d3f9128160221f715a7">QThreadStorageData::get</a></div><div class="ttdeci">void ** get() const</div><div class="ttdef"><b>Definition:</b> <a href="qthreadstorage_8cpp_source.html#l00117">qthreadstorage.cpp:117</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a66dc50f552220f58bce6694fa918bfdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66dc50f552220f58bce6694fa918bfdd">&#9670;&nbsp;</a></span>localData() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T &amp; <a class="el" href="classQThreadStorage.html">QThreadStorage</a>&lt; T &gt;::localData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a reference to the data that was set by the calling thread. </p>
<p>If no data has been set, this will create a default constructed instance of type T.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classQThreadStorage.html#ab0821ede7bda260f6ab9138c1339f7c3" title="If T is a pointer type, returns true if the calling thread has non-zero data available. ">hasLocalData()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qthreadstorage_8h_source.html#l00149">149</a> of file <a class="el" href="qthreadstorage_8h_source.html">qthreadstorage.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="qiconvcodec_8cpp_source.html#l00335">QIconvCodec::convertFromUnicode()</a>, <a class="el" href="qplatformglcontext__qpa_8cpp_source.html#l00100">QPlatformGLContext::currentContext()</a>, <a class="el" href="qplatformglcontext__qpa_8cpp_source.html#l00083">QPlatformGLContextPrivate::setCurrentContext()</a>, <a class="el" href="qglengineshadermanager_8cpp_source.html#l00058">QGLShaderStorage::shadersForThread()</a>, <a class="el" href="qsharednetworksession_8cpp_source.html#l00052">sharedNetworkSessionManager()</a>, <a class="el" href="qhttpthreaddelegate_8cpp_source.html#l00240">QHttpThreadDelegate::startRequest()</a>, and <a class="el" href="qhttpthreaddelegate_8cpp_source.html#l00214">QHttpThreadDelegate::startRequestSynchronously()</a>.</p>
<div class="fragment"><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    { <span class="keywordflow">return</span> <a class="code" href="qthreadstorage_8h.html#a99fd4c3e6b1254e1eb272d1c1efa372e">qThreadStorage_localData</a>(<a class="code" href="classQThreadStorage.html#a38a6c2266b61a9ef7de6ca751ed58e6e">d</a>, reinterpret_cast&lt;T*&gt;(0)); }</div><div class="ttc" id="qthreadstorage_8h_html_a99fd4c3e6b1254e1eb272d1c1efa372e"><div class="ttname"><a href="qthreadstorage_8h.html#a99fd4c3e6b1254e1eb272d1c1efa372e">qThreadStorage_localData</a></div><div class="ttdeci">T *&amp; qThreadStorage_localData(QThreadStorageData &amp;d, T **)</div><div class="ttdef"><b>Definition:</b> <a href="qthreadstorage_8h_source.html#l00074">qthreadstorage.h:74</a></div></div>
<div class="ttc" id="classQThreadStorage_html_a38a6c2266b61a9ef7de6ca751ed58e6e"><div class="ttname"><a href="classQThreadStorage.html#a38a6c2266b61a9ef7de6ca751ed58e6e">QThreadStorage::d</a></div><div class="ttdeci">QThreadStorageData d</div><div class="ttdef"><b>Definition:</b> <a href="qthreadstorage_8h_source.html#l00135">qthreadstorage.h:135</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a58212c8d8066a35d5ef4a8516ecbe0c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58212c8d8066a35d5ef4a8516ecbe0c7">&#9670;&nbsp;</a></span>localData() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const T <a class="el" href="classQThreadStorage.html">QThreadStorage</a>&lt; T &gt;::localData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a copy of the data that was set by the calling thread. </p>
<p>This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classQThreadStorage.html#ab0821ede7bda260f6ab9138c1339f7c3" title="If T is a pointer type, returns true if the calling thread has non-zero data available. ">hasLocalData()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qthreadstorage_8h_source.html#l00151">151</a> of file <a class="el" href="qthreadstorage_8h_source.html">qthreadstorage.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    { <span class="keywordflow">return</span> <a class="code" href="qthreadstorage_8h.html#abc6bd705a151f708a05d6ff9dab7f4ab">qThreadStorage_localData_const</a>(<a class="code" href="classQThreadStorage.html#a38a6c2266b61a9ef7de6ca751ed58e6e">d</a>, reinterpret_cast&lt;T*&gt;(0)); }</div><div class="ttc" id="classQThreadStorage_html_a38a6c2266b61a9ef7de6ca751ed58e6e"><div class="ttname"><a href="classQThreadStorage.html#a38a6c2266b61a9ef7de6ca751ed58e6e">QThreadStorage::d</a></div><div class="ttdeci">QThreadStorageData d</div><div class="ttdef"><b>Definition:</b> <a href="qthreadstorage_8h_source.html#l00135">qthreadstorage.h:135</a></div></div>
<div class="ttc" id="qthreadstorage_8h_html_abc6bd705a151f708a05d6ff9dab7f4ab"><div class="ttname"><a href="qthreadstorage_8h.html#abc6bd705a151f708a05d6ff9dab7f4ab">qThreadStorage_localData_const</a></div><div class="ttdeci">T * qThreadStorage_localData_const(const QThreadStorageData &amp;d, T **)</div><div class="ttdef"><b>Definition:</b> <a href="qthreadstorage_8h_source.html#l00083">qthreadstorage.h:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1975065acb6a41ef9b1b19d619f21066"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1975065acb6a41ef9b1b19d619f21066">&#9670;&nbsp;</a></span>setLocalData()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classQThreadStorage.html">QThreadStorage</a>&lt; T &gt;::setLocalData </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the local data for the calling thread to <em>data</em>. </p>
<p>It can be accessed later using the <a class="el" href="classQThreadStorage.html#a66dc50f552220f58bce6694fa918bfdd" title="Returns a reference to the data that was set by the calling thread. ">localData()</a> functions.</p>
<p>If T is a pointer type, <a class="el" href="classQThreadStorage.html" title="The QThreadStorage class provides per-thread data storage. ">QThreadStorage</a> takes ownership of the data and deletes it automatically either when the thread exits (either normally or via termination) or when <a class="el" href="classQThreadStorage.html#a1975065acb6a41ef9b1b19d619f21066" title="Sets the local data for the calling thread to data. ">setLocalData()</a> is called again.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classQThreadStorage.html#a66dc50f552220f58bce6694fa918bfdd" title="Returns a reference to the data that was set by the calling thread. ">localData()</a>, <a class="el" href="classQThreadStorage.html#ab0821ede7bda260f6ab9138c1339f7c3" title="If T is a pointer type, returns true if the calling thread has non-zero data available. ">hasLocalData()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qthreadstorage_8h_source.html#l00154">154</a> of file <a class="el" href="qthreadstorage_8h_source.html">qthreadstorage.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="qfont_8cpp_source.html#l02927">QFontCache::cleanup()</a>, <a class="el" href="quuid_8cpp_source.html#l00897">QUuid::createUuid()</a>, <a class="el" href="qplatformglcontext__qpa_8cpp_source.html#l00083">QPlatformGLContextPrivate::setCurrentContext()</a>, <a class="el" href="qsharednetworksession_8cpp_source.html#l00052">sharedNetworkSessionManager()</a>, <a class="el" href="qhttpthreaddelegate_8cpp_source.html#l00240">QHttpThreadDelegate::startRequest()</a>, and <a class="el" href="qhttpthreaddelegate_8cpp_source.html#l00214">QHttpThreadDelegate::startRequestSynchronously()</a>.</p>
<div class="fragment"><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    { <a class="code" href="qthreadstorage_8h.html#ae2a084da0616a88cf46a0069518a7f6f">qThreadStorage_setLocalData</a>(<a class="code" href="classQThreadStorage.html#a38a6c2266b61a9ef7de6ca751ed58e6e">d</a>, &amp;t); }</div><div class="ttc" id="classQThreadStorage_html_a38a6c2266b61a9ef7de6ca751ed58e6e"><div class="ttname"><a href="classQThreadStorage.html#a38a6c2266b61a9ef7de6ca751ed58e6e">QThreadStorage::d</a></div><div class="ttdeci">QThreadStorageData d</div><div class="ttdef"><b>Definition:</b> <a href="qthreadstorage_8h_source.html#l00135">qthreadstorage.h:135</a></div></div>
<div class="ttc" id="qthreadstorage_8h_html_ae2a084da0616a88cf46a0069518a7f6f"><div class="ttname"><a href="qthreadstorage_8h.html#ae2a084da0616a88cf46a0069518a7f6f">qThreadStorage_setLocalData</a></div><div class="ttdeci">void qThreadStorage_setLocalData(QThreadStorageData &amp;d, T **t)</div><div class="ttdef"><b>Definition:</b> <a href="qthreadstorage_8h_source.html#l00091">qthreadstorage.h:91</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Properties</h2>
<a id="a38a6c2266b61a9ef7de6ca751ed58e6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38a6c2266b61a9ef7de6ca751ed58e6e">&#9670;&nbsp;</a></span>d</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQThreadStorageData.html">QThreadStorageData</a> <a class="el" href="classQThreadStorage.html">QThreadStorage</a>&lt; T &gt;::d</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qthreadstorage_8h_source.html#l00135">135</a> of file <a class="el" href="qthreadstorage_8h_source.html">qthreadstorage.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/src/corelib/thread/<a class="el" href="qthreadstorage_8h_source.html">qthreadstorage.h</a></li>
<li>/src/corelib/thread/<a class="el" href="qthreadstorage_8cpp_source.html">qthreadstorage.cpp</a></li>
</ul>
</div><!-- contents -->

<hr class="footer"/><address class="footer"><small><a href="https://dreamswork.github.io/qt4/">Qt 4.8 Source Code Browser</a></small></address>
</body>
</html>
