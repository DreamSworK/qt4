<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Qt 4.8: QWindowsMimeHtml Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="qt_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Qt 4.8
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0"
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Functions</a> &#124;
<a href="#pri-attribs">Properties</a> &#124;
<a href="classQWindowsMimeHtml-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">QWindowsMimeHtml Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for QWindowsMimeHtml:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classQWindowsMimeHtml.png" usemap="#QWindowsMimeHtml_map" alt=""/>
  <map id="QWindowsMimeHtml_map" name="QWindowsMimeHtml_map">
<area href="classQWindowsMime.html" title="The QWindowsMime class maps open-standard MIME to Window Clipboard formats. " alt="QWindowsMime" shape="rect" coords="0,0,126,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Functions</h2></td></tr>
<tr class="memitem:a4026a54a0bd361a0e6d49763037060cb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQWindowsMimeHtml.html#a4026a54a0bd361a0e6d49763037060cb">canConvertFromMime</a> (const <a class="el" href="qmime_8h.html#afe7528ac921fbbcc1ae15b313d4e16ae">FORMATETC</a> &amp;formatetc, const <a class="el" href="classQMimeData.html">QMimeData</a> *mimeData) const</td></tr>
<tr class="memdesc:a4026a54a0bd361a0e6d49763037060cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the converter can convert from the <em>mimeData</em> to the format specified in <em>formatetc</em>.  <a href="#a4026a54a0bd361a0e6d49763037060cb">More...</a><br /></td></tr>
<tr class="separator:a4026a54a0bd361a0e6d49763037060cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a480ba8fe08d3ff83ba7a0fbe8e6662c6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQWindowsMimeHtml.html#a480ba8fe08d3ff83ba7a0fbe8e6662c6">canConvertToMime</a> (const <a class="el" href="classQString.html">QString</a> &amp;mimeType, IDataObject *pDataObj) const</td></tr>
<tr class="memdesc:a480ba8fe08d3ff83ba7a0fbe8e6662c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the converter can convert to the <em>mimeType</em> from the available formats in <em>pDataObj</em>.  <a href="#a480ba8fe08d3ff83ba7a0fbe8e6662c6">More...</a><br /></td></tr>
<tr class="separator:a480ba8fe08d3ff83ba7a0fbe8e6662c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eb19adf7c5799aee53b3a0ff6506cdc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQWindowsMimeHtml.html#a7eb19adf7c5799aee53b3a0ff6506cdc">convertFromMime</a> (const <a class="el" href="qmime_8h.html#afe7528ac921fbbcc1ae15b313d4e16ae">FORMATETC</a> &amp;formatetc, const <a class="el" href="classQMimeData.html">QMimeData</a> *mimeData, <a class="el" href="qmime_8h.html#a4356c26840401c248f9e0cb80d8e150a">STGMEDIUM</a> *pmedium) const</td></tr>
<tr class="memdesc:a7eb19adf7c5799aee53b3a0ff6506cdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the <em>mimeData</em> to the format specified in <em>formatetc</em>.  <a href="#a7eb19adf7c5799aee53b3a0ff6506cdc">More...</a><br /></td></tr>
<tr class="separator:a7eb19adf7c5799aee53b3a0ff6506cdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a483b2e492172314c49f75f7eb6554bec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classQVariant.html">QVariant</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQWindowsMimeHtml.html#a483b2e492172314c49f75f7eb6554bec">convertToMime</a> (const <a class="el" href="classQString.html">QString</a> &amp;<a class="el" href="qsimplecodec_8cpp.html#ae8d4351c34fff5317b75f2dc62ae30df">mime</a>, IDataObject *pDataObj, <a class="el" href="classQVariant.html#a8e1414f284ce72d9e6a85f2dcf80c754">QVariant::Type</a> preferredType) const</td></tr>
<tr class="memdesc:a483b2e492172314c49f75f7eb6554bec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a <a class="el" href="classQVariant.html" title="The QVariant class acts like a union for the most common Qt data types. ">QVariant</a> containing the converted data for <em>mimeType</em> from <em>pDataObj</em>.  <a href="#a483b2e492172314c49f75f7eb6554bec">More...</a><br /></td></tr>
<tr class="separator:a483b2e492172314c49f75f7eb6554bec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a823a7fcb77629033b459aafc137e61c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classQVector.html">QVector</a>&lt; <a class="el" href="qmime_8h.html#afe7528ac921fbbcc1ae15b313d4e16ae">FORMATETC</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQWindowsMimeHtml.html#a823a7fcb77629033b459aafc137e61c7">formatsForMime</a> (const <a class="el" href="classQString.html">QString</a> &amp;mimeType, const <a class="el" href="classQMimeData.html">QMimeData</a> *mimeData) const</td></tr>
<tr class="memdesc:a823a7fcb77629033b459aafc137e61c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a <a class="el" href="classQVector.html" title="The QVector class is a template class that provides a dynamic array. ">QVector</a> of FORMATETC structures representing the different windows clipboard formats that can be provided for the <em>mimeType</em> from the <em>mimeData</em>.  <a href="#a823a7fcb77629033b459aafc137e61c7">More...</a><br /></td></tr>
<tr class="separator:a823a7fcb77629033b459aafc137e61c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ef35826b9ae50dad17f0bdc6d15bba1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classQString.html">QString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQWindowsMimeHtml.html#a1ef35826b9ae50dad17f0bdc6d15bba1">mimeForFormat</a> (const <a class="el" href="qmime_8h.html#afe7528ac921fbbcc1ae15b313d4e16ae">FORMATETC</a> &amp;formatetc) const</td></tr>
<tr class="memdesc:a1ef35826b9ae50dad17f0bdc6d15bba1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the mime type that will be created form the format specified in <em>formatetc</em>, or an empty string if this converter does not support <em>formatetc</em>.  <a href="#a1ef35826b9ae50dad17f0bdc6d15bba1">More...</a><br /></td></tr>
<tr class="separator:a1ef35826b9ae50dad17f0bdc6d15bba1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ca780fdc15c687429ed6bd5d5c086d8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQWindowsMimeHtml.html#a3ca780fdc15c687429ed6bd5d5c086d8">QWindowsMimeHtml</a> ()</td></tr>
<tr class="separator:a3ca780fdc15c687429ed6bd5d5c086d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classQWindowsMime"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classQWindowsMime')"><img src="closed.png" alt="-"/>&#160;Public Functions inherited from <a class="el" href="classQWindowsMime.html">QWindowsMime</a></td></tr>
<tr class="memitem:ab117601b5e1d9b6cce1470c0b348b0bf inherit pub_methods_classQWindowsMime"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQWindowsMime.html#ab117601b5e1d9b6cce1470c0b348b0bf">QWindowsMime</a> ()</td></tr>
<tr class="memdesc:ab117601b5e1d9b6cce1470c0b348b0bf inherit pub_methods_classQWindowsMime"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a new conversion object, adding it to the globally accessed list of available converters.  <a href="classQWindowsMime.html#ab117601b5e1d9b6cce1470c0b348b0bf">More...</a><br /></td></tr>
<tr class="separator:ab117601b5e1d9b6cce1470c0b348b0bf inherit pub_methods_classQWindowsMime"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a342c85b71e0b162c54506b9673ff296e inherit pub_methods_classQWindowsMime"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQWindowsMime.html#a342c85b71e0b162c54506b9673ff296e">~QWindowsMime</a> ()</td></tr>
<tr class="memdesc:a342c85b71e0b162c54506b9673ff296e inherit pub_methods_classQWindowsMime"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys a conversion object, removing it from the global list of available converters.  <a href="classQWindowsMime.html#a342c85b71e0b162c54506b9673ff296e">More...</a><br /></td></tr>
<tr class="separator:a342c85b71e0b162c54506b9673ff296e inherit pub_methods_classQWindowsMime"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Properties</h2></td></tr>
<tr class="memitem:aba43f36b9e016d6c84429ba6a9ccb859"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQWindowsMimeHtml.html#aba43f36b9e016d6c84429ba6a9ccb859">CF_HTML</a></td></tr>
<tr class="separator:aba43f36b9e016d6c84429ba6a9ccb859"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_methods_classQWindowsMime"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classQWindowsMime')"><img src="closed.png" alt="-"/>&#160;Static Public Functions inherited from <a class="el" href="classQWindowsMime.html">QWindowsMime</a></td></tr>
<tr class="memitem:a57cadda69310d8a08d964a1aca57df2e inherit pub_static_methods_classQWindowsMime"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQWindowsMime.html#a57cadda69310d8a08d964a1aca57df2e">registerMimeType</a> (const <a class="el" href="classQString.html">QString</a> &amp;<a class="el" href="qsimplecodec_8cpp.html#ae8d4351c34fff5317b75f2dc62ae30df">mime</a>)</td></tr>
<tr class="memdesc:a57cadda69310d8a08d964a1aca57df2e inherit pub_static_methods_classQWindowsMime"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers the MIME type <em>mime</em>, and returns an ID number identifying the format on Windows.  <a href="classQWindowsMime.html#a57cadda69310d8a08d964a1aca57df2e">More...</a><br /></td></tr>
<tr class="separator:a57cadda69310d8a08d964a1aca57df2e inherit pub_static_methods_classQWindowsMime"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="qmime__win_8cpp_source.html#l00744">744</a> of file <a class="el" href="qmime__win_8cpp_source.html">qmime_win.cpp</a>.</p>
</div><h2 class="groupheader">Constructors and Destructors</h2>
<a id="a3ca780fdc15c687429ed6bd5d5c086d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ca780fdc15c687429ed6bd5d5c086d8">&#9670;&nbsp;</a></span>QWindowsMimeHtml()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QWindowsMimeHtml::QWindowsMimeHtml </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qmime__win_8cpp_source.html#l00763">763</a> of file <a class="el" href="qmime__win_8cpp_source.html">qmime_win.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;{</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <a class="code" href="classQWindowsMimeHtml.html#aba43f36b9e016d6c84429ba6a9ccb859">CF_HTML</a> = <a class="code" href="classQWindowsMime.html#a57cadda69310d8a08d964a1aca57df2e">QWindowsMime::registerMimeType</a>(<a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;HTML Format&quot;</span>));</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;}</div><div class="ttc" id="qdbusservicewatcher_8cpp_html_a81beb56f94d46874cfa290c3d712024d"><div class="ttname"><a href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a></div><div class="ttdeci">QLatin1String(DBUS_INTERFACE_DBUS))) Q_GLOBAL_STATIC_WITH_ARGS(QString</div></div>
<div class="ttc" id="classQWindowsMimeHtml_html_aba43f36b9e016d6c84429ba6a9ccb859"><div class="ttname"><a href="classQWindowsMimeHtml.html#aba43f36b9e016d6c84429ba6a9ccb859">QWindowsMimeHtml::CF_HTML</a></div><div class="ttdeci">int CF_HTML</div><div class="ttdef"><b>Definition:</b> <a href="qmime__win_8cpp_source.html#l00760">qmime_win.cpp:760</a></div></div>
<div class="ttc" id="classQWindowsMime_html_a57cadda69310d8a08d964a1aca57df2e"><div class="ttname"><a href="classQWindowsMime.html#a57cadda69310d8a08d964a1aca57df2e">QWindowsMime::registerMimeType</a></div><div class="ttdeci">static int registerMimeType(const QString &amp;mime)</div><div class="ttdoc">Registers the MIME type mime, and returns an ID number identifying the format on Windows. </div><div class="ttdef"><b>Definition:</b> <a href="qmime__win_8cpp_source.html#l00283">qmime_win.cpp:283</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Functions</h2>
<a id="a4026a54a0bd361a0e6d49763037060cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4026a54a0bd361a0e6d49763037060cb">&#9670;&nbsp;</a></span>canConvertFromMime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool QWindowsMimeHtml::canConvertFromMime </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="qmime_8h.html#afe7528ac921fbbcc1ae15b313d4e16ae">FORMATETC</a> &amp;&#160;</td>
          <td class="paramname"><em>formatetc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classQMimeData.html">QMimeData</a> *&#160;</td>
          <td class="paramname"><em>mimeData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if the converter can convert from the <em>mimeData</em> to the format specified in <em>formatetc</em>. </p>
<p>All subclasses must reimplement this pure virtual function. </p>

<p>Implements <a class="el" href="classQWindowsMime.html#a7927e8e340648c51ec3ca361105f4a42">QWindowsMime</a>.</p>

<p class="definition">Definition at line <a class="el" href="qmime__win_8cpp_source.html#l00789">789</a> of file <a class="el" href="qmime__win_8cpp_source.html">qmime_win.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;{</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="qmime__win_8cpp.html#ab742466723b5d7b2b32840af3c51f9e9">getCf</a>(formatetc) == <a class="code" href="classQWindowsMimeHtml.html#aba43f36b9e016d6c84429ba6a9ccb859">CF_HTML</a> &amp;&amp; (!mimeData-&gt;<a class="code" href="classQMimeData.html#aabe97ee58dd1c5c8a1f82c8f4cbc4aca">html</a>().<a class="code" href="classQString.html#aa032d4b5892338beb575a85e59bbbf38">isEmpty</a>());</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;}</div><div class="ttc" id="qmime__win_8cpp_html_ab742466723b5d7b2b32840af3c51f9e9"><div class="ttname"><a href="qmime__win_8cpp.html#ab742466723b5d7b2b32840af3c51f9e9">getCf</a></div><div class="ttdeci">static int getCf(const FORMATETC &amp;formatetc)</div><div class="ttdef"><b>Definition:</b> <a href="qmime__win_8cpp_source.html#l00125">qmime_win.cpp:125</a></div></div>
<div class="ttc" id="classQWindowsMimeHtml_html_aba43f36b9e016d6c84429ba6a9ccb859"><div class="ttname"><a href="classQWindowsMimeHtml.html#aba43f36b9e016d6c84429ba6a9ccb859">QWindowsMimeHtml::CF_HTML</a></div><div class="ttdeci">int CF_HTML</div><div class="ttdef"><b>Definition:</b> <a href="qmime__win_8cpp_source.html#l00760">qmime_win.cpp:760</a></div></div>
<div class="ttc" id="classQString_html_aa032d4b5892338beb575a85e59bbbf38"><div class="ttname"><a href="classQString.html#aa032d4b5892338beb575a85e59bbbf38">QString::isEmpty</a></div><div class="ttdeci">bool isEmpty() const</div><div class="ttdoc">Returns true if the string has no characters; otherwise returns false. </div><div class="ttdef"><b>Definition:</b> <a href="qstring_8h_source.html#l00704">qstring.h:704</a></div></div>
<div class="ttc" id="classQMimeData_html_aabe97ee58dd1c5c8a1f82c8f4cbc4aca"><div class="ttname"><a href="classQMimeData.html#aabe97ee58dd1c5c8a1f82c8f4cbc4aca">QMimeData::html</a></div><div class="ttdeci">QString html() const</div><div class="ttdoc">Returns a string if the data stored in the object is HTML (MIME type text/html); otherwise returns an...</div><div class="ttdef"><b>Definition:</b> <a href="qmimedata_8cpp_source.html#l00400">qmimedata.cpp:400</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a480ba8fe08d3ff83ba7a0fbe8e6662c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a480ba8fe08d3ff83ba7a0fbe8e6662c6">&#9670;&nbsp;</a></span>canConvertToMime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool QWindowsMimeHtml::canConvertToMime </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classQString.html">QString</a> &amp;&#160;</td>
          <td class="paramname"><em>mimeType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IDataObject *&#160;</td>
          <td class="paramname"><em>pDataObj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if the converter can convert to the <em>mimeType</em> from the available formats in <em>pDataObj</em>. </p>
<p>All subclasses must reimplement this pure virtual function. </p>

<p>Implements <a class="el" href="classQWindowsMime.html#ab8592ce05803cd13d5351af9596f5780">QWindowsMime</a>.</p>

<p class="definition">Definition at line <a class="el" href="qmime__win_8cpp_source.html#l00783">783</a> of file <a class="el" href="qmime__win_8cpp_source.html">qmime_win.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;{</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordflow">return</span> mimeType == <a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;text/html&quot;</span>) &amp;&amp; <a class="code" href="qmime__win_8cpp.html#a30ece41f64f086fa951766b518a082da">canGetData</a>(<a class="code" href="classQWindowsMimeHtml.html#aba43f36b9e016d6c84429ba6a9ccb859">CF_HTML</a>, pDataObj);</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;}</div><div class="ttc" id="qdbusservicewatcher_8cpp_html_a81beb56f94d46874cfa290c3d712024d"><div class="ttname"><a href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a></div><div class="ttdeci">QLatin1String(DBUS_INTERFACE_DBUS))) Q_GLOBAL_STATIC_WITH_ARGS(QString</div></div>
<div class="ttc" id="classQWindowsMimeHtml_html_aba43f36b9e016d6c84429ba6a9ccb859"><div class="ttname"><a href="classQWindowsMimeHtml.html#aba43f36b9e016d6c84429ba6a9ccb859">QWindowsMimeHtml::CF_HTML</a></div><div class="ttdeci">int CF_HTML</div><div class="ttdef"><b>Definition:</b> <a href="qmime__win_8cpp_source.html#l00760">qmime_win.cpp:760</a></div></div>
<div class="ttc" id="qmime__win_8cpp_html_a30ece41f64f086fa951766b518a082da"><div class="ttname"><a href="qmime__win_8cpp.html#a30ece41f64f086fa951766b518a082da">canGetData</a></div><div class="ttdeci">static bool canGetData(int cf, IDataObject *pDataObj)</div><div class="ttdef"><b>Definition:</b> <a href="qmime__win_8cpp_source.html#l00191">qmime_win.cpp:191</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7eb19adf7c5799aee53b3a0ff6506cdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7eb19adf7c5799aee53b3a0ff6506cdc">&#9670;&nbsp;</a></span>convertFromMime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool QWindowsMimeHtml::convertFromMime </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="qmime_8h.html#afe7528ac921fbbcc1ae15b313d4e16ae">FORMATETC</a> &amp;&#160;</td>
          <td class="paramname"><em>formatetc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classQMimeData.html">QMimeData</a> *&#160;</td>
          <td class="paramname"><em>mimeData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qmime_8h.html#a4356c26840401c248f9e0cb80d8e150a">STGMEDIUM</a> *&#160;</td>
          <td class="paramname"><em>pmedium</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert the <em>mimeData</em> to the format specified in <em>formatetc</em>. </p>
<p>The converted data should then be placed in <em>pmedium</em> structure.</p>
<p>Return true if the conversion was successful.</p>
<p>All subclasses must reimplement this pure virtual function. </p>

<p>Implements <a class="el" href="classQWindowsMime.html#a540e0601e13991c7ffa20bd0da24e555">QWindowsMime</a>.</p>

<p class="definition">Definition at line <a class="el" href="qmime__win_8cpp_source.html#l00848">848</a> of file <a class="el" href="qmime__win_8cpp_source.html">qmime_win.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;{</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQWindowsMimeHtml.html#a4026a54a0bd361a0e6d49763037060cb">canConvertFromMime</a>(formatetc, mimeData)) {</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        <a class="code" href="classQByteArray.html">QByteArray</a> <a class="code" href="qdbusmessage_8cpp.html#a4b86149e51ff4431f59ce6148820fb86">data</a> = mimeData-&gt;<a class="code" href="classQMimeData.html#aabe97ee58dd1c5c8a1f82c8f4cbc4aca">html</a>().<a class="code" href="classQString.html#abfcbb02434abf1a7fcccf13f090bd5a2">toUtf8</a>();</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        <a class="code" href="classQByteArray.html">QByteArray</a> result =</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;            <span class="stringliteral">&quot;Version:1.0\r\n&quot;</span>                    <span class="comment">// 0-12</span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;            <span class="stringliteral">&quot;StartHTML:0000000105\r\n&quot;</span>            <span class="comment">// 13-35</span></div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;            <span class="stringliteral">&quot;EndHTML:0000000000\r\n&quot;</span>            <span class="comment">// 36-55</span></div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;            <span class="stringliteral">&quot;StartFragment:0000000000\r\n&quot;</span>            <span class="comment">// 58-86</span></div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;            <span class="stringliteral">&quot;EndFragment:0000000000\r\n\r\n&quot;</span>;   <span class="comment">// 87-105</span></div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        <span class="keywordflow">if</span> (data.<a class="code" href="classQByteArray.html#a85698f058df2f755834dff4b4a22d683">indexOf</a>(<span class="stringliteral">&quot;&lt;!--StartFragment--&gt;&quot;</span>) == -1)</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;            result += <span class="stringliteral">&quot;&lt;!--StartFragment--&gt;&quot;</span>;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        result += <a class="code" href="qdbusmessage_8cpp.html#a4b86149e51ff4431f59ce6148820fb86">data</a>;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        <span class="keywordflow">if</span> (data.<a class="code" href="classQByteArray.html#a85698f058df2f755834dff4b4a22d683">indexOf</a>(<span class="stringliteral">&quot;&lt;!--EndFragment--&gt;&quot;</span>) == -1)</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;            result += <span class="stringliteral">&quot;&lt;!--EndFragment--&gt;&quot;</span>;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <span class="comment">// set the correct number for EndHTML</span></div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        <a class="code" href="classQByteArray.html">QByteArray</a> pos = <a class="code" href="classQString.html#ac00103ffd860cbe3448ace2b490800cf">QString::number</a>(result.<a class="code" href="classQByteArray.html#a0cd331ee1b05147f3173fb85dfcd0ccd">size</a>()).toLatin1();</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        memcpy((<span class="keywordtype">char</span> *)(result.<a class="code" href="classQByteArray.html#a00805e2d9e3237e6c18b3d64859b2ef8">data</a>() + 53 - pos.<a class="code" href="classQByteArray.html#a1587342c956604d4d9c29e46c6b07ad9">length</a>()), pos.<a class="code" href="classQByteArray.html#adb3b4e935f60dd123b1b017894901937">constData</a>(), pos.<a class="code" href="classQByteArray.html#a1587342c956604d4d9c29e46c6b07ad9">length</a>());</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        <span class="comment">// set correct numbers for StartFragment and EndFragment</span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        pos = <a class="code" href="classQString.html#ac00103ffd860cbe3448ace2b490800cf">QString::number</a>(result.<a class="code" href="classQByteArray.html#a85698f058df2f755834dff4b4a22d683">indexOf</a>(<span class="stringliteral">&quot;&lt;!--StartFragment--&gt;&quot;</span>) + 20).toLatin1();</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        memcpy((<span class="keywordtype">char</span> *)(result.<a class="code" href="classQByteArray.html#a00805e2d9e3237e6c18b3d64859b2ef8">data</a>() + 79 - pos.length()), pos.constData(), pos.length());</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        pos = <a class="code" href="classQString.html#ac00103ffd860cbe3448ace2b490800cf">QString::number</a>(result.<a class="code" href="classQByteArray.html#a85698f058df2f755834dff4b4a22d683">indexOf</a>(<span class="stringliteral">&quot;&lt;!--EndFragment--&gt;&quot;</span>)).toLatin1();</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        memcpy((<span class="keywordtype">char</span> *)(result.<a class="code" href="classQByteArray.html#a00805e2d9e3237e6c18b3d64859b2ef8">data</a>() + 103 - pos.length()), pos.constData(), pos.length());</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="qmime__win_8cpp.html#aec516af148c7de9ab0233ea62b50c0f4">setData</a>(result, pmedium);</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    }</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;}</div><div class="ttc" id="classQString_html_ac00103ffd860cbe3448ace2b490800cf"><div class="ttname"><a href="classQString.html#ac00103ffd860cbe3448ace2b490800cf">QString::number</a></div><div class="ttdeci">static QString number(int, int base=10)</div><div class="ttdoc">This is an overloaded member function, provided for convenience. It differs from the above function o...</div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l06448">qstring.cpp:6448</a></div></div>
<div class="ttc" id="classQByteArray_html_a00805e2d9e3237e6c18b3d64859b2ef8"><div class="ttname"><a href="classQByteArray.html#a00805e2d9e3237e6c18b3d64859b2ef8">QByteArray::data</a></div><div class="ttdeci">char * data()</div><div class="ttdoc">Returns a pointer to the data stored in the byte array. </div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8h_source.html#l00429">qbytearray.h:429</a></div></div>
<div class="ttc" id="classQString_html_abfcbb02434abf1a7fcccf13f090bd5a2"><div class="ttname"><a href="classQString.html#abfcbb02434abf1a7fcccf13f090bd5a2">QString::toUtf8</a></div><div class="ttdeci">QByteArray toUtf8() const Q_REQUIRED_RESULT</div><div class="ttdoc">Returns a UTF-8 representation of the string as a QByteArray. </div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l04074">qstring.cpp:4074</a></div></div>
<div class="ttc" id="classQByteArray_html"><div class="ttname"><a href="classQByteArray.html">QByteArray</a></div><div class="ttdoc">The QByteArray class provides an array of bytes. </div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8h_source.html#l00135">qbytearray.h:135</a></div></div>
<div class="ttc" id="qmime__win_8cpp_html_aec516af148c7de9ab0233ea62b50c0f4"><div class="ttname"><a href="qmime__win_8cpp.html#aec516af148c7de9ab0233ea62b50c0f4">setData</a></div><div class="ttdeci">static bool setData(const QByteArray &amp;data, STGMEDIUM *pmedium)</div><div class="ttdef"><b>Definition:</b> <a href="qmime__win_8cpp_source.html#l00141">qmime_win.cpp:141</a></div></div>
<div class="ttc" id="classQMimeData_html_aabe97ee58dd1c5c8a1f82c8f4cbc4aca"><div class="ttname"><a href="classQMimeData.html#aabe97ee58dd1c5c8a1f82c8f4cbc4aca">QMimeData::html</a></div><div class="ttdeci">QString html() const</div><div class="ttdoc">Returns a string if the data stored in the object is HTML (MIME type text/html); otherwise returns an...</div><div class="ttdef"><b>Definition:</b> <a href="qmimedata_8cpp_source.html#l00400">qmimedata.cpp:400</a></div></div>
<div class="ttc" id="qdbusmessage_8cpp_html_a4b86149e51ff4431f59ce6148820fb86"><div class="ttname"><a href="qdbusmessage_8cpp.html#a4b86149e51ff4431f59ce6148820fb86">data</a></div><div class="ttdeci">static const char * data(const QByteArray &amp;arr)</div><div class="ttdef"><b>Definition:</b> <a href="qdbusmessage_8cpp_source.html#l00060">qdbusmessage.cpp:60</a></div></div>
<div class="ttc" id="classQByteArray_html_a85698f058df2f755834dff4b4a22d683"><div class="ttname"><a href="classQByteArray.html#a85698f058df2f755834dff4b4a22d683">QByteArray::indexOf</a></div><div class="ttdeci">int indexOf(char c, int from=0) const</div><div class="ttdoc">Returns the index position of the first occurrence of the character ch in the byte array...</div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8cpp_source.html#l02461">qbytearray.cpp:2461</a></div></div>
<div class="ttc" id="classQByteArray_html_a1587342c956604d4d9c29e46c6b07ad9"><div class="ttname"><a href="classQByteArray.html#a1587342c956604d4d9c29e46c6b07ad9">QByteArray::length</a></div><div class="ttdeci">int length() const</div><div class="ttdoc">Same as size(). </div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8h_source.html#l00356">qbytearray.h:356</a></div></div>
<div class="ttc" id="classQByteArray_html_adb3b4e935f60dd123b1b017894901937"><div class="ttname"><a href="classQByteArray.html#adb3b4e935f60dd123b1b017894901937">QByteArray::constData</a></div><div class="ttdeci">const char * constData() const</div><div class="ttdoc">Returns a pointer to the data stored in the byte array. </div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8h_source.html#l00433">qbytearray.h:433</a></div></div>
<div class="ttc" id="classQByteArray_html_a0cd331ee1b05147f3173fb85dfcd0ccd"><div class="ttname"><a href="classQByteArray.html#a0cd331ee1b05147f3173fb85dfcd0ccd">QByteArray::size</a></div><div class="ttdeci">int size() const</div><div class="ttdoc">Returns the number of bytes in this byte array. </div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8h_source.html#l00402">qbytearray.h:402</a></div></div>
<div class="ttc" id="classQWindowsMimeHtml_html_a4026a54a0bd361a0e6d49763037060cb"><div class="ttname"><a href="classQWindowsMimeHtml.html#a4026a54a0bd361a0e6d49763037060cb">QWindowsMimeHtml::canConvertFromMime</a></div><div class="ttdeci">bool canConvertFromMime(const FORMATETC &amp;formatetc, const QMimeData *mimeData) const</div><div class="ttdoc">Returns true if the converter can convert from the mimeData to the format specified in formatetc...</div><div class="ttdef"><b>Definition:</b> <a href="qmime__win_8cpp_source.html#l00789">qmime_win.cpp:789</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a483b2e492172314c49f75f7eb6554bec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a483b2e492172314c49f75f7eb6554bec">&#9670;&nbsp;</a></span>convertToMime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQVariant.html">QVariant</a> QWindowsMimeHtml::convertToMime </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classQString.html">QString</a> &amp;&#160;</td>
          <td class="paramname"><em>mimeType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IDataObject *&#160;</td>
          <td class="paramname"><em>pDataObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classQVariant.html#a8e1414f284ce72d9e6a85f2dcf80c754">QVariant::Type</a>&#160;</td>
          <td class="paramname"><em>preferredType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a <a class="el" href="classQVariant.html" title="The QVariant class acts like a union for the most common Qt data types. ">QVariant</a> containing the converted data for <em>mimeType</em> from <em>pDataObj</em>. </p>
<p>If possible the <a class="el" href="classQVariant.html" title="The QVariant class acts like a union for the most common Qt data types. ">QVariant</a> should be of the <em>preferredType</em> to avoid needless conversions.</p>
<p>All subclasses must reimplement this pure virtual function. </p>

<p>Implements <a class="el" href="classQWindowsMime.html#af480ec839e0e38bf2b4614530753d276">QWindowsMime</a>.</p>

<p class="definition">Definition at line <a class="el" href="qmime__win_8cpp_source.html#l00806">806</a> of file <a class="el" href="qmime__win_8cpp_source.html">qmime_win.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;{</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <a class="code" href="qglobal_8h.html#ab50b9ec9f8efb4c169cbd1a13b1fe2b1">Q_UNUSED</a>(preferredType);</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <a class="code" href="classQVariant.html">QVariant</a> result;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQWindowsMimeHtml.html#a480ba8fe08d3ff83ba7a0fbe8e6662c6">canConvertToMime</a>(<a class="code" href="qsimplecodec_8cpp.html#ae8d4351c34fff5317b75f2dc62ae30df">mime</a>, pDataObj)) {</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        <a class="code" href="classQByteArray.html">QByteArray</a> html = <a class="code" href="qmime__win_8cpp.html#a26dc149c40941f0282585a9ee029466b">getData</a>(<a class="code" href="classQWindowsMimeHtml.html#aba43f36b9e016d6c84429ba6a9ccb859">CF_HTML</a>, pDataObj);</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="preprocessor">#ifdef QMIME_DEBUG</span></div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        <a class="code" href="qglobal_8h.html#abfe4fd29fa94368c8635bfffc1317587">qDebug</a>(<span class="stringliteral">&quot;QWindowsMimeHtml::convertToMime&quot;</span>);</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <a class="code" href="qglobal_8h.html#abfe4fd29fa94368c8635bfffc1317587">qDebug</a>(<span class="stringliteral">&quot;raw :&quot;</span>);</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        <a class="code" href="qglobal_8h.html#abfe4fd29fa94368c8635bfffc1317587">qDebug</a>(html);</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <span class="keywordtype">int</span> start = html.<a class="code" href="classQByteArray.html#a85698f058df2f755834dff4b4a22d683">indexOf</a>(<span class="stringliteral">&quot;StartFragment:&quot;</span>);</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="qt__cocoa__helpers__mac_8mm.html#a875104226bb2d18c4bead75b19e75065">end</a> = html.<a class="code" href="classQByteArray.html#a85698f058df2f755834dff4b4a22d683">indexOf</a>(<span class="stringliteral">&quot;EndFragment:&quot;</span>);</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        <span class="keywordflow">if</span> (start != -1) {</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;            <span class="keywordtype">int</span> startOffset = start + 14;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;            <span class="keywordtype">int</span> i = startOffset;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;            <span class="keywordflow">while</span> (html.<a class="code" href="classQByteArray.html#a4f311b72dce2a8ffaf0f95a4ffb9d35c">at</a>(i) != <span class="charliteral">&#39;\r&#39;</span> &amp;&amp; html.<a class="code" href="classQByteArray.html#a4f311b72dce2a8ffaf0f95a4ffb9d35c">at</a>(i) != <span class="charliteral">&#39;\n&#39;</span>)</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                ++i;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            <a class="code" href="classQByteArray.html">QByteArray</a> bytecount = html.<a class="code" href="classQByteArray.html#ac193b126e98ae83c842ff9d2d821001e">mid</a>(startOffset, i - startOffset);</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            start = bytecount.<a class="code" href="classQByteArray.html#a186c634dc462f478fd2a45ee713f2c58">toInt</a>();</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        }</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        <span class="keywordflow">if</span> (end != -1) {</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;            <span class="keywordtype">int</span> endOffset = end + 12;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;            <span class="keywordtype">int</span> i = endOffset ;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;            <span class="keywordflow">while</span> (html.<a class="code" href="classQByteArray.html#a4f311b72dce2a8ffaf0f95a4ffb9d35c">at</a>(i) != <span class="charliteral">&#39;\r&#39;</span> &amp;&amp; html.<a class="code" href="classQByteArray.html#a4f311b72dce2a8ffaf0f95a4ffb9d35c">at</a>(i) != <span class="charliteral">&#39;\n&#39;</span>)</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                ++i;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;            <a class="code" href="classQByteArray.html">QByteArray</a> bytecount = html.<a class="code" href="classQByteArray.html#ac193b126e98ae83c842ff9d2d821001e">mid</a>(endOffset , i - endOffset);</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;            end = bytecount.<a class="code" href="classQByteArray.html#a186c634dc462f478fd2a45ee713f2c58">toInt</a>();</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        }</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        <span class="keywordflow">if</span> (end &gt; start &amp;&amp; start &gt; 0) {</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;            html = <span class="stringliteral">&quot;&lt;!--StartFragment--&gt;&quot;</span> + html.<a class="code" href="classQByteArray.html#ac193b126e98ae83c842ff9d2d821001e">mid</a>(start, end - start);</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;            html += <span class="stringliteral">&quot;&lt;!--EndFragment--&gt;&quot;</span>;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;            html.<a class="code" href="classQByteArray.html#a5c1fba3d23b179bf95da749c00e5fe15">replace</a>(<span class="charliteral">&#39;\r&#39;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;            result = <a class="code" href="classQString.html#ad7f4d0a383890ee85bcbfe7b2b7c7b4c">QString::fromUtf8</a>(html);</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        }</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    }</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;}</div><div class="ttc" id="classQVariant_html"><div class="ttname"><a href="classQVariant.html">QVariant</a></div><div class="ttdoc">The QVariant class acts like a union for the most common Qt data types. </div><div class="ttdef"><b>Definition:</b> <a href="qvariant_8h_source.html#l00092">qvariant.h:92</a></div></div>
<div class="ttc" id="classQByteArray_html"><div class="ttname"><a href="classQByteArray.html">QByteArray</a></div><div class="ttdoc">The QByteArray class provides an array of bytes. </div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8h_source.html#l00135">qbytearray.h:135</a></div></div>
<div class="ttc" id="qsimplecodec_8cpp_html_ae8d4351c34fff5317b75f2dc62ae30df"><div class="ttname"><a href="qsimplecodec_8cpp.html#ae8d4351c34fff5317b75f2dc62ae30df">mime</a></div><div class="ttdeci">const char * mime</div><div class="ttdef"><b>Definition:</b> <a href="qsimplecodec_8cpp_source.html#l00052">qsimplecodec.cpp:52</a></div></div>
<div class="ttc" id="classQWindowsMimeHtml_html_a480ba8fe08d3ff83ba7a0fbe8e6662c6"><div class="ttname"><a href="classQWindowsMimeHtml.html#a480ba8fe08d3ff83ba7a0fbe8e6662c6">QWindowsMimeHtml::canConvertToMime</a></div><div class="ttdeci">bool canConvertToMime(const QString &amp;mimeType, IDataObject *pDataObj) const</div><div class="ttdoc">Returns true if the converter can convert to the mimeType from the available formats in pDataObj...</div><div class="ttdef"><b>Definition:</b> <a href="qmime__win_8cpp_source.html#l00783">qmime_win.cpp:783</a></div></div>
<div class="ttc" id="classQWindowsMimeHtml_html_aba43f36b9e016d6c84429ba6a9ccb859"><div class="ttname"><a href="classQWindowsMimeHtml.html#aba43f36b9e016d6c84429ba6a9ccb859">QWindowsMimeHtml::CF_HTML</a></div><div class="ttdeci">int CF_HTML</div><div class="ttdef"><b>Definition:</b> <a href="qmime__win_8cpp_source.html#l00760">qmime_win.cpp:760</a></div></div>
<div class="ttc" id="qglobal_8h_html_abfe4fd29fa94368c8635bfffc1317587"><div class="ttname"><a href="qglobal_8h.html#abfe4fd29fa94368c8635bfffc1317587">qDebug</a></div><div class="ttdeci">Q_CORE_EXPORT void qDebug(const char *,...)</div></div>
<div class="ttc" id="classQString_html_ad7f4d0a383890ee85bcbfe7b2b7c7b4c"><div class="ttname"><a href="classQString.html#ad7f4d0a383890ee85bcbfe7b2b7c7b4c">QString::fromUtf8</a></div><div class="ttdeci">static QString fromUtf8(const char *, int size=-1)</div><div class="ttdoc">Returns a QString initialized with the first size bytes of the UTF-8 string str. </div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l04302">qstring.cpp:4302</a></div></div>
<div class="ttc" id="classQByteArray_html_ac193b126e98ae83c842ff9d2d821001e"><div class="ttname"><a href="classQByteArray.html#ac193b126e98ae83c842ff9d2d821001e">QByteArray::mid</a></div><div class="ttdeci">QByteArray mid(int index, int len=-1) const</div><div class="ttdoc">Returns a byte array containing len bytes from this byte array, starting at position pos...</div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8cpp_source.html#l02835">qbytearray.cpp:2835</a></div></div>
<div class="ttc" id="classQByteArray_html_a85698f058df2f755834dff4b4a22d683"><div class="ttname"><a href="classQByteArray.html#a85698f058df2f755834dff4b4a22d683">QByteArray::indexOf</a></div><div class="ttdeci">int indexOf(char c, int from=0) const</div><div class="ttdoc">Returns the index position of the first occurrence of the character ch in the byte array...</div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8cpp_source.html#l02461">qbytearray.cpp:2461</a></div></div>
<div class="ttc" id="classQByteArray_html_a186c634dc462f478fd2a45ee713f2c58"><div class="ttname"><a href="classQByteArray.html#a186c634dc462f478fd2a45ee713f2c58">QByteArray::toInt</a></div><div class="ttdeci">int toInt(bool *ok=0, int base=10) const</div><div class="ttdoc">Returns the byte array converted to an int using base base, which is 10 by default and must be betwee...</div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8cpp_source.html#l03576">qbytearray.cpp:3576</a></div></div>
<div class="ttc" id="classQByteArray_html_a5c1fba3d23b179bf95da749c00e5fe15"><div class="ttname"><a href="classQByteArray.html#a5c1fba3d23b179bf95da749c00e5fe15">QByteArray::replace</a></div><div class="ttdeci">QByteArray &amp; replace(int index, int len, const char *s)</div><div class="ttdoc">This is an overloaded member function, provided for convenience. It differs from the above function o...</div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8cpp_source.html#l02002">qbytearray.cpp:2002</a></div></div>
<div class="ttc" id="classQByteArray_html_a4f311b72dce2a8ffaf0f95a4ffb9d35c"><div class="ttname"><a href="classQByteArray.html#a4f311b72dce2a8ffaf0f95a4ffb9d35c">QByteArray::at</a></div><div class="ttdeci">char at(int i) const</div><div class="ttdoc">Returns the character at index position i in the byte array. </div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8h_source.html#l00413">qbytearray.h:413</a></div></div>
<div class="ttc" id="qt__cocoa__helpers__mac_8mm_html_a875104226bb2d18c4bead75b19e75065"><div class="ttname"><a href="qt__cocoa__helpers__mac_8mm.html#a875104226bb2d18c4bead75b19e75065">end</a></div><div class="ttdeci">static const KeyPair *const end</div><div class="ttdef"><b>Definition:</b> <a href="qt__cocoa__helpers__mac_8mm_source.html#l00652">qt_cocoa_helpers_mac.mm:652</a></div></div>
<div class="ttc" id="qglobal_8h_html_ab50b9ec9f8efb4c169cbd1a13b1fe2b1"><div class="ttname"><a href="qglobal_8h.html#ab50b9ec9f8efb4c169cbd1a13b1fe2b1">Q_UNUSED</a></div><div class="ttdeci">#define Q_UNUSED(x)</div><div class="ttdoc">Indicates to the compiler that the parameter with the specified name is not used in the body of a fun...</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l01729">qglobal.h:1729</a></div></div>
<div class="ttc" id="qmime__win_8cpp_html_a26dc149c40941f0282585a9ee029466b"><div class="ttname"><a href="qmime__win_8cpp.html#a26dc149c40941f0282585a9ee029466b">getData</a></div><div class="ttdeci">static QByteArray getData(int cf, IDataObject *pDataObj)</div><div class="ttdef"><b>Definition:</b> <a href="qmime__win_8cpp_source.html#l00156">qmime_win.cpp:156</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a823a7fcb77629033b459aafc137e61c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a823a7fcb77629033b459aafc137e61c7">&#9670;&nbsp;</a></span>formatsForMime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQVector.html">QVector</a>&lt; <a class="el" href="qmime_8h.html#afe7528ac921fbbcc1ae15b313d4e16ae">FORMATETC</a> &gt; QWindowsMimeHtml::formatsForMime </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classQString.html">QString</a> &amp;&#160;</td>
          <td class="paramname"><em>mimeType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classQMimeData.html">QMimeData</a> *&#160;</td>
          <td class="paramname"><em>mimeData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a <a class="el" href="classQVector.html" title="The QVector class is a template class that provides a dynamic array. ">QVector</a> of FORMATETC structures representing the different windows clipboard formats that can be provided for the <em>mimeType</em> from the <em>mimeData</em>. </p>
<p>All subclasses must reimplement this pure virtual function. </p>

<p>Implements <a class="el" href="classQWindowsMime.html#a65444e9687f1a39cc793686c9939ae96">QWindowsMime</a>.</p>

<p class="definition">Definition at line <a class="el" href="qmime__win_8cpp_source.html#l00768">768</a> of file <a class="el" href="qmime__win_8cpp_source.html">qmime_win.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;{</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <a class="code" href="classQVector.html">QVector&lt;FORMATETC&gt;</a> formatetcs;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="keywordflow">if</span> (mimeType == <a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;text/html&quot;</span>) &amp;&amp; (!mimeData-&gt;<a class="code" href="classQMimeData.html#aabe97ee58dd1c5c8a1f82c8f4cbc4aca">html</a>().<a class="code" href="classQString.html#aa032d4b5892338beb575a85e59bbbf38">isEmpty</a>()))</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        formatetcs += <a class="code" href="qmime__win_8cpp.html#a5e314000e1fa249eb707317d1f068599">setCf</a>(<a class="code" href="classQWindowsMimeHtml.html#aba43f36b9e016d6c84429ba6a9ccb859">CF_HTML</a>);</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keywordflow">return</span> formatetcs;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;}</div><div class="ttc" id="qdbusservicewatcher_8cpp_html_a81beb56f94d46874cfa290c3d712024d"><div class="ttname"><a href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a></div><div class="ttdeci">QLatin1String(DBUS_INTERFACE_DBUS))) Q_GLOBAL_STATIC_WITH_ARGS(QString</div></div>
<div class="ttc" id="classQVector_html"><div class="ttname"><a href="classQVector.html">QVector</a></div><div class="ttdoc">The QVector class is a template class that provides a dynamic array. </div><div class="ttdef"><b>Definition:</b> <a href="qdatastream_8h_source.html#l00064">qdatastream.h:64</a></div></div>
<div class="ttc" id="classQWindowsMimeHtml_html_aba43f36b9e016d6c84429ba6a9ccb859"><div class="ttname"><a href="classQWindowsMimeHtml.html#aba43f36b9e016d6c84429ba6a9ccb859">QWindowsMimeHtml::CF_HTML</a></div><div class="ttdeci">int CF_HTML</div><div class="ttdef"><b>Definition:</b> <a href="qmime__win_8cpp_source.html#l00760">qmime_win.cpp:760</a></div></div>
<div class="ttc" id="qmime__win_8cpp_html_a5e314000e1fa249eb707317d1f068599"><div class="ttname"><a href="qmime__win_8cpp.html#a5e314000e1fa249eb707317d1f068599">setCf</a></div><div class="ttdeci">static FORMATETC setCf(int cf)</div><div class="ttdef"><b>Definition:</b> <a href="qmime__win_8cpp_source.html#l00130">qmime_win.cpp:130</a></div></div>
<div class="ttc" id="classQString_html_aa032d4b5892338beb575a85e59bbbf38"><div class="ttname"><a href="classQString.html#aa032d4b5892338beb575a85e59bbbf38">QString::isEmpty</a></div><div class="ttdeci">bool isEmpty() const</div><div class="ttdoc">Returns true if the string has no characters; otherwise returns false. </div><div class="ttdef"><b>Definition:</b> <a href="qstring_8h_source.html#l00704">qstring.h:704</a></div></div>
<div class="ttc" id="classQMimeData_html_aabe97ee58dd1c5c8a1f82c8f4cbc4aca"><div class="ttname"><a href="classQMimeData.html#aabe97ee58dd1c5c8a1f82c8f4cbc4aca">QMimeData::html</a></div><div class="ttdeci">QString html() const</div><div class="ttdoc">Returns a string if the data stored in the object is HTML (MIME type text/html); otherwise returns an...</div><div class="ttdef"><b>Definition:</b> <a href="qmimedata_8cpp_source.html#l00400">qmimedata.cpp:400</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1ef35826b9ae50dad17f0bdc6d15bba1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ef35826b9ae50dad17f0bdc6d15bba1">&#9670;&nbsp;</a></span>mimeForFormat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQString.html">QString</a> QWindowsMimeHtml::mimeForFormat </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="qmime_8h.html#afe7528ac921fbbcc1ae15b313d4e16ae">FORMATETC</a> &amp;&#160;</td>
          <td class="paramname"><em>formatetc</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the mime type that will be created form the format specified in <em>formatetc</em>, or an empty string if this converter does not support <em>formatetc</em>. </p>
<p>All subclasses must reimplement this pure virtual function. </p>

<p>Implements <a class="el" href="classQWindowsMime.html#a57d0346c01d49da0988423f41bce4dbd">QWindowsMime</a>.</p>

<p class="definition">Definition at line <a class="el" href="qmime__win_8cpp_source.html#l00776">776</a> of file <a class="el" href="qmime__win_8cpp_source.html">qmime_win.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;{</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="qmime__win_8cpp.html#ab742466723b5d7b2b32840af3c51f9e9">getCf</a>(formatetc) == <a class="code" href="classQWindowsMimeHtml.html#aba43f36b9e016d6c84429ba6a9ccb859">CF_HTML</a>)</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;text/html&quot;</span>);</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classQString.html">QString</a>();</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;}</div><div class="ttc" id="qmime__win_8cpp_html_ab742466723b5d7b2b32840af3c51f9e9"><div class="ttname"><a href="qmime__win_8cpp.html#ab742466723b5d7b2b32840af3c51f9e9">getCf</a></div><div class="ttdeci">static int getCf(const FORMATETC &amp;formatetc)</div><div class="ttdef"><b>Definition:</b> <a href="qmime__win_8cpp_source.html#l00125">qmime_win.cpp:125</a></div></div>
<div class="ttc" id="qdbusservicewatcher_8cpp_html_a81beb56f94d46874cfa290c3d712024d"><div class="ttname"><a href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a></div><div class="ttdeci">QLatin1String(DBUS_INTERFACE_DBUS))) Q_GLOBAL_STATIC_WITH_ARGS(QString</div></div>
<div class="ttc" id="classQString_html"><div class="ttname"><a href="classQString.html">QString</a></div><div class="ttdoc">The QString class provides a Unicode character string. </div><div class="ttdef"><b>Definition:</b> <a href="qstring_8h_source.html#l00083">qstring.h:83</a></div></div>
<div class="ttc" id="classQWindowsMimeHtml_html_aba43f36b9e016d6c84429ba6a9ccb859"><div class="ttname"><a href="classQWindowsMimeHtml.html#aba43f36b9e016d6c84429ba6a9ccb859">QWindowsMimeHtml::CF_HTML</a></div><div class="ttdeci">int CF_HTML</div><div class="ttdef"><b>Definition:</b> <a href="qmime__win_8cpp_source.html#l00760">qmime_win.cpp:760</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Properties</h2>
<a id="aba43f36b9e016d6c84429ba6a9ccb859"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba43f36b9e016d6c84429ba6a9ccb859">&#9670;&nbsp;</a></span>CF_HTML</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int QWindowsMimeHtml::CF_HTML</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qmime__win_8cpp_source.html#l00760">760</a> of file <a class="el" href="qmime__win_8cpp_source.html">qmime_win.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/src/gui/kernel/<a class="el" href="qmime__win_8cpp_source.html">qmime_win.cpp</a></li>
</ul>
</div><!-- contents -->

<hr class="footer"/><address class="footer"><small><a href="https://dreamswork.github.io/qt4/">Qt 4.8 Source Code Browser</a></small></address>
</body>
</html>
