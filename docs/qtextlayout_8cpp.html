<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Qt 4.8: /src/gui/text/qtextlayout.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="qt_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Qt 4.8
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0"
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_1427e6b9e14483d8a13b4ea1c69420e3.html">qt-4.8.6</a></li><li class="navelem"><a class="el" href="dir_42c0970699667688278d00b1a5e7112e.html">src</a></li><li class="navelem"><a class="el" href="dir_079600a9700e7f89459fcd6c0090021f.html">gui</a></li><li class="navelem"><a class="el" href="dir_421173b88df5cd77ea9205380d4a6bf9.html">text</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">qtextlayout.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="qtextlayout_8h_source.html">qtextlayout.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="qtextengine__p_8h_source.html">qtextengine_p.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="qfont_8h_source.html">qfont.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="qapplication_8h_source.html">qapplication.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="qmath_8h_source.html">qmath.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="qpainter_8h_source.html">qpainter.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="qvarlengtharray_8h_source.html">qvarlengtharray.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="qtextformat_8h_source.html">qtextformat.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="qabstracttextdocumentlayout_8h_source.html">qabstracttextdocumentlayout.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="qtextdocument__p_8h_source.html">qtextdocument_p.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="qtextformat__p_8h_source.html">qtextformat_p.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="qstyleoption_8h_source.html">qstyleoption.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="qpainterpath_8h_source.html">qpainterpath.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="qglyphrun_8h_source.html">qglyphrun.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="qglyphrun__p_8h_source.html">qglyphrun_p.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="qrawfont_8h_source.html">qrawfont.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="qrawfont__p_8h_source.html">qrawfont_p.h</a>&quot;</code><br />
<code>#include &lt;limits.h&gt;</code><br />
<code>#include &lt;<a class="el" href="qdebug_8h_source.html">qdebug.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="qfontengine__p_8h_source.html">qfontengine_p.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="qfontengine__ft__p_8h_source.html">qfontengine_ft_p.h</a>&quot;</code><br />
</div>
<p><a href="qtextlayout_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab292f53179f83a9dc98472570ddbed6d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qtextlayout_8cpp.html#ab292f53179f83a9dc98472570ddbed6d">LB_DEBUG</a>&#160;&#160;&#160;<a class="el" href="qcocoasharedwindowmethods__mac__p_8h.html#a58b3c9466f06de35f7b3a9e536cb62aa">if</a> (0) <a class="el" href="qdebug_8h.html#ae453c0e22e09b777a9e6f94a2826fcd2">qDebug</a></td></tr>
<tr class="separator:ab292f53179f83a9dc98472570ddbed6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8630634f412ed8cf6cc4bfb7c6bc906"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qtextlayout_8cpp.html#ae8630634f412ed8cf6cc4bfb7c6bc906">ObjectSelectionBrush</a>&#160;&#160;&#160;(<a class="el" href="classQTextFormat.html#a3eaaa96b2ef86b17f45e628eae7db458a3d585cc86e2f5333496182a6e5cfdbb3">QTextFormat::ForegroundBrush</a> + 1)</td></tr>
<tr class="separator:ae8630634f412ed8cf6cc4bfb7c6bc906"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b0d19787050c72010b9f36527db722a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qtextlayout_8cpp.html#a7b0d19787050c72010b9f36527db722a">SuppressBackground</a>&#160;&#160;&#160;0x513</td></tr>
<tr class="separator:a7b0d19787050c72010b9f36527db722a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41f7f5092b2f1c6fb4187fe3775b0750"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qtextlayout_8cpp.html#a41f7f5092b2f1c6fb4187fe3775b0750">SuppressText</a>&#160;&#160;&#160;0x5012</td></tr>
<tr class="separator:a41f7f5092b2f1c6fb4187fe3775b0750"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9bd81f8563e92ef395c6419cd30b3a15"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qtextlayout_8cpp.html#a9bd81f8563e92ef395c6419cd30b3a15">addNextCluster</a> (int &amp;pos, int <a class="el" href="qt__cocoa__helpers__mac_8mm.html#a875104226bb2d18c4bead75b19e75065">end</a>, <a class="el" href="structQScriptLine.html">QScriptLine</a> &amp;line, int &amp;glyphCount, const <a class="el" href="structQScriptItem.html">QScriptItem</a> &amp;current, const unsigned short *logClusters, const <a class="el" href="structQGlyphLayout.html">QGlyphLayout</a> &amp;glyphs)</td></tr>
<tr class="separator:a9bd81f8563e92ef395c6419cd30b3a15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b96aaa7fd8d8eb704e353fc13a23e57"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qtextlayout_8cpp.html#a1b96aaa7fd8d8eb704e353fc13a23e57">addSelectedRegionsToPath</a> (<a class="el" href="classQTextEngine.html">QTextEngine</a> *eng, int lineNumber, const <a class="el" href="classQPointF.html">QPointF</a> &amp;pos, <a class="el" href="structQTextLayout_1_1FormatRange.html">QTextLayout::FormatRange</a> *selection, <a class="el" href="classQPainterPath.html">QPainterPath</a> *region, <a class="el" href="classQRectF.html">QRectF</a> <a class="el" href="qoutlinemapper_8cpp.html#a5643b5b6b56d377600b20e7f4678a5db">boundingRect</a>)</td></tr>
<tr class="separator:a1b96aaa7fd8d8eb704e353fc13a23e57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a1345b64991fa2c8ed2a0c0afd51c23"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classQRectF.html">QRectF</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qtextlayout_8cpp.html#a4a1345b64991fa2c8ed2a0c0afd51c23">clipIfValid</a> (const <a class="el" href="classQRectF.html">QRectF</a> &amp;rect, const <a class="el" href="classQRectF.html">QRectF</a> &amp;clip)</td></tr>
<tr class="separator:a4a1345b64991fa2c8ed2a0c0afd51c23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a068858f06ce75460c1789b9b34e89a77"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qtextlayout_8cpp.html#a068858f06ce75460c1789b9b34e89a77">drawMenuText</a> (<a class="el" href="classQPainter.html">QPainter</a> *p, <a class="el" href="structQFixed.html">QFixed</a> x, <a class="el" href="structQFixed.html">QFixed</a> y, const <a class="el" href="structQScriptItem.html">QScriptItem</a> &amp;si, <a class="el" href="classQTextItemInt.html">QTextItemInt</a> &amp;gf, <a class="el" href="classQTextEngine.html">QTextEngine</a> *eng, int start, int glyph_start)</td></tr>
<tr class="separator:a068858f06ce75460c1789b9b34e89a77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5580caebfe7b5cc120a8b2e44d38727"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qtextlayout_8cpp.html#ac5580caebfe7b5cc120a8b2e44d38727">setPenAndDrawBackground</a> (<a class="el" href="classQPainter.html">QPainter</a> *p, const <a class="el" href="classQPen.html">QPen</a> &amp;defaultPen, const <a class="el" href="classQTextCharFormat.html">QTextCharFormat</a> &amp;chf, const <a class="el" href="classQRectF.html">QRectF</a> &amp;r)</td></tr>
<tr class="separator:ac5580caebfe7b5cc120a8b2e44d38727"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ab292f53179f83a9dc98472570ddbed6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab292f53179f83a9dc98472570ddbed6d">&#9670;&nbsp;</a></span>LB_DEBUG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LB_DEBUG&#160;&#160;&#160;<a class="el" href="qcocoasharedwindowmethods__mac__p_8h.html#a58b3c9466f06de35f7b3a9e536cb62aa">if</a> (0) <a class="el" href="qdebug_8h.html#ae453c0e22e09b777a9e6f94a2826fcd2">qDebug</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qtextlayout_8cpp_source.html#l01639">1639</a> of file <a class="el" href="qtextlayout_8cpp_source.html">qtextlayout.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qtextlayout_8cpp_source.html#l01782">QTextLine::layout_helper()</a>.</p>

</div>
</div>
<a id="ae8630634f412ed8cf6cc4bfb7c6bc906"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8630634f412ed8cf6cc4bfb7c6bc906">&#9670;&nbsp;</a></span>ObjectSelectionBrush</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ObjectSelectionBrush&#160;&#160;&#160;(<a class="el" href="classQTextFormat.html#a3eaaa96b2ef86b17f45e628eae7db458a3d585cc86e2f5333496182a6e5cfdbb3">QTextFormat::ForegroundBrush</a> + 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qtextlayout_8cpp_source.html#l00072">72</a> of file <a class="el" href="qtextlayout_8cpp_source.html">qtextlayout.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qtextlayout_8cpp_source.html#l01074">QTextLayout::draw()</a>, and <a class="el" href="qtextlayout_8cpp_source.html#l02361">QTextLine::draw()</a>.</p>

</div>
</div>
<a id="a7b0d19787050c72010b9f36527db722a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b0d19787050c72010b9f36527db722a">&#9670;&nbsp;</a></span>SuppressBackground</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SuppressBackground&#160;&#160;&#160;0x513</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qtextlayout_8cpp_source.html#l00074">74</a> of file <a class="el" href="qtextlayout_8cpp_source.html">qtextlayout.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qtextlayout_8cpp_source.html#l01074">QTextLayout::draw()</a>, and <a class="el" href="qtextlayout_8cpp_source.html#l02150">setPenAndDrawBackground()</a>.</p>

</div>
</div>
<a id="a41f7f5092b2f1c6fb4187fe3775b0750"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41f7f5092b2f1c6fb4187fe3775b0750">&#9670;&nbsp;</a></span>SuppressText</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SuppressText&#160;&#160;&#160;0x5012</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qtextlayout_8cpp_source.html#l00073">73</a> of file <a class="el" href="qtextlayout_8cpp_source.html">qtextlayout.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qtextlayout_8cpp_source.html#l01074">QTextLayout::draw()</a>, and <a class="el" href="qtextlayout_8cpp_source.html#l02361">QTextLine::draw()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a9bd81f8563e92ef395c6419cd30b3a15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bd81f8563e92ef395c6419cd30b3a15">&#9670;&nbsp;</a></span>addNextCluster()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void addNextCluster </td>
          <td>(</td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structQScriptLine.html">QScriptLine</a> &amp;&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>glyphCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structQScriptItem.html">QScriptItem</a> &amp;&#160;</td>
          <td class="paramname"><em>current</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned short *&#160;</td>
          <td class="paramname"><em>logClusters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structQGlyphLayout.html">QGlyphLayout</a> &amp;&#160;</td>
          <td class="paramname"><em>glyphs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qtextlayout_8cpp_source.html#l01760">1760</a> of file <a class="el" href="qtextlayout_8cpp_source.html">qtextlayout.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qtextlayout_8cpp_source.html#l01782">QTextLine::layout_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;{</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    <span class="keywordtype">int</span> glyphPosition = logClusters[pos];</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    <span class="keywordflow">do</span> { <span class="comment">// got to the first next cluster</span></div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;        ++pos;</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;        ++line.<a class="code" href="structQScriptLine.html#a8c239e328e3c602a889f8047633015a1">length</a>;</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    } <span class="keywordflow">while</span> (pos &lt; <a class="code" href="qt__cocoa__helpers__mac_8mm.html#a875104226bb2d18c4bead75b19e75065">end</a> &amp;&amp; logClusters[pos] == glyphPosition);</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    <span class="keywordflow">do</span> { <span class="comment">// calculate the textWidth for the rest of the current cluster.</span></div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;        <span class="keywordflow">if</span> (!glyphs.<a class="code" href="structQGlyphLayout.html#a148d1f735697788d627fa32801d73de4">attributes</a>[glyphPosition].dontPrint)</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;            line.<a class="code" href="structQScriptLine.html#a1a9c1c0f984e4279104a193ce4c746aa">textWidth</a> += glyphs.<a class="code" href="structQGlyphLayout.html#ac36596f9314143684faaa8cb68300fe1">advances_x</a>[glyphPosition];</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;        ++glyphPosition;</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    } <span class="keywordflow">while</span> (glyphPosition &lt; current.<a class="code" href="structQScriptItem.html#aa858b68738def96fb78e36d42f82fb9c">num_glyphs</a> &amp;&amp; !glyphs.<a class="code" href="structQGlyphLayout.html#a148d1f735697788d627fa32801d73de4">attributes</a>[glyphPosition].clusterStart);</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    <a class="code" href="qglobal_8h.html#ac29a7ecc02f777dfeb2b68a051561c35">Q_ASSERT</a>((pos == <a class="code" href="qt__cocoa__helpers__mac_8mm.html#a875104226bb2d18c4bead75b19e75065">end</a> &amp;&amp; glyphPosition == current.<a class="code" href="structQScriptItem.html#aa858b68738def96fb78e36d42f82fb9c">num_glyphs</a>) || logClusters[pos] == glyphPosition);</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    ++glyphCount;</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;}</div><div class="ttc" id="structQGlyphLayout_html_ac36596f9314143684faaa8cb68300fe1"><div class="ttname"><a href="structQGlyphLayout.html#ac36596f9314143684faaa8cb68300fe1">QGlyphLayout::advances_x</a></div><div class="ttdeci">QFixed * advances_x</div><div class="ttdef"><b>Definition:</b> <a href="qtextengine__p_8h_source.html#l00173">qtextengine_p.h:173</a></div></div>
<div class="ttc" id="structQScriptLine_html_a1a9c1c0f984e4279104a193ce4c746aa"><div class="ttname"><a href="structQScriptLine.html#a1a9c1c0f984e4279104a193ce4c746aa">QScriptLine::textWidth</a></div><div class="ttdeci">QFixed textWidth</div><div class="ttdef"><b>Definition:</b> <a href="qtextengine__p_8h_source.html#l00388">qtextengine_p.h:388</a></div></div>
<div class="ttc" id="qglobal_8h_html_ac29a7ecc02f777dfeb2b68a051561c35"><div class="ttname"><a href="qglobal_8h.html#ac29a7ecc02f777dfeb2b68a051561c35">Q_ASSERT</a></div><div class="ttdeci">#define Q_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l01823">qglobal.h:1823</a></div></div>
<div class="ttc" id="structQScriptItem_html_aa858b68738def96fb78e36d42f82fb9c"><div class="ttname"><a href="structQScriptItem.html#aa858b68738def96fb78e36d42f82fb9c">QScriptItem::num_glyphs</a></div><div class="ttdeci">unsigned short num_glyphs</div><div class="ttdef"><b>Definition:</b> <a href="qtextengine__p_8h_source.html#l00361">qtextengine_p.h:361</a></div></div>
<div class="ttc" id="structQScriptLine_html_a8c239e328e3c602a889f8047633015a1"><div class="ttname"><a href="structQScriptLine.html#a8c239e328e3c602a889f8047633015a1">QScriptLine::length</a></div><div class="ttdeci">signed int length</div><div class="ttdef"><b>Definition:</b> <a href="qtextengine__p_8h_source.html#l00392">qtextengine_p.h:392</a></div></div>
<div class="ttc" id="structQGlyphLayout_html_a148d1f735697788d627fa32801d73de4"><div class="ttname"><a href="structQGlyphLayout.html#a148d1f735697788d627fa32801d73de4">QGlyphLayout::attributes</a></div><div class="ttdeci">HB_GlyphAttributes * attributes</div><div class="ttdef"><b>Definition:</b> <a href="qtextengine__p_8h_source.html#l00176">qtextengine_p.h:176</a></div></div>
<div class="ttc" id="qt__cocoa__helpers__mac_8mm_html_a875104226bb2d18c4bead75b19e75065"><div class="ttname"><a href="qt__cocoa__helpers__mac_8mm.html#a875104226bb2d18c4bead75b19e75065">end</a></div><div class="ttdeci">static const KeyPair *const end</div><div class="ttdef"><b>Definition:</b> <a href="qt__cocoa__helpers__mac_8mm_source.html#l00652">qt_cocoa_helpers_mac.mm:652</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1b96aaa7fd8d8eb704e353fc13a23e57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b96aaa7fd8d8eb704e353fc13a23e57">&#9670;&nbsp;</a></span>addSelectedRegionsToPath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void addSelectedRegionsToPath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQTextEngine.html">QTextEngine</a> *&#160;</td>
          <td class="paramname"><em>eng</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classQPointF.html">QPointF</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structQTextLayout_1_1FormatRange.html">QTextLayout::FormatRange</a> *&#160;</td>
          <td class="paramname"><em>selection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classQPainterPath.html">QPainterPath</a> *&#160;</td>
          <td class="paramname"><em>region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classQRectF.html">QRectF</a>&#160;</td>
          <td class="paramname"><em>boundingRect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qtextlayout_8cpp_source.html#l01000">1000</a> of file <a class="el" href="qtextlayout_8cpp_source.html">qtextlayout.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qtextlayout_8cpp_source.html#l01074">QTextLayout::draw()</a>.</p>
<div class="fragment"><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;{</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="keyword">const</span> <a class="code" href="structQScriptLine.html">QScriptLine</a> &amp;line = eng-&gt;<a class="code" href="classQTextEngine.html#a3ad19d6fa10e4ec1436da4131ca2258b">lines</a>[lineNumber];</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <a class="code" href="structQTextLineItemIterator.html">QTextLineItemIterator</a> iterator(eng, lineNumber, pos, selection);</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keyword">const</span> <a class="code" href="qglobal_8h.html#abe7fa83b9984f2a0bbd470063c14e0f5">qreal</a> selectionY = pos.<a class="code" href="classQPointF.html#a5acf3dd16fc6a3a3797b5e6d03a21e38">y</a>() + line.<a class="code" href="structQScriptLine.html#a53c922617a973553f9dfa95a6d03695b">y</a>.<a class="code" href="structQFixed.html#a9867daa051679414c3189852234171b2">toReal</a>();</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <span class="keyword">const</span> <a class="code" href="qglobal_8h.html#abe7fa83b9984f2a0bbd470063c14e0f5">qreal</a> lineHeight = line.<a class="code" href="structQScriptLine.html#a7a93304d6d7983ff12ec27ec56d7ee74">height</a>().<a class="code" href="structQFixed.html#a9867daa051679414c3189852234171b2">toReal</a>();</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <a class="code" href="structQFixed.html">QFixed</a> lastSelectionX = iterator.x;</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <a class="code" href="structQFixed.html">QFixed</a> lastSelectionWidth;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <span class="keywordflow">while</span> (!iterator.atEnd()) {</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        iterator.next();</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <a class="code" href="structQFixed.html">QFixed</a> selectionX, selectionWidth;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        <span class="keywordflow">if</span> (iterator.getSelectionBounds(&amp;selectionX, &amp;selectionWidth)) {</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;            <span class="keywordflow">if</span> (selectionX == lastSelectionX + lastSelectionWidth) {</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                lastSelectionWidth += selectionWidth;</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;            }</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;            <span class="keywordflow">if</span> (lastSelectionWidth &gt; 0) {</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                <a class="code" href="classQRectF.html">QRectF</a> rect = boundingRect &amp; <a class="code" href="classQRectF.html">QRectF</a>(lastSelectionX.<a class="code" href="structQFixed.html#a9867daa051679414c3189852234171b2">toReal</a>(), selectionY, lastSelectionWidth.<a class="code" href="structQFixed.html#a9867daa051679414c3189852234171b2">toReal</a>(), lineHeight);</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                rect.<a class="code" href="classQRectF.html#a4c507eeac5c63a21a829b3891113af1f">moveLeft</a>(<a class="code" href="qmath_8h.html#a90fd634f1cf1c03263337de01372c582">qFloor</a>(rect.<a class="code" href="classQRectF.html#aa792381e58aae3b2e8efdfa46b499277">left</a>()));</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;                rect.<a class="code" href="classQRectF.html#a6310d76ce99c4bebc0748729d2400ec4">moveTop</a>(<a class="code" href="qmath_8h.html#a90fd634f1cf1c03263337de01372c582">qFloor</a>(rect.<a class="code" href="classQRectF.html#a09f434497e6601379e56866ba1400ba9">top</a>()));</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                region-&gt;<a class="code" href="classQPainterPath.html#a12d7a2cee0a1b3713ba966854d023871">addRect</a>(rect);</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;            }</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;            lastSelectionX = selectionX;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;            lastSelectionWidth = selectionWidth;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        }</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    }</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    <span class="keywordflow">if</span> (lastSelectionWidth &gt; 0) {</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        <a class="code" href="classQRectF.html">QRectF</a> rect = boundingRect &amp; <a class="code" href="classQRectF.html">QRectF</a>(lastSelectionX.<a class="code" href="structQFixed.html#a9867daa051679414c3189852234171b2">toReal</a>(), selectionY, lastSelectionWidth.<a class="code" href="structQFixed.html#a9867daa051679414c3189852234171b2">toReal</a>(), lineHeight);</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;        rect.<a class="code" href="classQRectF.html#a4c507eeac5c63a21a829b3891113af1f">moveLeft</a>(<a class="code" href="qmath_8h.html#a90fd634f1cf1c03263337de01372c582">qFloor</a>(rect.<a class="code" href="classQRectF.html#aa792381e58aae3b2e8efdfa46b499277">left</a>()));</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;        rect.<a class="code" href="classQRectF.html#a6310d76ce99c4bebc0748729d2400ec4">moveTop</a>(<a class="code" href="qmath_8h.html#a90fd634f1cf1c03263337de01372c582">qFloor</a>(rect.<a class="code" href="classQRectF.html#a09f434497e6601379e56866ba1400ba9">top</a>()));</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        region-&gt;<a class="code" href="classQPainterPath.html#a12d7a2cee0a1b3713ba966854d023871">addRect</a>(rect);</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    }</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;}</div><div class="ttc" id="classQRectF_html_a6310d76ce99c4bebc0748729d2400ec4"><div class="ttname"><a href="classQRectF.html#a6310d76ce99c4bebc0748729d2400ec4">QRectF::moveTop</a></div><div class="ttdeci">void moveTop(qreal pos)</div><div class="ttdoc">Moves the rectangle vertically, leaving the rectangle&amp;#39;s top line at the given y coordinate. </div><div class="ttdef"><b>Definition:</b> <a href="qrect_8h_source.html#l00691">qrect.h:691</a></div></div>
<div class="ttc" id="qglobal_8h_html_abe7fa83b9984f2a0bbd470063c14e0f5"><div class="ttname"><a href="qglobal_8h.html#abe7fa83b9984f2a0bbd470063c14e0f5">qreal</a></div><div class="ttdeci">double qreal</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l01193">qglobal.h:1193</a></div></div>
<div class="ttc" id="classQRectF_html_a4c507eeac5c63a21a829b3891113af1f"><div class="ttname"><a href="classQRectF.html#a4c507eeac5c63a21a829b3891113af1f">QRectF::moveLeft</a></div><div class="ttdeci">void moveLeft(qreal pos)</div><div class="ttdoc">Moves the rectangle horizontally, leaving the rectangle&amp;#39;s left edge at the given x coordinate...</div><div class="ttdef"><b>Definition:</b> <a href="qrect_8h_source.html#l00689">qrect.h:689</a></div></div>
<div class="ttc" id="qmath_8h_html_a90fd634f1cf1c03263337de01372c582"><div class="ttname"><a href="qmath_8h.html#a90fd634f1cf1c03263337de01372c582">qFloor</a></div><div class="ttdeci">int qFloor(qreal v)</div><div class="ttdef"><b>Definition:</b> <a href="qmath_8h_source.html#l00073">qmath.h:73</a></div></div>
<div class="ttc" id="classQRectF_html_aa792381e58aae3b2e8efdfa46b499277"><div class="ttname"><a href="classQRectF.html#aa792381e58aae3b2e8efdfa46b499277">QRectF::left</a></div><div class="ttdeci">qreal left() const</div><div class="ttdoc">Returns the x-coordinate of the rectangle&amp;#39;s left edge. </div><div class="ttdef"><b>Definition:</b> <a href="qrect_8h_source.html#l00525">qrect.h:525</a></div></div>
<div class="ttc" id="structQScriptLine_html_a7a93304d6d7983ff12ec27ec56d7ee74"><div class="ttname"><a href="structQScriptLine.html#a7a93304d6d7983ff12ec27ec56d7ee74">QScriptLine::height</a></div><div class="ttdeci">QFixed height() const</div><div class="ttdef"><b>Definition:</b> <a href="qtextengine__p_8h_source.html#l00397">qtextengine_p.h:397</a></div></div>
<div class="ttc" id="structQFixed_html"><div class="ttname"><a href="structQFixed.html">QFixed</a></div><div class="ttdef"><b>Definition:</b> <a href="qfixed__p_8h_source.html#l00062">qfixed_p.h:62</a></div></div>
<div class="ttc" id="classQRectF_html"><div class="ttname"><a href="classQRectF.html">QRectF</a></div><div class="ttdoc">The QRectF class defines a rectangle in the plane using floating point precision. ...</div><div class="ttdef"><b>Definition:</b> <a href="qrect_8h_source.html#l00511">qrect.h:511</a></div></div>
<div class="ttc" id="classQPainterPath_html_a12d7a2cee0a1b3713ba966854d023871"><div class="ttname"><a href="classQPainterPath.html#a12d7a2cee0a1b3713ba966854d023871">QPainterPath::addRect</a></div><div class="ttdeci">void addRect(const QRectF &amp;rect)</div><div class="ttdoc">Adds the given rectangle to this path as a closed subpath. </div><div class="ttdef"><b>Definition:</b> <a href="qpainterpath_8cpp_source.html#l01085">qpainterpath.cpp:1085</a></div></div>
<div class="ttc" id="classQTextEngine_html_a3ad19d6fa10e4ec1436da4131ca2258b"><div class="ttname"><a href="classQTextEngine.html#a3ad19d6fa10e4ec1436da4131ca2258b">QTextEngine::lines</a></div><div class="ttdeci">QScriptLineArray lines</div><div class="ttdef"><b>Definition:</b> <a href="qtextengine__p_8h_source.html#l00562">qtextengine_p.h:562</a></div></div>
<div class="ttc" id="structQTextLineItemIterator_html"><div class="ttname"><a href="structQTextLineItemIterator.html">QTextLineItemIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="qtextengine__p_8h_source.html#l00661">qtextengine_p.h:661</a></div></div>
<div class="ttc" id="structQScriptLine_html_a53c922617a973553f9dfa95a6d03695b"><div class="ttname"><a href="structQScriptLine.html#a53c922617a973553f9dfa95a6d03695b">QScriptLine::y</a></div><div class="ttdeci">QFixed y</div><div class="ttdef"><b>Definition:</b> <a href="qtextengine__p_8h_source.html#l00386">qtextengine_p.h:386</a></div></div>
<div class="ttc" id="structQFixed_html_a9867daa051679414c3189852234171b2"><div class="ttname"><a href="structQFixed.html#a9867daa051679414c3189852234171b2">QFixed::toReal</a></div><div class="ttdeci">qreal toReal() const</div><div class="ttdef"><b>Definition:</b> <a href="qfixed__p_8h_source.html#l00077">qfixed_p.h:77</a></div></div>
<div class="ttc" id="structQScriptLine_html"><div class="ttname"><a href="structQScriptLine.html">QScriptLine</a></div><div class="ttdef"><b>Definition:</b> <a href="qtextengine__p_8h_source.html#l00375">qtextengine_p.h:375</a></div></div>
<div class="ttc" id="classQPointF_html_a5acf3dd16fc6a3a3797b5e6d03a21e38"><div class="ttname"><a href="classQPointF.html#a5acf3dd16fc6a3a3797b5e6d03a21e38">QPointF::y</a></div><div class="ttdeci">qreal y() const</div><div class="ttdoc">Returns the y-coordinate of this point. </div><div class="ttdef"><b>Definition:</b> <a href="qpoint_8h_source.html#l00287">qpoint.h:287</a></div></div>
<div class="ttc" id="classQRectF_html_a09f434497e6601379e56866ba1400ba9"><div class="ttname"><a href="classQRectF.html#a09f434497e6601379e56866ba1400ba9">QRectF::top</a></div><div class="ttdeci">qreal top() const</div><div class="ttdoc">Returns the y-coordinate of the rectangle&amp;#39;s top edge. </div><div class="ttdef"><b>Definition:</b> <a href="qrect_8h_source.html#l00526">qrect.h:526</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4a1345b64991fa2c8ed2a0c0afd51c23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a1345b64991fa2c8ed2a0c0afd51c23">&#9670;&nbsp;</a></span>clipIfValid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classQRectF.html">QRectF</a> clipIfValid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classQRectF.html">QRectF</a> &amp;&#160;</td>
          <td class="paramname"><em>rect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classQRectF.html">QRectF</a> &amp;&#160;</td>
          <td class="paramname"><em>clip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qtextlayout_8cpp_source.html#l01044">1044</a> of file <a class="el" href="qtextlayout_8cpp_source.html">qtextlayout.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qtextlayout_8cpp_source.html#l01074">QTextLayout::draw()</a>.</p>
<div class="fragment"><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;{</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <span class="keywordflow">return</span> clip.<a class="code" href="classQRectF.html#a7a76b50bbefea11eb1668809cc76b643">isValid</a>() ? (rect &amp; clip) : rect;</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;}</div><div class="ttc" id="classQRectF_html_a7a76b50bbefea11eb1668809cc76b643"><div class="ttname"><a href="classQRectF.html#a7a76b50bbefea11eb1668809cc76b643">QRectF::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdoc">Returns true if the rectangle is valid, otherwise returns false. </div><div class="ttdef"><b>Definition:</b> <a href="qrect_8h_source.html#l00661">qrect.h:661</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a068858f06ce75460c1789b9b34e89a77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a068858f06ce75460c1789b9b34e89a77">&#9670;&nbsp;</a></span>drawMenuText()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void drawMenuText </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQPainter.html">QPainter</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structQFixed.html">QFixed</a>&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structQFixed.html">QFixed</a>&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structQScriptItem.html">QScriptItem</a> &amp;&#160;</td>
          <td class="paramname"><em>si</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classQTextItemInt.html">QTextItemInt</a> &amp;&#160;</td>
          <td class="paramname"><em>gf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classQTextEngine.html">QTextEngine</a> *&#160;</td>
          <td class="paramname"><em>eng</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>glyph_start</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qtextlayout_8cpp_source.html#l02077">2077</a> of file <a class="el" href="qtextlayout_8cpp_source.html">qtextlayout.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qtextlayout_8cpp_source.html#l02361">QTextLine::draw()</a>.</p>
<div class="fragment"><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;{</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;    <span class="keywordtype">int</span> ge = glyph_start + gf.<a class="code" href="classQTextItemInt.html#a94accc53cb1b08d255c36566e1972a36">glyphs</a>.<a class="code" href="structQGlyphLayout.html#a76ec66c7afb1d230bce7f1c23640968c">numGlyphs</a>;</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;    <span class="keywordtype">int</span> gs = glyph_start;</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="qt__cocoa__helpers__mac_8mm.html#a875104226bb2d18c4bead75b19e75065">end</a> = start + gf.<a class="code" href="classQTextItemInt.html#a24dd0f56fa590aecfb87aaad97215a3c">num_chars</a>;</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *logClusters = eng-&gt;<a class="code" href="classQTextEngine.html#abd2056c932f91f96d1b1501e85556fbc">logClusters</a>(&amp;si);</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;    <a class="code" href="structQGlyphLayout.html">QGlyphLayout</a> glyphs = eng-&gt;<a class="code" href="classQTextEngine.html#a4462c874da6f9afa67a2d1a454f96a9f">shapedGlyphs</a>(&amp;si);</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;    <a class="code" href="structQFixed.html">QFixed</a> orig_width = gf.<a class="code" href="classQTextItemInt.html#a824c64eb9951e664ff603ebbf3eaee12">width</a>;</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;    <span class="keywordtype">int</span> *ul = eng-&gt;<a class="code" href="classQTextEngine.html#a83bf5db14d07fe049bac840f0a965a69">underlinePositions</a>;</div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;    <span class="keywordflow">if</span> (ul)</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;        <span class="keywordflow">while</span> (*ul != -1 &amp;&amp; *ul &lt; start)</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;            ++ul;</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;    <span class="keywordtype">bool</span> rtl = si.<a class="code" href="structQScriptItem.html#a46b8a600f8760c644e5eb60f6150d3a0">analysis</a>.<a class="code" href="structQScriptAnalysis.html#aa0ed31c5cbd76297e6a60249f1e533cb">bidiLevel</a> % 2;</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;    <span class="keywordflow">if</span> (rtl)</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;        x += si.<a class="code" href="structQScriptItem.html#a3053df2e38f5d340af416074f2d82f5f">width</a>;</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;    <span class="keywordflow">do</span> {</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;        <span class="keywordtype">int</span> gtmp = ge;</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;        <span class="keywordtype">int</span> stmp = <a class="code" href="qt__cocoa__helpers__mac_8mm.html#a875104226bb2d18c4bead75b19e75065">end</a>;</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;        <span class="keywordflow">if</span> (ul &amp;&amp; *ul != -1 &amp;&amp; *ul &lt; end) {</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;            stmp = *ul;</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;            gtmp = logClusters[*ul-si.<a class="code" href="structQScriptItem.html#a8a754b2cc073f644a4cc5716a79dfde2">position</a>];</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;        }</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;        gf.<a class="code" href="classQTextItemInt.html#a94accc53cb1b08d255c36566e1972a36">glyphs</a> = glyphs.<a class="code" href="structQGlyphLayout.html#ae4aad28791ace1ad6de1286441865562">mid</a>(gs, gtmp - gs);</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;        gf.<a class="code" href="classQTextItemInt.html#a24dd0f56fa590aecfb87aaad97215a3c">num_chars</a> = stmp - start;</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;        gf.<a class="code" href="classQTextItemInt.html#a761d24e9d2e3a0f3371ae7ce450de97d">chars</a> = eng-&gt;<a class="code" href="classQTextEngine.html#a43f7c46269a52e6a26685fdd2765f693">layoutData</a>-&gt;<a class="code" href="structQTextEngine_1_1LayoutData.html#a12ba4072f1f473c5b998cdc439b83ae3">string</a>.<a class="code" href="classQString.html#af653a95345ba3cd5bade2a1e07f2bb58">unicode</a>() + start;</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;        <a class="code" href="structQFixed.html">QFixed</a> w = 0;</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;        <span class="keywordflow">while</span> (gs &lt; gtmp) {</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;            w += glyphs.<a class="code" href="structQGlyphLayout.html#a2c7e82ba16612095df0c3adc86397cf6">effectiveAdvance</a>(gs);</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;            ++gs;</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;        }</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;        start = stmp;</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;        gf.<a class="code" href="classQTextItemInt.html#a824c64eb9951e664ff603ebbf3eaee12">width</a> = w;</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;        <span class="keywordflow">if</span> (rtl)</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;            x -= w;</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;        <span class="keywordflow">if</span> (gf.<a class="code" href="classQTextItemInt.html#a24dd0f56fa590aecfb87aaad97215a3c">num_chars</a>)</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;            p-&gt;<a class="code" href="classQPainter.html#a4288566b193a05a58fda333a21d9ab3a">drawTextItem</a>(<a class="code" href="classQPointF.html">QPointF</a>(x.<a class="code" href="structQFixed.html#a9867daa051679414c3189852234171b2">toReal</a>(), y.<a class="code" href="structQFixed.html#a9867daa051679414c3189852234171b2">toReal</a>()), gf);</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;        <span class="keywordflow">if</span> (!rtl)</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;            x += w;</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;        <span class="keywordflow">if</span> (ul &amp;&amp; *ul != -1 &amp;&amp; *ul &lt; end) {</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;            <span class="comment">// draw underline</span></div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;            gtmp = (*ul == end-1) ? ge : logClusters[*ul+1-si.<a class="code" href="structQScriptItem.html#a8a754b2cc073f644a4cc5716a79dfde2">position</a>];</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;            ++stmp;</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;            gf.<a class="code" href="classQTextItemInt.html#a94accc53cb1b08d255c36566e1972a36">glyphs</a> = glyphs.<a class="code" href="structQGlyphLayout.html#ae4aad28791ace1ad6de1286441865562">mid</a>(gs, gtmp - gs);</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;            gf.<a class="code" href="classQTextItemInt.html#a24dd0f56fa590aecfb87aaad97215a3c">num_chars</a> = stmp - start;</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;            gf.<a class="code" href="classQTextItemInt.html#a761d24e9d2e3a0f3371ae7ce450de97d">chars</a> = eng-&gt;<a class="code" href="classQTextEngine.html#a43f7c46269a52e6a26685fdd2765f693">layoutData</a>-&gt;<a class="code" href="structQTextEngine_1_1LayoutData.html#a12ba4072f1f473c5b998cdc439b83ae3">string</a>.<a class="code" href="classQString.html#af653a95345ba3cd5bade2a1e07f2bb58">unicode</a>() + start;</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;            gf.<a class="code" href="classQTextItemInt.html#abca3c0b6da19c1be70b5bb46d2b9ed46">logClusters</a> = logClusters + start - si.<a class="code" href="structQScriptItem.html#a8a754b2cc073f644a4cc5716a79dfde2">position</a>;</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;            w = 0;</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;            <span class="keywordflow">while</span> (gs &lt; gtmp) {</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;                w += glyphs.<a class="code" href="structQGlyphLayout.html#a2c7e82ba16612095df0c3adc86397cf6">effectiveAdvance</a>(gs);</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;                ++gs;</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;            }</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;            ++start;</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;            gf.<a class="code" href="classQTextItemInt.html#a824c64eb9951e664ff603ebbf3eaee12">width</a> = w;</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;            gf.<a class="code" href="classQTextItemInt.html#ac81189b0d66a33b2ca672e46dede1861">underlineStyle</a> = <a class="code" href="classQTextCharFormat.html#a8b16d43f2a65c34e9048c1a977eb2f2ca69fab953af781f8944d2ded267b9674c">QTextCharFormat::SingleUnderline</a>;</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;            <span class="keywordflow">if</span> (rtl)</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;                x -= w;</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;            p-&gt;<a class="code" href="classQPainter.html#a4288566b193a05a58fda333a21d9ab3a">drawTextItem</a>(<a class="code" href="classQPointF.html">QPointF</a>(x.<a class="code" href="structQFixed.html#a9867daa051679414c3189852234171b2">toReal</a>(), y.<a class="code" href="structQFixed.html#a9867daa051679414c3189852234171b2">toReal</a>()), gf);</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;            <span class="keywordflow">if</span> (!rtl)</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;                x += w;</div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;            gf.<a class="code" href="classQTextItemInt.html#ac81189b0d66a33b2ca672e46dede1861">underlineStyle</a> = <a class="code" href="classQTextCharFormat.html#a8b16d43f2a65c34e9048c1a977eb2f2cac90c13f1f2c5e1062bbd5fb0dc275b54">QTextCharFormat::NoUnderline</a>;</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;            ++gf.<a class="code" href="classQTextItemInt.html#a761d24e9d2e3a0f3371ae7ce450de97d">chars</a>;</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;            ++ul;</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;        }</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;    } <span class="keywordflow">while</span> (gs &lt; ge);</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;    gf.<a class="code" href="classQTextItemInt.html#a824c64eb9951e664ff603ebbf3eaee12">width</a> = orig_width;</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;}</div><div class="ttc" id="structQScriptItem_html_a8a754b2cc073f644a4cc5716a79dfde2"><div class="ttname"><a href="structQScriptItem.html#a8a754b2cc073f644a4cc5716a79dfde2">QScriptItem::position</a></div><div class="ttdeci">int position</div><div class="ttdef"><b>Definition:</b> <a href="qtextengine__p_8h_source.html#l00359">qtextengine_p.h:359</a></div></div>
<div class="ttc" id="classQTextItemInt_html_a761d24e9d2e3a0f3371ae7ce450de97d"><div class="ttname"><a href="classQTextItemInt.html#a761d24e9d2e3a0f3371ae7ce450de97d">QTextItemInt::chars</a></div><div class="ttdeci">const QChar * chars</div><div class="ttdef"><b>Definition:</b> <a href="qtextengine__p_8h_source.html#l00332">qtextengine_p.h:332</a></div></div>
<div class="ttc" id="classQPointF_html"><div class="ttname"><a href="classQPointF.html">QPointF</a></div><div class="ttdoc">The QPointF class defines a point in the plane using floating point precision. </div><div class="ttdef"><b>Definition:</b> <a href="qpoint_8h_source.html#l00214">qpoint.h:214</a></div></div>
<div class="ttc" id="structQGlyphLayout_html_a76ec66c7afb1d230bce7f1c23640968c"><div class="ttname"><a href="structQGlyphLayout.html#a76ec66c7afb1d230bce7f1c23640968c">QGlyphLayout::numGlyphs</a></div><div class="ttdeci">int numGlyphs</div><div class="ttdef"><b>Definition:</b> <a href="qtextengine__p_8h_source.html#l00178">qtextengine_p.h:178</a></div></div>
<div class="ttc" id="classQTextEngine_html_a83bf5db14d07fe049bac840f0a965a69"><div class="ttname"><a href="classQTextEngine.html#a83bf5db14d07fe049bac840f0a965a69">QTextEngine::underlinePositions</a></div><div class="ttdeci">int * underlinePositions</div><div class="ttdef"><b>Definition:</b> <a href="qtextengine__p_8h_source.html#l00596">qtextengine_p.h:596</a></div></div>
<div class="ttc" id="classQTextItemInt_html_abca3c0b6da19c1be70b5bb46d2b9ed46"><div class="ttname"><a href="classQTextItemInt.html#abca3c0b6da19c1be70b5bb46d2b9ed46">QTextItemInt::logClusters</a></div><div class="ttdeci">const unsigned short * logClusters</div><div class="ttdef"><b>Definition:</b> <a href="qtextengine__p_8h_source.html#l00333">qtextengine_p.h:333</a></div></div>
<div class="ttc" id="classQTextEngine_html_a43f7c46269a52e6a26685fdd2765f693"><div class="ttname"><a href="classQTextEngine.html#a43f7c46269a52e6a26685fdd2765f693">QTextEngine::layoutData</a></div><div class="ttdeci">LayoutData * layoutData</div><div class="ttdef"><b>Definition:</b> <a href="qtextengine__p_8h_source.html#l00598">qtextengine_p.h:598</a></div></div>
<div class="ttc" id="classQTextEngine_html_abd2056c932f91f96d1b1501e85556fbc"><div class="ttname"><a href="classQTextEngine.html#abd2056c932f91f96d1b1501e85556fbc">QTextEngine::logClusters</a></div><div class="ttdeci">unsigned short * logClusters(const QScriptItem *si) const</div><div class="ttdef"><b>Definition:</b> <a href="qtextengine__p_8h_source.html#l00511">qtextengine_p.h:511</a></div></div>
<div class="ttc" id="structQGlyphLayout_html_ae4aad28791ace1ad6de1286441865562"><div class="ttname"><a href="structQGlyphLayout.html#ae4aad28791ace1ad6de1286441865562">QGlyphLayout::mid</a></div><div class="ttdeci">QGlyphLayout mid(int position, int n=-1) const</div><div class="ttdef"><b>Definition:</b> <a href="qtextengine__p_8h_source.html#l00198">qtextengine_p.h:198</a></div></div>
<div class="ttc" id="structQFixed_html"><div class="ttname"><a href="structQFixed.html">QFixed</a></div><div class="ttdef"><b>Definition:</b> <a href="qfixed__p_8h_source.html#l00062">qfixed_p.h:62</a></div></div>
<div class="ttc" id="classQTextCharFormat_html_a8b16d43f2a65c34e9048c1a977eb2f2ca69fab953af781f8944d2ded267b9674c"><div class="ttname"><a href="classQTextCharFormat.html#a8b16d43f2a65c34e9048c1a977eb2f2ca69fab953af781f8944d2ded267b9674c">QTextCharFormat::SingleUnderline</a></div><div class="ttdef"><b>Definition:</b> <a href="qtextformat_8h_source.html#l00386">qtextformat.h:386</a></div></div>
<div class="ttc" id="classQTextItemInt_html_a94accc53cb1b08d255c36566e1972a36"><div class="ttname"><a href="classQTextItemInt.html#a94accc53cb1b08d255c36566e1972a36">QTextItemInt::glyphs</a></div><div class="ttdeci">QGlyphLayout glyphs</div><div class="ttdef"><b>Definition:</b> <a href="qtextengine__p_8h_source.html#l00336">qtextengine_p.h:336</a></div></div>
<div class="ttc" id="structQTextEngine_1_1LayoutData_html_a12ba4072f1f473c5b998cdc439b83ae3"><div class="ttname"><a href="structQTextEngine_1_1LayoutData.html#a12ba4072f1f473c5b998cdc439b83ae3">QTextEngine::LayoutData::string</a></div><div class="ttdeci">QString string</div><div class="ttdef"><b>Definition:</b> <a href="qtextengine__p_8h_source.html#l00443">qtextengine_p.h:443</a></div></div>
<div class="ttc" id="classQString_html_af653a95345ba3cd5bade2a1e07f2bb58"><div class="ttname"><a href="classQString.html#af653a95345ba3cd5bade2a1e07f2bb58">QString::unicode</a></div><div class="ttdeci">const QChar * unicode() const</div><div class="ttdoc">Returns a &amp;#39;\0&amp;#39;-terminated Unicode representation of the string. </div><div class="ttdef"><b>Definition:</b> <a href="qstring_8h_source.html#l00706">qstring.h:706</a></div></div>
<div class="ttc" id="structQGlyphLayout_html"><div class="ttname"><a href="structQGlyphLayout.html">QGlyphLayout</a></div><div class="ttdef"><b>Definition:</b> <a href="qtextengine__p_8h_source.html#l00168">qtextengine_p.h:168</a></div></div>
<div class="ttc" id="classQTextEngine_html_a4462c874da6f9afa67a2d1a454f96a9f"><div class="ttname"><a href="classQTextEngine.html#a4462c874da6f9afa67a2d1a454f96a9f">QTextEngine::shapedGlyphs</a></div><div class="ttdeci">QGlyphLayout shapedGlyphs(const QScriptItem *si) const</div><div class="ttdef"><b>Definition:</b> <a href="qtextengine__p_8h_source.html#l00529">qtextengine_p.h:529</a></div></div>
<div class="ttc" id="structQScriptAnalysis_html_aa0ed31c5cbd76297e6a60249f1e533cb"><div class="ttname"><a href="structQScriptAnalysis.html#aa0ed31c5cbd76297e6a60249f1e533cb">QScriptAnalysis::bidiLevel</a></div><div class="ttdeci">unsigned short bidiLevel</div><div class="ttdef"><b>Definition:</b> <a href="qtextengine__p_8h_source.html#l00133">qtextengine_p.h:133</a></div></div>
<div class="ttc" id="classQTextItemInt_html_a24dd0f56fa590aecfb87aaad97215a3c"><div class="ttname"><a href="classQTextItemInt.html#a24dd0f56fa590aecfb87aaad97215a3c">QTextItemInt::num_chars</a></div><div class="ttdeci">int num_chars</div><div class="ttdef"><b>Definition:</b> <a href="qtextengine__p_8h_source.html#l00331">qtextengine_p.h:331</a></div></div>
<div class="ttc" id="classQTextItemInt_html_ac81189b0d66a33b2ca672e46dede1861"><div class="ttname"><a href="classQTextItemInt.html#ac81189b0d66a33b2ca672e46dede1861">QTextItemInt::underlineStyle</a></div><div class="ttdeci">QTextCharFormat::UnderlineStyle underlineStyle</div><div class="ttdef"><b>Definition:</b> <a href="qtextengine__p_8h_source.html#l00329">qtextengine_p.h:329</a></div></div>
<div class="ttc" id="structQScriptItem_html_a3053df2e38f5d340af416074f2d82f5f"><div class="ttname"><a href="structQScriptItem.html#a3053df2e38f5d340af416074f2d82f5f">QScriptItem::width</a></div><div class="ttdeci">QFixed width</div><div class="ttdef"><b>Definition:</b> <a href="qtextengine__p_8h_source.html#l00365">qtextengine_p.h:365</a></div></div>
<div class="ttc" id="classQPainter_html_a4288566b193a05a58fda333a21d9ab3a"><div class="ttname"><a href="classQPainter.html#a4288566b193a05a58fda333a21d9ab3a">QPainter::drawTextItem</a></div><div class="ttdeci">void drawTextItem(const QPointF &amp;p, const QTextItem &amp;ti)</div><div class="ttdoc">Draws the text item ti at position p. </div><div class="ttdef"><b>Definition:</b> <a href="qpainter_8cpp_source.html#l06864">qpainter.cpp:6864</a></div></div>
<div class="ttc" id="classQTextItemInt_html_a824c64eb9951e664ff603ebbf3eaee12"><div class="ttname"><a href="classQTextItemInt.html#a824c64eb9951e664ff603ebbf3eaee12">QTextItemInt::width</a></div><div class="ttdeci">QFixed width</div><div class="ttdef"><b>Definition:</b> <a href="qtextengine__p_8h_source.html#l00325">qtextengine_p.h:325</a></div></div>
<div class="ttc" id="classQTextCharFormat_html_a8b16d43f2a65c34e9048c1a977eb2f2cac90c13f1f2c5e1062bbd5fb0dc275b54"><div class="ttname"><a href="classQTextCharFormat.html#a8b16d43f2a65c34e9048c1a977eb2f2cac90c13f1f2c5e1062bbd5fb0dc275b54">QTextCharFormat::NoUnderline</a></div><div class="ttdef"><b>Definition:</b> <a href="qtextformat_8h_source.html#l00385">qtextformat.h:385</a></div></div>
<div class="ttc" id="structQFixed_html_a9867daa051679414c3189852234171b2"><div class="ttname"><a href="structQFixed.html#a9867daa051679414c3189852234171b2">QFixed::toReal</a></div><div class="ttdeci">qreal toReal() const</div><div class="ttdef"><b>Definition:</b> <a href="qfixed__p_8h_source.html#l00077">qfixed_p.h:77</a></div></div>
<div class="ttc" id="structQGlyphLayout_html_a2c7e82ba16612095df0c3adc86397cf6"><div class="ttname"><a href="structQGlyphLayout.html#a2c7e82ba16612095df0c3adc86397cf6">QGlyphLayout::effectiveAdvance</a></div><div class="ttdeci">QFixed effectiveAdvance(int item) const</div><div class="ttdef"><b>Definition:</b> <a href="qtextengine__p_8h_source.html#l00219">qtextengine_p.h:219</a></div></div>
<div class="ttc" id="qt__cocoa__helpers__mac_8mm_html_a875104226bb2d18c4bead75b19e75065"><div class="ttname"><a href="qt__cocoa__helpers__mac_8mm.html#a875104226bb2d18c4bead75b19e75065">end</a></div><div class="ttdeci">static const KeyPair *const end</div><div class="ttdef"><b>Definition:</b> <a href="qt__cocoa__helpers__mac_8mm_source.html#l00652">qt_cocoa_helpers_mac.mm:652</a></div></div>
<div class="ttc" id="structQScriptItem_html_a46b8a600f8760c644e5eb60f6150d3a0"><div class="ttname"><a href="structQScriptItem.html#a46b8a600f8760c644e5eb60f6150d3a0">QScriptItem::analysis</a></div><div class="ttdeci">QScriptAnalysis analysis</div><div class="ttdef"><b>Definition:</b> <a href="qtextengine__p_8h_source.html#l00360">qtextengine_p.h:360</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac5580caebfe7b5cc120a8b2e44d38727"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5580caebfe7b5cc120a8b2e44d38727">&#9670;&nbsp;</a></span>setPenAndDrawBackground()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void setPenAndDrawBackground </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQPainter.html">QPainter</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classQPen.html">QPen</a> &amp;&#160;</td>
          <td class="paramname"><em>defaultPen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classQTextCharFormat.html">QTextCharFormat</a> &amp;&#160;</td>
          <td class="paramname"><em>chf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classQRectF.html">QRectF</a> &amp;&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qtextlayout_8cpp_source.html#l02150">2150</a> of file <a class="el" href="qtextlayout_8cpp_source.html">qtextlayout.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qtextlayout_8cpp_source.html#l02361">QTextLine::draw()</a>.</p>
<div class="fragment"><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;{</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;    <a class="code" href="classQBrush.html">QBrush</a> <a class="code" href="qnumeric__p_8h.html#aa8bc5d06b176e45541cdfaf9c2c9dfea">c</a> = chf.<a class="code" href="classQTextFormat.html#afd1bbbf173bcefa1b20bc2bfcbd35c04">foreground</a>();</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;    <span class="keywordflow">if</span> (c.<a class="code" href="classQBrush.html#ad3070f904d1651f023520616d97ec026">style</a>() == <a class="code" href="namespaceQt.html#aa5f5fcc0394b8ab9a89c04bafac5698dab3feca13ae2d348f59f042fbb7e0c4bf">Qt::NoBrush</a>) {</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;        p-&gt;<a class="code" href="classQPainter.html#a25c257b0f624e0fa514278b378ca6790">setPen</a>(defaultPen);</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;    }</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;    <a class="code" href="classQBrush.html">QBrush</a> bg = chf.<a class="code" href="classQTextFormat.html#a1a3955a9ad8ebf86b72877c1248a7c27">background</a>();</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;    <span class="keywordflow">if</span> (bg.<a class="code" href="classQBrush.html#ad3070f904d1651f023520616d97ec026">style</a>() != <a class="code" href="namespaceQt.html#aa5f5fcc0394b8ab9a89c04bafac5698dab3feca13ae2d348f59f042fbb7e0c4bf">Qt::NoBrush</a> &amp;&amp; !chf.<a class="code" href="classQTextFormat.html#afb10fbc5247ddb6239e072596a4f840d">property</a>(<a class="code" href="qtextlayout_8cpp.html#a7b0d19787050c72010b9f36527db722a">SuppressBackground</a>).<a class="code" href="classQVariant.html#a84dc5f6e5a9ca51b81616e70a771b7d0">toBool</a>())</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;        p-&gt;<a class="code" href="classQPainter.html#aec399f11ccab65f5090c9ee28d9b9394">fillRect</a>(<a class="code" href="classQRectF.html">QRectF</a>(<a class="code" href="qmath_8h.html#a90fd634f1cf1c03263337de01372c582">qFloor</a>(r.<a class="code" href="classQRectF.html#add5e18633d6c34970c6676eb37aced39">x</a>()), <a class="code" href="qmath_8h.html#a90fd634f1cf1c03263337de01372c582">qFloor</a>(r.<a class="code" href="classQRectF.html#acdd15520ada1beb1be9acb6b879ac56c">y</a>()), r.<a class="code" href="classQRectF.html#a8418623263644ef60026676845316d30">width</a>(), r.<a class="code" href="classQRectF.html#abd1f6ab93f02f55977a6ff78a44852b5">height</a>()), bg);</div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;    <span class="keywordflow">if</span> (c.<a class="code" href="classQBrush.html#ad3070f904d1651f023520616d97ec026">style</a>() != <a class="code" href="namespaceQt.html#aa5f5fcc0394b8ab9a89c04bafac5698dab3feca13ae2d348f59f042fbb7e0c4bf">Qt::NoBrush</a>) {</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;        p-&gt;<a class="code" href="classQPainter.html#a25c257b0f624e0fa514278b378ca6790">setPen</a>(<a class="code" href="classQPen.html">QPen</a>(c, 0));</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;    }</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;}</div><div class="ttc" id="classQRectF_html_acdd15520ada1beb1be9acb6b879ac56c"><div class="ttname"><a href="classQRectF.html#acdd15520ada1beb1be9acb6b879ac56c">QRectF::y</a></div><div class="ttdeci">qreal y() const</div><div class="ttdoc">Returns the y-coordinate of the rectangle&amp;#39;s top edge. </div><div class="ttdef"><b>Definition:</b> <a href="qrect_8h_source.html#l00667">qrect.h:667</a></div></div>
<div class="ttc" id="qnumeric__p_8h_html_aa8bc5d06b176e45541cdfaf9c2c9dfea"><div class="ttname"><a href="qnumeric__p_8h.html#aa8bc5d06b176e45541cdfaf9c2c9dfea">c</a></div><div class="ttdeci">unsigned char c[8]</div><div class="ttdef"><b>Definition:</b> <a href="qnumeric__p_8h_source.html#l00062">qnumeric_p.h:62</a></div></div>
<div class="ttc" id="qmath_8h_html_a90fd634f1cf1c03263337de01372c582"><div class="ttname"><a href="qmath_8h.html#a90fd634f1cf1c03263337de01372c582">qFloor</a></div><div class="ttdeci">int qFloor(qreal v)</div><div class="ttdef"><b>Definition:</b> <a href="qmath_8h_source.html#l00073">qmath.h:73</a></div></div>
<div class="ttc" id="classQVariant_html_a84dc5f6e5a9ca51b81616e70a771b7d0"><div class="ttname"><a href="classQVariant.html#a84dc5f6e5a9ca51b81616e70a771b7d0">QVariant::toBool</a></div><div class="ttdeci">bool toBool() const</div><div class="ttdoc">Returns the variant as a bool if the variant has type() Bool. </div><div class="ttdef"><b>Definition:</b> <a href="qvariant_8cpp_source.html#l02691">qvariant.cpp:2691</a></div></div>
<div class="ttc" id="classQPen_html"><div class="ttname"><a href="classQPen.html">QPen</a></div><div class="ttdoc">The QPen class defines how a QPainter should draw lines and outlines of shapes. </div><div class="ttdef"><b>Definition:</b> <a href="qpen_8h_source.html#l00064">qpen.h:64</a></div></div>
<div class="ttc" id="classQRectF_html"><div class="ttname"><a href="classQRectF.html">QRectF</a></div><div class="ttdoc">The QRectF class defines a rectangle in the plane using floating point precision. ...</div><div class="ttdef"><b>Definition:</b> <a href="qrect_8h_source.html#l00511">qrect.h:511</a></div></div>
<div class="ttc" id="classQRectF_html_abd1f6ab93f02f55977a6ff78a44852b5"><div class="ttname"><a href="classQRectF.html#abd1f6ab93f02f55977a6ff78a44852b5">QRectF::height</a></div><div class="ttdeci">qreal height() const</div><div class="ttdoc">Returns the height of the rectangle. </div><div class="ttdef"><b>Definition:</b> <a href="qrect_8h_source.html#l00710">qrect.h:710</a></div></div>
<div class="ttc" id="classQRectF_html_a8418623263644ef60026676845316d30"><div class="ttname"><a href="classQRectF.html#a8418623263644ef60026676845316d30">QRectF::width</a></div><div class="ttdeci">qreal width() const</div><div class="ttdoc">Returns the width of the rectangle. </div><div class="ttdef"><b>Definition:</b> <a href="qrect_8h_source.html#l00707">qrect.h:707</a></div></div>
<div class="ttc" id="classQTextFormat_html_a1a3955a9ad8ebf86b72877c1248a7c27"><div class="ttname"><a href="classQTextFormat.html#a1a3955a9ad8ebf86b72877c1248a7c27">QTextFormat::background</a></div><div class="ttdeci">QBrush background() const</div><div class="ttdoc">Returns the brush used to paint the document&amp;#39;s background. </div><div class="ttdef"><b>Definition:</b> <a href="qtextformat_8h_source.html#l00345">qtextformat.h:345</a></div></div>
<div class="ttc" id="classQBrush_html_ad3070f904d1651f023520616d97ec026"><div class="ttname"><a href="classQBrush.html#ad3070f904d1651f023520616d97ec026">QBrush::style</a></div><div class="ttdeci">Qt::BrushStyle style() const</div><div class="ttdoc">Returns the brush style. </div><div class="ttdef"><b>Definition:</b> <a href="qbrush_8h_source.html#l00182">qbrush.h:182</a></div></div>
<div class="ttc" id="qtextlayout_8cpp_html_a7b0d19787050c72010b9f36527db722a"><div class="ttname"><a href="qtextlayout_8cpp.html#a7b0d19787050c72010b9f36527db722a">SuppressBackground</a></div><div class="ttdeci">#define SuppressBackground</div><div class="ttdef"><b>Definition:</b> <a href="qtextlayout_8cpp_source.html#l00074">qtextlayout.cpp:74</a></div></div>
<div class="ttc" id="classQBrush_html"><div class="ttname"><a href="classQBrush.html">QBrush</a></div><div class="ttdoc">The QBrush class defines the fill pattern of shapes drawn by QPainter. </div><div class="ttdef"><b>Definition:</b> <a href="qbrush_8h_source.html#l00076">qbrush.h:76</a></div></div>
<div class="ttc" id="classQRectF_html_add5e18633d6c34970c6676eb37aced39"><div class="ttname"><a href="classQRectF.html#add5e18633d6c34970c6676eb37aced39">QRectF::x</a></div><div class="ttdeci">qreal x() const</div><div class="ttdoc">Returns the x-coordinate of the rectangle&amp;#39;s left edge. </div><div class="ttdef"><b>Definition:</b> <a href="qrect_8h_source.html#l00664">qrect.h:664</a></div></div>
<div class="ttc" id="classQTextFormat_html_afb10fbc5247ddb6239e072596a4f840d"><div class="ttname"><a href="classQTextFormat.html#afb10fbc5247ddb6239e072596a4f840d">QTextFormat::property</a></div><div class="ttdeci">QVariant property(int propertyId) const</div><div class="ttdoc">Returns the property specified by the given propertyId. </div><div class="ttdef"><b>Definition:</b> <a href="qtextformat_8cpp_source.html#l01138">qtextformat.cpp:1138</a></div></div>
<div class="ttc" id="classQPainter_html_a25c257b0f624e0fa514278b378ca6790"><div class="ttname"><a href="classQPainter.html#a25c257b0f624e0fa514278b378ca6790">QPainter::setPen</a></div><div class="ttdeci">void setPen(const QColor &amp;color)</div><div class="ttdoc">Sets the painter&amp;#39;s pen to have style Qt::SolidLine, width 0 and the specified color. </div><div class="ttdef"><b>Definition:</b> <a href="qpainter_8cpp_source.html#l04047">qpainter.cpp:4047</a></div></div>
<div class="ttc" id="classQTextFormat_html_afd1bbbf173bcefa1b20bc2bfcbd35c04"><div class="ttname"><a href="classQTextFormat.html#afd1bbbf173bcefa1b20bc2bfcbd35c04">QTextFormat::foreground</a></div><div class="ttdeci">QBrush foreground() const</div><div class="ttdoc">Returns the brush used to render foreground details, such as text, frame outlines, and table borders. </div><div class="ttdef"><b>Definition:</b> <a href="qtextformat_8h_source.html#l00352">qtextformat.h:352</a></div></div>
<div class="ttc" id="namespaceQt_html_aa5f5fcc0394b8ab9a89c04bafac5698dab3feca13ae2d348f59f042fbb7e0c4bf"><div class="ttname"><a href="namespaceQt.html#aa5f5fcc0394b8ab9a89c04bafac5698dab3feca13ae2d348f59f042fbb7e0c4bf">Qt::NoBrush</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l01163">qnamespace.h:1163</a></div></div>
<div class="ttc" id="classQPainter_html_aec399f11ccab65f5090c9ee28d9b9394"><div class="ttname"><a href="classQPainter.html#aec399f11ccab65f5090c9ee28d9b9394">QPainter::fillRect</a></div><div class="ttdeci">void fillRect(const QRectF &amp;, const QBrush &amp;)</div><div class="ttdoc">Fills the given rectangle with the brush specified. </div><div class="ttdef"><b>Definition:</b> <a href="qpainter_8cpp_source.html#l07420">qpainter.cpp:7420</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->

<hr class="footer"/><address class="footer"><small><a href="https://dreamswork.github.io/qt4/">Qt 4.8 Source Code Browser</a></small></address>
</body>
</html>
