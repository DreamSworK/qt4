<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Qt 4.8: /src/plugins/gfxdrivers/vnc/qscreenvnc_qws.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="qt_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Qt 4.8
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0"
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_1427e6b9e14483d8a13b4ea1c69420e3.html">qt-4.8.6</a></li><li class="navelem"><a class="el" href="dir_42c0970699667688278d00b1a5e7112e.html">src</a></li><li class="navelem"><a class="el" href="dir_ce9dce244b484ae27e9bee6d2e15f155.html">plugins</a></li><li class="navelem"><a class="el" href="dir_7ff584029660fde85d3a71c2caf9690e.html">gfxdrivers</a></li><li class="navelem"><a class="el" href="dir_211bb0cc2c480bb5b6fdc87333ea93c9.html">vnc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">qscreenvnc_qws.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="qscreenvnc__qws_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/****************************************************************************</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">** Copyright (C) 2014 Digia Plc and/or its subsidiary(-ies).</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">** Contact: http://www.qt-project.org/legal</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">** This file is part of the plugins of the Qt Toolkit.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">** $QT_BEGIN_LICENSE:LGPL$</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">** Commercial License Usage</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">** Licensees holding valid commercial Qt licenses may use this file in</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">** accordance with the commercial license agreement provided with the</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">** Software or, alternatively, in accordance with the terms contained in</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">** a written agreement between you and Digia.  For licensing terms and</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">** conditions see http://qt.digia.com/licensing.  For further information</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">** use the contact form at http://qt.digia.com/contact-us.</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">** GNU Lesser General Public License Usage</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">** Alternatively, this file may be used under the terms of the GNU Lesser</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">** General Public License version 2.1 as published by the Free Software</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">** Foundation and appearing in the file LICENSE.LGPL included in the</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">** packaging of this file.  Please review the following information to</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">** ensure the GNU Lesser General Public License version 2.1 requirements</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">** will be met: http://www.gnu.org/licenses/old-licenses/lgpl-2.1.html.</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">** In addition, as a special exception, Digia gives you certain additional</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">** rights.  These rights are described in the Digia Qt LGPL Exception</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">** version 1.1, included in the file LGPL_EXCEPTION.txt in this package.</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">** GNU General Public License Usage</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">** Alternatively, this file may be used under the terms of the GNU</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">** General Public License version 3.0 as published by the Free Software</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">** Foundation and appearing in the file LICENSE.GPL included in the</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">** packaging of this file.  Please review the following information to</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">** ensure the GNU General Public License version 3.0 requirements will be</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">** met: http://www.gnu.org/copyleft/gpl.html.</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">** $QT_END_LICENSE$</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">****************************************************************************/</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qscreenvnc__qws_8h.html">qscreenvnc_qws.h</a>&quot;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#ifndef QT_NO_QWS_VNC</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qscreenvnc__p_8h.html">qscreenvnc_p.h</a>&quot;</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qwindowsystem__qws_8h.html">qwindowsystem_qws.h</a>&quot;</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qwsdisplay__qws_8h.html">qwsdisplay_qws.h</a>&quot;</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qscreendriverfactory__qws_8h.html">qscreendriverfactory_qws.h</a>&quot;</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &lt;QtCore/qtimer.h&gt;</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &lt;QtCore/qregexp.h&gt;</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &lt;QtGui/qwidget.h&gt;</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &lt;QtGui/qpolygon.h&gt;</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &lt;QtGui/qpainter.h&gt;</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="qdebug_8h.html">qdebug.h</a>&gt;</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &lt;private/qwindowsurface_qws_p.h&gt;</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &lt;private/qwssignalhandler_p.h&gt;</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &lt;private/qwidget_p.h&gt;</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &lt;private/qdrawhelper_p.h&gt;</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<a class="code" href="qglobal_8h.html#ae7344b820974b9f9f7cfedd5808bd3a0">QT_BEGIN_NAMESPACE</a></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">//#define QT_QWS_VNC_DEBUG</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="keyword">extern</span> <a class="code" href="classQString.html">QString</a> <a class="code" href="qscreenvnc__qws_8cpp.html#a9366d77dc4d70fb96ca70c719f044813">qws_qtePipeFilename</a>();</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#ifndef QT_NO_QWS_CURSOR</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="classQVNCCursor.html#a0a39bd63ae3d7eb02c99a02ee99fd6da">   71</a></span>&#160;<a class="code" href="classQVNCCursor.html#a0a39bd63ae3d7eb02c99a02ee99fd6da">QVNCCursor::QVNCCursor</a>(<a class="code" href="classQVNCScreen.html">QVNCScreen</a> *s)</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    : screen(s)</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;{</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="qscreen__qws_8cpp.html#ad95a3323df4ce8090adbdf624efc1efe">qt_screencursor</a>)</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <a class="code" href="classQProxyScreenCursor.html#a69591a029e252c32601d9a258d1f3520">setScreenCursor</a>(<a class="code" href="qscreen__qws_8cpp.html#ad95a3323df4ce8090adbdf624efc1efe">qt_screencursor</a>);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <a class="code" href="classQScreenCursor.html#a99a1abb93313d6d34bcef1ca9f6ded35">hwaccel</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;}</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="classQVNCCursor.html#a5b929adae8d21ad02ef1642c88c6604c">   80</a></span>&#160;<a class="code" href="classQVNCCursor.html#a5b929adae8d21ad02ef1642c88c6604c">QVNCCursor::~QVNCCursor</a>()</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;{</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQProxyScreenCursor.html#a43bb18e4db7f1eddb477d61d4ba64598">screenCursor</a>())</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <a class="code" href="qscreen__qws_8cpp.html#ad95a3323df4ce8090adbdf624efc1efe">qt_screencursor</a> = <a class="code" href="classQProxyScreenCursor.html#a43bb18e4db7f1eddb477d61d4ba64598">screenCursor</a>();</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;}</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="classQVNCCursor.html#af662b16dd7ccdd4d44f8a55983567cdd">   86</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQPlatformSoftwareCursor.html#a2fd188360c6f7dff8d921e4e65cfa1fd">QVNCCursor::setDirty</a>(<span class="keyword">const</span> <a class="code" href="classQRect.html">QRect</a> &amp;r)<span class="keyword"> const</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="classQVNCCursor.html#af6af0e16bd7d435d5b298f6e3d1ae355">screen</a>-&gt;<a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a>-&gt;<a class="code" href="classQVNCScreenPrivate.html#aa0b8785a29c9371e69bb1b1ecdab70b6">setDirty</a>(r, <span class="keyword">true</span>);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;}</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="classQVNCCursor.html#aad355a91c539907c17b78ca4046d33d4">   91</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQVNCCursor.html#aad355a91c539907c17b78ca4046d33d4">QVNCCursor::hide</a>()</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;{</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <a class="code" href="classQProxyScreenCursor.html#a8629e7a11dbddf7e4c33178b7d8b77a4">QProxyScreenCursor::hide</a>();</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQScreenCursor.html#a9c6633ae49e07c57b86659d11275f430">enable</a>)</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <a class="code" href="classQPlatformSoftwareCursor.html#a2fd188360c6f7dff8d921e4e65cfa1fd">setDirty</a>(<a class="code" href="classQScreenCursor.html#a380ffb14991f03e598770ef5cca5130e">boundingRect</a>());</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;}</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="classQVNCCursor.html#ad1f92de94687b6cf935fde7cbfb2283b">   98</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQVNCCursor.html#ad1f92de94687b6cf935fde7cbfb2283b">QVNCCursor::show</a>()</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;{</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <a class="code" href="classQProxyScreenCursor.html#a58fef8f59a6800a2dc9bfa6c4eec5380">QProxyScreenCursor::show</a>();</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQScreenCursor.html#a9c6633ae49e07c57b86659d11275f430">enable</a>)</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <a class="code" href="classQPlatformSoftwareCursor.html#a2fd188360c6f7dff8d921e4e65cfa1fd">setDirty</a>(<a class="code" href="classQScreenCursor.html#a380ffb14991f03e598770ef5cca5130e">boundingRect</a>());</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;}</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="classQVNCCursor.html#a3cbc88e2c3c759666a37bc3cf4954b46">  105</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQVNCCursor.html#a3cbc88e2c3c759666a37bc3cf4954b46">QVNCCursor::set</a>(<span class="keyword">const</span> <a class="code" href="classQImage.html">QImage</a> &amp;<a class="code" href="classQScreenCursor.html#a656f8809d4946c94acb515fd2816668d">image</a>, <span class="keywordtype">int</span> hotx, <span class="keywordtype">int</span> hoty)</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;{</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="classQRegion.html">QRegion</a> <a class="code" href="classQPlatformSoftwareCursor.html#abcb28f201787862e885707ffc862520f">dirty</a> = <a class="code" href="classQScreenCursor.html#a380ffb14991f03e598770ef5cca5130e">boundingRect</a>();</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="classQProxyScreenCursor.html#ad65ced870815b8965862ae90fc6c9bf5">QProxyScreenCursor::set</a>(image, hotx, hoty);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    dirty |= <a class="code" href="classQScreenCursor.html#a380ffb14991f03e598770ef5cca5130e">boundingRect</a>();</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQScreenCursor.html#a9c6633ae49e07c57b86659d11275f430">enable</a> &amp;&amp; <a class="code" href="classQScreenCursor.html#a99a1abb93313d6d34bcef1ca9f6ded35">hwaccel</a> &amp;&amp; !<a class="code" href="classQVNCCursor.html#af6af0e16bd7d435d5b298f6e3d1ae355">screen</a>-&gt;<a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a>-&gt;<a class="code" href="classQVNCScreenPrivate.html#ac2f135e3dd823b71609f3f0e8a0ca15b">vncServer</a>-&gt;<a class="code" href="classQVNCServer.html#ac8ac3973438c4f86f53ec8b3df88c50f">hasClientCursor</a>()) {</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="keyword">const</span> <a class="code" href="classQVector.html">QVector&lt;QRect&gt;</a> rects = dirty.<a class="code" href="classQRegion.html#ae957459f7642af2accb0212e59e0bd97">rects</a>();</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; rects.<a class="code" href="classQVector.html#a3b40ac78d8377b150a0467a7fe139eef">size</a>(); ++i)</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            <a class="code" href="classQPlatformSoftwareCursor.html#a2fd188360c6f7dff8d921e4e65cfa1fd">setDirty</a>(rects.<a class="code" href="classQVector.html#a089ac11f22dec7de12a9ac819ab15175">at</a>(i));</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    }</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;}</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="classQVNCCursor.html#ab67227b991269313a039ba773a80bc1d">  117</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQVNCCursor.html#ab67227b991269313a039ba773a80bc1d">QVNCCursor::move</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y)</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;{</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQScreenCursor.html#a9c6633ae49e07c57b86659d11275f430">enable</a> &amp;&amp; <a class="code" href="classQScreenCursor.html#a99a1abb93313d6d34bcef1ca9f6ded35">hwaccel</a> &amp;&amp; !<a class="code" href="classQVNCCursor.html#af6af0e16bd7d435d5b298f6e3d1ae355">screen</a>-&gt;<a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a>-&gt;<a class="code" href="classQVNCScreenPrivate.html#ac2f135e3dd823b71609f3f0e8a0ca15b">vncServer</a>-&gt;<a class="code" href="classQVNCServer.html#ac8ac3973438c4f86f53ec8b3df88c50f">hasClientCursor</a>()) {</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <a class="code" href="classQRegion.html">QRegion</a> <a class="code" href="classQPlatformSoftwareCursor.html#abcb28f201787862e885707ffc862520f">dirty</a> = <a class="code" href="classQScreenCursor.html#a380ffb14991f03e598770ef5cca5130e">boundingRect</a>();</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <a class="code" href="classQProxyScreenCursor.html#a0283998020dd403783b107e922304350">QProxyScreenCursor::move</a>(x, y);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        dirty |= <a class="code" href="classQScreenCursor.html#a380ffb14991f03e598770ef5cca5130e">boundingRect</a>();</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classQScreenCursor.html#a9c6633ae49e07c57b86659d11275f430">enable</a>) {</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            <span class="keyword">const</span> <a class="code" href="classQVector.html">QVector&lt;QRect&gt;</a> rects = dirty.<a class="code" href="classQRegion.html#ae957459f7642af2accb0212e59e0bd97">rects</a>();</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; rects.<a class="code" href="classQVector.html#a3b40ac78d8377b150a0467a7fe139eef">size</a>(); ++i)</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                <a class="code" href="classQPlatformSoftwareCursor.html#a2fd188360c6f7dff8d921e4e65cfa1fd">setDirty</a>(rects.<a class="code" href="classQVector.html#a089ac11f22dec7de12a9ac819ab15175">at</a>(i));</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        }</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <a class="code" href="classQProxyScreenCursor.html#a0283998020dd403783b107e922304350">QProxyScreenCursor::move</a>(x, y);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    }</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="classQVNCClientCursor.html#ae021a3372a8ac7492bf4adad08086867">  133</a></span>&#160;<a class="code" href="classQVNCClientCursor.html#ae021a3372a8ac7492bf4adad08086867">QVNCClientCursor::QVNCClientCursor</a>(<a class="code" href="classQVNCServer.html">QVNCServer</a> *s)</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    : <a class="code" href="classQVNCCursor.html#a835d5be65719426e616eea80e920b104">server</a>(s)</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;{</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <a class="code" href="classQProxyScreenCursor.html#a69591a029e252c32601d9a258d1f3520">setScreenCursor</a>(<a class="code" href="qscreen__qws_8cpp.html#ad95a3323df4ce8090adbdf624efc1efe">qt_screencursor</a>);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <a class="code" href="qglobal_8h.html#ac29a7ecc02f777dfeb2b68a051561c35">Q_ASSERT</a>(<a class="code" href="classQScreenCursor.html#a99a1abb93313d6d34bcef1ca9f6ded35">hwaccel</a>);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <a class="code" href="qscreen__qws_8cpp.html#ad95a3323df4ce8090adbdf624efc1efe">qt_screencursor</a> = <span class="keyword">this</span>; <span class="comment">// hw: XXX</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keyword">set</span>(<a class="code" href="classQScreenCursor.html#a656f8809d4946c94acb515fd2816668d">image</a>(), <a class="code" href="classQScreenCursor.html#a7963800481be974de338816524766c1b">hotspot</a>.<a class="code" href="classQPoint.html#a14861329ac9e84a82ab0049e497fe267">x</a>(), <a class="code" href="classQScreenCursor.html#a7963800481be974de338816524766c1b">hotspot</a>.<a class="code" href="classQPoint.html#aa241cfaf926eef9a0710bffcbc086219">y</a>());</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="classQVNCClientCursor.html#a58bc422794b0228b754bd1b924fafe6b">  143</a></span>&#160;<a class="code" href="classQVNCClientCursor.html#a58bc422794b0228b754bd1b924fafe6b">QVNCClientCursor::~QVNCClientCursor</a>()</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;{</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="qscreen__qws_8cpp.html#ad95a3323df4ce8090adbdf624efc1efe">qt_screencursor</a> = <a class="code" href="classQProxyScreenCursor.html#a43bb18e4db7f1eddb477d61d4ba64598">screenCursor</a>();</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;}</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="classQVNCClientCursor.html#ab8d6289a6a07a1cafa21ab04675d7d92">  148</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQVNCClientCursor.html#ab8d6289a6a07a1cafa21ab04675d7d92">QVNCClientCursor::set</a>(<span class="keyword">const</span> <a class="code" href="classQImage.html">QImage</a> &amp;<a class="code" href="classQScreenCursor.html#a656f8809d4946c94acb515fd2816668d">image</a>, <span class="keywordtype">int</span> hotx, <span class="keywordtype">int</span> hoty)</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;{</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="classQScreenCursor.html#af20b7bb70db6be41443bad575e5f709a">QScreenCursor::set</a>(image, hotx, hoty);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="classQVNCClientCursor.html#ade85d4a724fce7313c72905c8f7293e6">server</a>-&gt;<a class="code" href="classQVNCServer.html#aa8d596a7f5f82e5affeb5d5861cb2225">setDirtyCursor</a>();</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;}</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="classQVNCClientCursor.html#af4fc8eb4252541c4a45722153d280780">  154</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQVNCClientCursor.html#af4fc8eb4252541c4a45722153d280780">QVNCClientCursor::write</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <a class="code" href="classQTcpSocket.html">QTcpSocket</a> *socket = <a class="code" href="classQVNCClientCursor.html#ade85d4a724fce7313c72905c8f7293e6">server</a>-&gt;<a class="code" href="classQVNCServer.html#a05236fa5dcb003df15b038b566071b85">clientSocket</a>();</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="comment">// FramebufferUpdate header</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    {</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <span class="keyword">const</span> <a class="code" href="qglobal_8h.html#a6f3b1e8a589d7539ac4f9592005da8b7">quint16</a> tmp[6] = { htons(0),</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                                 htons(1),</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                                 htons(<a class="code" href="classQScreenCursor.html#a7963800481be974de338816524766c1b">hotspot</a>.<a class="code" href="classQPoint.html#a14861329ac9e84a82ab0049e497fe267">x</a>()), htons(<a class="code" href="classQScreenCursor.html#a7963800481be974de338816524766c1b">hotspot</a>.<a class="code" href="classQPoint.html#aa241cfaf926eef9a0710bffcbc086219">y</a>()),</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                                 htons(<a class="code" href="classQScreenCursor.html#a6649624f08a3186a8bccbe282adfc683">cursor</a>.<a class="code" href="classQImage.html#a6cbe8c964884b45cbf29f3a4901dd8b6">width</a>()),</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                                 htons(<a class="code" href="classQScreenCursor.html#a6649624f08a3186a8bccbe282adfc683">cursor</a>.<a class="code" href="classQImage.html#a7a7199866132ff7f39efeb83aca128dc">height</a>()) };</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        socket-&gt;<a class="code" href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">write</a>((<span class="keywordtype">char</span>*)tmp, <span class="keyword">sizeof</span>(tmp));</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="keyword">const</span> <a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a> encoding = htonl(-239);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        socket-&gt;<a class="code" href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">write</a>((<span class="keywordtype">char</span>*)(&amp;encoding), <span class="keyword">sizeof</span>(encoding));</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    }</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQScreenCursor.html#a6649624f08a3186a8bccbe282adfc683">cursor</a>.<a class="code" href="classQImage.html#a21c6f77f876ef25965afcd9f412fe5ed">isNull</a>())</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="comment">// write pixels</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="qglobal_8h.html#ac29a7ecc02f777dfeb2b68a051561c35">Q_ASSERT</a>(<a class="code" href="classQScreenCursor.html#a6649624f08a3186a8bccbe282adfc683">cursor</a>.<a class="code" href="classQImage.html#a1879a60d6bbe71808b8b5cd75adceb28">hasAlphaChannel</a>());</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keyword">const</span> <a class="code" href="classQImage.html">QImage</a> img = <a class="code" href="classQScreenCursor.html#a6649624f08a3186a8bccbe282adfc683">cursor</a>.<a class="code" href="classQImage.html#abb78d52192d06342711322505366f853">convertToFormat</a>(<a class="code" href="classQVNCClientCursor.html#ade85d4a724fce7313c72905c8f7293e6">server</a>-&gt;<a class="code" href="classQVNCServer.html#ae879174a529769415c5a65b1115dd835">screen</a>()-&gt;<a class="code" href="classQScreen.html#a53281995d29a0686ba3473264eea7aff">pixelFormat</a>());</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> n = <a class="code" href="classQVNCClientCursor.html#ade85d4a724fce7313c72905c8f7293e6">server</a>-&gt;<a class="code" href="classQVNCServer.html#a58981b4991647063f4dddec3e0b8c42b">clientBytesPerPixel</a>() * img.width();</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordtype">char</span> *buffer = <span class="keyword">new</span> <span class="keywordtype">char</span>[n];</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; img.height(); ++i) {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <a class="code" href="classQVNCClientCursor.html#ade85d4a724fce7313c72905c8f7293e6">server</a>-&gt;<a class="code" href="classQVNCServer.html#a1869adcc2697083220495a13b1a5749e">convertPixels</a>(buffer, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)img.scanLine(i), img.width());</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        socket-&gt;<a class="code" href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">write</a>(buffer, n);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    }</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keyword">delete</span>[] buffer;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="comment">// write mask</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keyword">const</span> <a class="code" href="classQImage.html">QImage</a> bitmap = <a class="code" href="classQScreenCursor.html#a6649624f08a3186a8bccbe282adfc683">cursor</a>.<a class="code" href="classQImage.html#a2203e354012fc6500a0d2c1855a03438">createAlphaMask</a>().<a class="code" href="classQImage.html#abb78d52192d06342711322505366f853">convertToFormat</a>(<a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dab1aa35fb34158e02d1af6272303e3aae">QImage::Format_Mono</a>);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <a class="code" href="qglobal_8h.html#ac29a7ecc02f777dfeb2b68a051561c35">Q_ASSERT</a>(bitmap.<a class="code" href="classQImage.html#afa946f31315267065159774c4cce4124">depth</a>() == 1);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <a class="code" href="qglobal_8h.html#ac29a7ecc02f777dfeb2b68a051561c35">Q_ASSERT</a>(bitmap.<a class="code" href="classQImage.html#a62d02eeb27b8f952f8567d3f2c015e32">size</a>() == img.size());</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> width = (bitmap.<a class="code" href="classQImage.html#a6cbe8c964884b45cbf29f3a4901dd8b6">width</a>() + 7) / 8;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; bitmap.<a class="code" href="classQImage.html#a7a7199866132ff7f39efeb83aca128dc">height</a>(); ++i)</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        socket-&gt;<a class="code" href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">write</a>((<span class="keyword">const</span> <span class="keywordtype">char</span>*)bitmap.<a class="code" href="classQImage.html#a3eaa287aa9c14f2620734479a1e9ddb1">scanLine</a>(i), width);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;}</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="preprocessor">#endif // QT_NO_QWS_CURSOR</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="classQVNCScreenPrivate.html#abae65ba08fde6921676aebf336f11b18">  196</a></span>&#160;<a class="code" href="classQVNCScreenPrivate.html#abae65ba08fde6921676aebf336f11b18">QVNCScreenPrivate::QVNCScreenPrivate</a>(<a class="code" href="classQVNCScreen.html">QVNCScreen</a> *parent)</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    : dpiX(72), dpiY(72), doOnScreenSurface(false), refreshRate(25),</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      vncServer(0), q_ptr(parent), noDisablePainting(false)</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;{</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="preprocessor">#ifdef QT_BUILD_INTERNAL</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="classQVNCScreenPrivate.html#a976ded54ba514355decc258812050114">noDisablePainting</a> = (<a class="code" href="qglobal_8h.html#a0b57963061bee602c8b6d3c62cf7e1b6">qgetenv</a>(<span class="stringliteral">&quot;QT_VNC_NO_DISABLEPAINTING&quot;</span>).<a class="code" href="classQByteArray.html#a186c634dc462f478fd2a45ee713f2c58">toInt</a>() &gt; 0);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="preprocessor">#ifndef QT_NO_QWS_SIGNALHANDLER</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="classQWSSignalHandler.html#a5058101f6f12342b73deefa6d17bb824">QWSSignalHandler::instance</a>()-&gt;<a class="code" href="classQWSSignalHandler.html#a255eb2f2b5cf66edfe56f4f54c8f6fce">addObject</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;}</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="classQVNCScreenPrivate.html#ad14fca8f0e5f1821dd0a121940d8edde">  208</a></span>&#160;<a class="code" href="classQVNCScreenPrivate.html#ad14fca8f0e5f1821dd0a121940d8edde">QVNCScreenPrivate::~QVNCScreenPrivate</a>()</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;{</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="preprocessor">#if defined(QT_NO_QWS_MULTIPROCESS) || defined(QT_NO_SHAREDMEMORY)</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQProxyScreen.html#a4fce56ac727f603c2442930bdde0cc0c">screen</a>())</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keyword">delete</span>[] <a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#a5a35b8a14de55a7ff540cad7648eeff3">data</a>;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#a5a35b8a14de55a7ff540cad7648eeff3">data</a> = 0;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <a class="code" href="classQVNCScreenPrivate.html#a85eef2dc19b7bc646e1778d6ca3105aa">shm</a>.<a class="code" href="classQSharedMemory.html#a7d0efb9d24586fc46625b073487e0a7a">detach</a>();</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;}</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="classQVNCScreenPrivate.html#aeb0313da501a844f15a4cf4cee45ec1e">  221</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQVNCScreenPrivate.html#aeb0313da501a844f15a4cf4cee45ec1e">QVNCScreenPrivate::configure</a>()</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;{</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQProxyScreen.html#a4fce56ac727f603c2442930bdde0cc0c">screen</a>())</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#ada6915e87739f626ab6e65e044c7ff42">lstep</a> = <a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#ab98233bd2b8397c202b4de4850cea487">dw</a> * ((<a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#a746610a98dc5f1be67b0b50d61e362be">d</a> + 7) / 8);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#a6ddd9375f0aae94bc82ebc5e30820912">size</a> = <a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#a71472bcc73bb7f27c8b285787fbdae68">h</a> * <a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#ada6915e87739f626ab6e65e044c7ff42">lstep</a>;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#a4a335c67c91673ce6164701ccd970042">mapsize</a> = <a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#a6ddd9375f0aae94bc82ebc5e30820912">size</a>;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#a86e017fddd48932684d96f54303cf2ce">physWidth</a> = <a class="code" href="qglobal_8h.html#a5dc6913d1018db45dc5fe236724d71c9">qRound</a>(<a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#ab98233bd2b8397c202b4de4850cea487">dw</a> * <a class="code" href="qglobal_8h.html#abe7fa83b9984f2a0bbd470063c14e0f5">qreal</a>(25.4) / <a class="code" href="classQVNCScreenPrivate.html#a1db739aab20a1e2eea9706878be9a7a3">dpiX</a>);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#a32cc5bc2110cafd5e1aa6f1fdbf7be20">physHeight</a> = <a class="code" href="qglobal_8h.html#a5dc6913d1018db45dc5fe236724d71c9">qRound</a>(<a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#a3040e5639aee4129a4086e7c36fe9575">dh</a> * <a class="code" href="qglobal_8h.html#abe7fa83b9984f2a0bbd470063c14e0f5">qreal</a>(25.4) / <a class="code" href="classQVNCScreenPrivate.html#a6048b8a0d4fc77ec24f13a6f464f204d">dpiY</a>);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#a746610a98dc5f1be67b0b50d61e362be">d</a>) {</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">case</span> 1:</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#ad0a1b04942f4befb55fcc337866bc69c">setPixelFormat</a>(<a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dab1aa35fb34158e02d1af6272303e3aae">QImage::Format_Mono</a>); <span class="comment">//### LSB???</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">case</span> 8:</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#ad0a1b04942f4befb55fcc337866bc69c">setPixelFormat</a>(<a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dabee95196f4682d4f4d1eb1220859e8d2">QImage::Format_Indexed8</a>);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">case</span> 12:</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#ad0a1b04942f4befb55fcc337866bc69c">setPixelFormat</a>(<a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8da966846823361b4e2574c34763085a1c7">QImage::Format_RGB444</a>);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">case</span> 15:</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#ad0a1b04942f4befb55fcc337866bc69c">setPixelFormat</a>(<a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8daa112a04a77ab523dc18fbd2d4545f929">QImage::Format_RGB555</a>);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">case</span> 16:</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#ad0a1b04942f4befb55fcc337866bc69c">setPixelFormat</a>(<a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dad48c15a7a2720a113cbce93edc429252">QImage::Format_RGB16</a>);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordflow">case</span> 18:</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#ad0a1b04942f4befb55fcc337866bc69c">setPixelFormat</a>(<a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8da6c44b65962c2c0580ae133a11d584a9c">QImage::Format_RGB666</a>);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">case</span> 24:</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#ad0a1b04942f4befb55fcc337866bc69c">setPixelFormat</a>(<a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8da4d762fef2f0c8629cc7b35c7896f0884">QImage::Format_RGB888</a>);</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">case</span> 32:</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#ad0a1b04942f4befb55fcc337866bc69c">setPixelFormat</a>(<a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dac6445f149ed0d446bd50b45f6e360b13">QImage::Format_ARGB32_Premultiplied</a>);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    }</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="preprocessor">#if !defined(QT_NO_QWS_MULTIPROCESS) &amp;&amp; !defined(QT_NO_SHAREDMEMORY)</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#a6ddd9375f0aae94bc82ebc5e30820912">size</a> != <a class="code" href="classQVNCScreenPrivate.html#a85eef2dc19b7bc646e1778d6ca3105aa">shm</a>.<a class="code" href="classQSharedMemory.html#ade1e8878f4987e5f37b247c7f6a00a9c">size</a>()) {</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <a class="code" href="classQVNCScreenPrivate.html#a85eef2dc19b7bc646e1778d6ca3105aa">shm</a>.<a class="code" href="classQSharedMemory.html#a7d0efb9d24586fc46625b073487e0a7a">detach</a>();</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keyword">const</span> <a class="code" href="classQString.html">QString</a> <a class="code" href="qkeysequence_8cpp.html#a35af0be900467fedbb610bd6ea65ed78">key</a> = <a class="code" href="qscreenvnc__qws_8cpp.html#a9366d77dc4d70fb96ca70c719f044813">qws_qtePipeFilename</a>() +</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                            <a class="code" href="classQString.html">QString</a>().<a class="code" href="classQString.html#a0b6622a8335cdd080e8b1685b7e0fde0">sprintf</a>(<span class="stringliteral">&quot;_vnc_%d_%d&quot;</span>,</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                                              <a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#ab6a05c93e58c3228ddd60027b6207403">displayId</a>, <a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#a6ddd9375f0aae94bc82ebc5e30820912">size</a>);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <a class="code" href="classQVNCScreenPrivate.html#a85eef2dc19b7bc646e1778d6ca3105aa">shm</a>.<a class="code" href="classQSharedMemory.html#aecf486fa03ba4b39b868f43584f2328a">setKey</a>(key);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classQApplication.html#a8a6a78e70fb097aa97ce61d9366d7c2b">QApplication::type</a>() == <a class="code" href="classQApplication.html#a8f86c58d22c7f245554ee187be7e0a8fa6f91cbc4e41b92404aed5f7867577686">QApplication::GuiServer</a>) {</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="classQVNCScreenPrivate.html#a85eef2dc19b7bc646e1778d6ca3105aa">shm</a>.<a class="code" href="classQSharedMemory.html#aa9fc9ea106dab120da8143eb654de35b">create</a>(<a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#a6ddd9375f0aae94bc82ebc5e30820912">size</a>)) {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                <a class="code" href="qglobal_8h.html#ac70e1c2698aa808d9baf4bda9e9ee891">qWarning</a>() &lt;&lt; <span class="stringliteral">&quot;QVNCScreen could not create shared memory:&quot;</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                           &lt;&lt; <a class="code" href="classQVNCScreenPrivate.html#a85eef2dc19b7bc646e1778d6ca3105aa">shm</a>.<a class="code" href="classQSharedMemory.html#a2f4648afd9e2eec1dc573074da70f7f2">errorString</a>();</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="classQVNCScreenPrivate.html#a85eef2dc19b7bc646e1778d6ca3105aa">shm</a>.<a class="code" href="classQSharedMemory.html#a03c4d9b69c254433c77d5ab3c7a32363">attach</a>()) {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                    <a class="code" href="qglobal_8h.html#ac70e1c2698aa808d9baf4bda9e9ee891">qWarning</a>() &lt;&lt; <span class="stringliteral">&quot;QVNCScreen could not attach to shared memory:&quot;</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                               &lt;&lt; <a class="code" href="classQVNCScreenPrivate.html#a85eef2dc19b7bc646e1778d6ca3105aa">shm</a>.<a class="code" href="classQSharedMemory.html#a2f4648afd9e2eec1dc573074da70f7f2">errorString</a>();</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                }</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            }</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="classQVNCScreenPrivate.html#a85eef2dc19b7bc646e1778d6ca3105aa">shm</a>.<a class="code" href="classQSharedMemory.html#a03c4d9b69c254433c77d5ab3c7a32363">attach</a>()) {</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            <a class="code" href="qglobal_8h.html#ac70e1c2698aa808d9baf4bda9e9ee891">qWarning</a>() &lt;&lt; <span class="stringliteral">&quot;QVNCScreen could not attach to shared memory:&quot;</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                       &lt;&lt; <a class="code" href="classQVNCScreenPrivate.html#a85eef2dc19b7bc646e1778d6ca3105aa">shm</a>.<a class="code" href="classQSharedMemory.html#a2f4648afd9e2eec1dc573074da70f7f2">errorString</a>();</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        }</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#a5a35b8a14de55a7ff540cad7648eeff3">data</a> = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*<span class="keyword">&gt;</span>(<a class="code" href="classQVNCScreenPrivate.html#a85eef2dc19b7bc646e1778d6ca3105aa">shm</a>.<a class="code" href="classQSharedMemory.html#a2375e68156ccd70310369580692648e4">data</a>());</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    }</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#a5a35b8a14de55a7ff540cad7648eeff3">data</a>)</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keyword">delete</span>[] <a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#a5a35b8a14de55a7ff540cad7648eeff3">data</a>;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#a5a35b8a14de55a7ff540cad7648eeff3">data</a> = <span class="keyword">new</span> <a class="code" href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>[<a class="code" href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">q_ptr</a>-&gt;<a class="code" href="classQScreen.html#a6ddd9375f0aae94bc82ebc5e30820912">size</a>];</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;}</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">//===========================================================================</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span>{</div><div class="line"><a name="l00291"></a><span class="lineno"><a class="line" href="qscreenvnc__qws_8cpp.html#a937d1c3fb3b2687f705954bc6896eed3">  291</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="qscreenvnc__qws_8cpp.html#a937d1c3fb3b2687f705954bc6896eed3">keysym</a>;</div><div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="qscreenvnc__qws_8cpp.html#a74583b0cb53a7bc6e51157cccea51e60">  292</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="qscreenvnc__qws_8cpp.html#a74583b0cb53a7bc6e51157cccea51e60">keycode</a>;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;} <a class="code" href="qscreenvnc__qws_8cpp.html#a36c2a18c6715036a8bbc4434d74fc6f8">keyMap</a>[] = {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    { 0xff08, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a4d0cd0630402b379bbf0cdf3bd9f9d3b">Qt::Key_Backspace</a> },</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    { 0xff09, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a0c9b4f499f0387996a74da83393c343a">Qt::Key_Tab</a>       },</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    { 0xff0d, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a143b6b394b52c5e35dcb4487b15e2f51">Qt::Key_Return</a>    },</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    { 0xff1b, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a0441fc6738f2dec848f5de01a997c4b8">Qt::Key_Escape</a>    },</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    { 0xff63, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a51f3e260439310e36877901a7b736fb4">Qt::Key_Insert</a>    },</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    { 0xffff, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8aa024365cbf4eef0db019e99e28f59590">Qt::Key_Delete</a>    },</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    { 0xff50, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8acc00f27771cf2d305ce11aee3a1ed8b8">Qt::Key_Home</a>      },</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    { 0xff57, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8af89d52e3fc7940986cbab75ab08d2b8f">Qt::Key_End</a>       },</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    { 0xff55, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a24a56d492a7f7e12344b63d4cf127fcc">Qt::Key_PageUp</a>    },</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    { 0xff56, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8ac2516f076e9e7ceeebb72b1a089958fe">Qt::Key_PageDown</a>  },</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    { 0xff51, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a578d2be4b693cb921be6eb5b8e6022c8">Qt::Key_Left</a>      },</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    { 0xff52, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a853e9a529a239db820a76f02d674feb7">Qt::Key_Up</a>        },</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    { 0xff53, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a20bae659e8ac08d66fa239e773b11869">Qt::Key_Right</a>     },</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    { 0xff54, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a90b748f07a3007b99707296482310e59">Qt::Key_Down</a>      },</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    { 0xffbe, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8ab64e7feca9c2ca95db9a5b74f862bffc">Qt::Key_F1</a>        },</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    { 0xffbf, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a9f2b171077972d1b23cd90d8143aedb4">Qt::Key_F2</a>        },</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    { 0xffc0, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a8a7bcab45169ce082a13edd8ba595a17">Qt::Key_F3</a>        },</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    { 0xffc1, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a99644aaf3d92c50b577ee08afb3786ba">Qt::Key_F4</a>        },</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    { 0xffc2, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8acbade679433f7441b999b98b3cf7dfaf">Qt::Key_F5</a>        },</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    { 0xffc3, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a4ee18a26d87638e3fb06ac1696484d93">Qt::Key_F6</a>        },</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    { 0xffc4, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a24022a734eb3ef8b22da6a30f13f8e29">Qt::Key_F7</a>        },</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    { 0xffc5, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8ada9f509c72934a1b678f5a8b2bb9e40d">Qt::Key_F8</a>        },</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    { 0xffc6, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a63fd0841510136b76351a5dc1f073b38">Qt::Key_F9</a>        },</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    { 0xffc7, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8acc1f88162a16fb129ce16ddbda891564">Qt::Key_F10</a>       },</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    { 0xffc8, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a778b978416b363dc8ecaa487c92a34f6">Qt::Key_F11</a>       },</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    { 0xffc9, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8aece67a14d3853b7b0c6f76e4447b2ddf">Qt::Key_F12</a>       },</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    { 0xffe1, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a13b6b365b7ac89d6914303b5b03fc1d1">Qt::Key_Shift</a>     },</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    { 0xffe2, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a13b6b365b7ac89d6914303b5b03fc1d1">Qt::Key_Shift</a>     },</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    { 0xffe3, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a6313952cabdc406ec9f3021cccf88570">Qt::Key_Control</a>   },</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    { 0xffe4, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a6313952cabdc406ec9f3021cccf88570">Qt::Key_Control</a>   },</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    { 0xffe7, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8aa13329aaeed7a4000c2dcdce1ee35032">Qt::Key_Meta</a>      },</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    { 0xffe8, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8aa13329aaeed7a4000c2dcdce1ee35032">Qt::Key_Meta</a>      },</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    { 0xffe9, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a6b124e6b6c2f6cc7684725abf353f7cb">Qt::Key_Alt</a>       },</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    { 0xffea, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a6b124e6b6c2f6cc7684725abf353f7cb">Qt::Key_Alt</a>       },</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    { 0xffb0, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a620892fbcc1bcfa0d0eba092c94aa435">Qt::Key_0</a>         },</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    { 0xffb1, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a82dfe7a1b95dac74620e616ff4860b70">Qt::Key_1</a>         },</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    { 0xffb2, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a3541d18f021b3c116b4ba96b60a3100b">Qt::Key_2</a>         },</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    { 0xffb3, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8aba82706b04db0077b8c7f080a0c0f702">Qt::Key_3</a>         },</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    { 0xffb4, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a31f1dee5d47ffcbdff45e1981375efab">Qt::Key_4</a>         },</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    { 0xffb5, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8aecc1d95d15609aa93c182b422810f3ff">Qt::Key_5</a>         },</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    { 0xffb6, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a92b1f21b2bba948126c779f3b86a9482">Qt::Key_6</a>         },</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    { 0xffb7, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a3fbe2b35bd6155751fd2f7046005b530">Qt::Key_7</a>         },</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    { 0xffb8, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a4b8276374ddce509556353f3cf20dbca">Qt::Key_8</a>         },</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    { 0xffb9, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a1666fc497786a2f2d0f49eb5a1e3b272">Qt::Key_9</a>         },</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    { 0xff8d, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a143b6b394b52c5e35dcb4487b15e2f51">Qt::Key_Return</a>    },</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    { 0xffaa, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8ae5a9a1126326f6626d0dcb42213d5a8c">Qt::Key_Asterisk</a>  },</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    { 0xffab, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a1343b048eb08c41f03a9e28590ec8e04">Qt::Key_Plus</a>      },</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    { 0xffad, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a887cfb5d4fd1fa4d05d66481fcfb35bb">Qt::Key_Minus</a>     },</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    { 0xffae, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8abe07e6b2461eae70e7335c18b4cf3e9f">Qt::Key_Period</a>    },</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    { 0xffaf, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8abdd0686bc586dff4539cbf8f929d3a6b">Qt::Key_Slash</a>     },</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    { 0xff95, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8acc00f27771cf2d305ce11aee3a1ed8b8">Qt::Key_Home</a>      },</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    { 0xff96, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a578d2be4b693cb921be6eb5b8e6022c8">Qt::Key_Left</a>      },</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    { 0xff97, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a853e9a529a239db820a76f02d674feb7">Qt::Key_Up</a>        },</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    { 0xff98, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a20bae659e8ac08d66fa239e773b11869">Qt::Key_Right</a>     },</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    { 0xff99, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a90b748f07a3007b99707296482310e59">Qt::Key_Down</a>      },</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    { 0xff9a, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a24a56d492a7f7e12344b63d4cf127fcc">Qt::Key_PageUp</a>    },</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    { 0xff9b, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8ac2516f076e9e7ceeebb72b1a089958fe">Qt::Key_PageDown</a>  },</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    { 0xff9c, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8af89d52e3fc7940986cbab75ab08d2b8f">Qt::Key_End</a>       },</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    { 0xff9e, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a51f3e260439310e36877901a7b736fb4">Qt::Key_Insert</a>    },</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    { 0xff9f, <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8aa024365cbf4eef0db019e99e28f59590">Qt::Key_Delete</a>    },</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    { 0, 0 }</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;};</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno"><a class="line" href="classQRfbRect.html#a68a84d166ef9c48925ce9f550b7cba45">  361</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQRfbRect.html#a68a84d166ef9c48925ce9f550b7cba45">QRfbRect::read</a>(<a class="code" href="classQTcpSocket.html">QTcpSocket</a> *s)</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;{</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <a class="code" href="qglobal_8h.html#a6f3b1e8a589d7539ac4f9592005da8b7">quint16</a> buf[4];</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    s-&gt;<a class="code" href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">read</a>((<span class="keywordtype">char</span>*)buf, 8);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    x = ntohs(buf[0]);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    y = ntohs(buf[1]);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    w = ntohs(buf[2]);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    h = ntohs(buf[3]);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;}</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno"><a class="line" href="classQRfbRect.html#aab4973da8c73ccb848e183e314be2d1c">  371</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQRfbRect.html#aab4973da8c73ccb848e183e314be2d1c">QRfbRect::write</a>(<a class="code" href="classQTcpSocket.html">QTcpSocket</a> *s)<span class="keyword"> const</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <a class="code" href="qglobal_8h.html#a6f3b1e8a589d7539ac4f9592005da8b7">quint16</a> buf[4];</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    buf[0] = htons(x);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    buf[1] = htons(y);</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    buf[2] = htons(w);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    buf[3] = htons(h);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    s-&gt;<a class="code" href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">write</a>((<span class="keywordtype">char</span>*)buf, 8);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;}</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno"><a class="line" href="classQRfbPixelFormat.html#aa782930fc5835a59e4086d812943ffd8">  381</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQRfbPixelFormat.html#aa782930fc5835a59e4086d812943ffd8">QRfbPixelFormat::read</a>(<a class="code" href="classQTcpSocket.html">QTcpSocket</a> *s)</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;{</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordtype">char</span> buf[16];</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    s-&gt;<a class="code" href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">read</a>(buf, 16);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    bitsPerPixel = buf[0];</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    depth = buf[1];</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    bigEndian = buf[2];</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    trueColor = buf[3];</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <a class="code" href="qglobal_8h.html#a6f3b1e8a589d7539ac4f9592005da8b7">quint16</a> <a class="code" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a> = ntohs(*(<a class="code" href="qglobal_8h.html#a6f3b1e8a589d7539ac4f9592005da8b7">quint16</a> *)(buf + 4));</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    redBits = 0;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">while</span> (a) { a &gt;&gt;= 1; redBits++; }</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    a = ntohs(*(<a class="code" href="qglobal_8h.html#a6f3b1e8a589d7539ac4f9592005da8b7">quint16</a> *)(buf + 6));</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    greenBits = 0;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">while</span> (a) { a &gt;&gt;= 1; greenBits++; }</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    a = ntohs(*(<a class="code" href="qglobal_8h.html#a6f3b1e8a589d7539ac4f9592005da8b7">quint16</a> *)(buf + 8));</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    blueBits = 0;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">while</span> (a) { a &gt;&gt;= 1; blueBits++; }</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    redShift = buf[10];</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    greenShift = buf[11];</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    blueShift = buf[12];</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;}</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno"><a class="line" href="classQRfbPixelFormat.html#adfcd1ac0d17e966532e8c1903eed5d1c">  407</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQRfbPixelFormat.html#adfcd1ac0d17e966532e8c1903eed5d1c">QRfbPixelFormat::write</a>(<a class="code" href="classQTcpSocket.html">QTcpSocket</a> *s)</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;{</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordtype">char</span> buf[16];</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    buf[0] = bitsPerPixel;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    buf[1] = depth;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    buf[2] = bigEndian;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    buf[3] = trueColor;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <a class="code" href="qglobal_8h.html#a6f3b1e8a589d7539ac4f9592005da8b7">quint16</a> <a class="code" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a> = 0;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; redBits; i++) a = (a &lt;&lt; 1) | 1;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    *(<a class="code" href="qglobal_8h.html#a6f3b1e8a589d7539ac4f9592005da8b7">quint16</a> *)(buf + 4) = htons(a);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    a = 0;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; greenBits; i++) a = (a &lt;&lt; 1) | 1;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    *(<a class="code" href="qglobal_8h.html#a6f3b1e8a589d7539ac4f9592005da8b7">quint16</a> *)(buf + 6) = htons(a);</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    a = 0;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; blueBits; i++) a = (a &lt;&lt; 1) | 1;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    *(<a class="code" href="qglobal_8h.html#a6f3b1e8a589d7539ac4f9592005da8b7">quint16</a> *)(buf + 8) = htons(a);</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    buf[10] = redShift;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    buf[11] = greenShift;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    buf[12] = blueShift;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    s-&gt;<a class="code" href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">write</a>(buf, 16);</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;}</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno"><a class="line" href="classQRfbServerInit.html#a69964a85185b5267962ccbf4a64f2e22">  434</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQRfbServerInit.html#a69964a85185b5267962ccbf4a64f2e22">QRfbServerInit::setName</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *n)</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;{</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keyword">delete</span>[] <a class="code" href="qkeysequence_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <a class="code" href="qkeysequence_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <span class="keyword">new</span> <span class="keywordtype">char</span> [strlen(n) + 1];</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    strcpy(<a class="code" href="qkeysequence_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, n);</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;}</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno"><a class="line" href="classQRfbServerInit.html#a052ce7fa66aa41ec0ddc46166c03f72b">  441</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQRfbServerInit.html#a052ce7fa66aa41ec0ddc46166c03f72b">QRfbServerInit::read</a>(<a class="code" href="classQTcpSocket.html">QTcpSocket</a> *s)</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;{</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    s-&gt;<a class="code" href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">read</a>((<span class="keywordtype">char</span> *)&amp;width, 2);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    width = ntohs(width);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    s-&gt;<a class="code" href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">read</a>((<span class="keywordtype">char</span> *)&amp;height, 2);</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    height = ntohs(height);</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <a class="code" href="qprintengine__ps_8cpp.html#a387137c43ed9616d39ba90e890d181eb">format</a>.read(s);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a> len;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    s-&gt;<a class="code" href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">read</a>((<span class="keywordtype">char</span> *)&amp;len, 4);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    len = ntohl(len);</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <a class="code" href="qkeysequence_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <span class="keyword">new</span> <span class="keywordtype">char</span> [len + 1];</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    s-&gt;<a class="code" href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">read</a>(<a class="code" href="qkeysequence_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, len);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <a class="code" href="qkeysequence_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>[len] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;}</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno"><a class="line" href="classQRfbServerInit.html#ace3014230336c5b24759bd34db17e83c">  458</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQRfbServerInit.html#ace3014230336c5b24759bd34db17e83c">QRfbServerInit::write</a>(<a class="code" href="classQTcpSocket.html">QTcpSocket</a> *s)</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;{</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <a class="code" href="qglobal_8h.html#a6f3b1e8a589d7539ac4f9592005da8b7">quint16</a> t = htons(width);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    s-&gt;<a class="code" href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">write</a>((<span class="keywordtype">char</span> *)&amp;t, 2);</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    t = htons(height);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    s-&gt;<a class="code" href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">write</a>((<span class="keywordtype">char</span> *)&amp;t, 2);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <a class="code" href="qprintengine__ps_8cpp.html#a387137c43ed9616d39ba90e890d181eb">format</a>.write(s);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a> len = strlen(<a class="code" href="qkeysequence_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    len = htonl(len);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    s-&gt;<a class="code" href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">write</a>((<span class="keywordtype">char</span> *)&amp;len, 4);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    s-&gt;<a class="code" href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">write</a>(<a class="code" href="qkeysequence_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, strlen(<a class="code" href="qkeysequence_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>));</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;}</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno"><a class="line" href="classQRfbSetEncodings.html#a4628c342c1434cdeab1860d3f0ac160d">  471</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQRfbSetEncodings.html#a4628c342c1434cdeab1860d3f0ac160d">QRfbSetEncodings::read</a>(<a class="code" href="classQTcpSocket.html">QTcpSocket</a> *s)</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;{</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">if</span> (s-&gt;<a class="code" href="classQAbstractSocket.html#a8fa0dab94ceda26984a780dae85bf9d1">bytesAvailable</a>() &lt; 3)</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keywordtype">char</span> tmp;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    s-&gt;<a class="code" href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">read</a>(&amp;tmp, 1);        <span class="comment">// padding</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    s-&gt;<a class="code" href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">read</a>((<span class="keywordtype">char</span> *)&amp;count, 2);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    count = ntohs(count);</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;}</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno"><a class="line" href="classQRfbFrameBufferUpdateRequest.html#a69506699394f44f3ac9aa86483a3ffa0">  484</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQRfbFrameBufferUpdateRequest.html#a69506699394f44f3ac9aa86483a3ffa0">QRfbFrameBufferUpdateRequest::read</a>(<a class="code" href="classQTcpSocket.html">QTcpSocket</a> *s)</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;{</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordflow">if</span> (s-&gt;<a class="code" href="classQAbstractSocket.html#a8fa0dab94ceda26984a780dae85bf9d1">bytesAvailable</a>() &lt; 9)</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    s-&gt;<a class="code" href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">read</a>(&amp;incremental, 1);</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    rect.read(s);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;}</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div><div class="line"><a name="l00495"></a><span class="lineno"><a class="line" href="classQRfbKeyEvent.html#ab85375cf5afc7cec2492ec058d5839e0">  495</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQRfbKeyEvent.html#ab85375cf5afc7cec2492ec058d5839e0">QRfbKeyEvent::read</a>(<a class="code" href="classQTcpSocket.html">QTcpSocket</a> *s)</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;{</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keywordflow">if</span> (s-&gt;<a class="code" href="classQAbstractSocket.html#a8fa0dab94ceda26984a780dae85bf9d1">bytesAvailable</a>() &lt; 7)</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    s-&gt;<a class="code" href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">read</a>(&amp;down, 1);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <a class="code" href="qglobal_8h.html#a6f3b1e8a589d7539ac4f9592005da8b7">quint16</a> tmp;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    s-&gt;<a class="code" href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">read</a>((<span class="keywordtype">char</span> *)&amp;tmp, 2);  <span class="comment">// padding</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a> <a class="code" href="qkeysequence_8cpp.html#a35af0be900467fedbb610bd6ea65ed78">key</a>;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    s-&gt;<a class="code" href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">read</a>((<span class="keywordtype">char</span> *)&amp;key, 4);</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    key = ntohl(key);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    unicode = 0;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <a class="code" href="qscreenvnc__qws_8cpp.html#a74583b0cb53a7bc6e51157cccea51e60">keycode</a> = 0;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordtype">int</span> i = 0;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="qscreenvnc__qws_8cpp.html#a36c2a18c6715036a8bbc4434d74fc6f8">keyMap</a>[i].<a class="code" href="qscreenvnc__qws_8cpp.html#a937d1c3fb3b2687f705954bc6896eed3">keysym</a> &amp;&amp; !<a class="code" href="qscreenvnc__qws_8cpp.html#a74583b0cb53a7bc6e51157cccea51e60">keycode</a>) {</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="qscreenvnc__qws_8cpp.html#a36c2a18c6715036a8bbc4434d74fc6f8">keyMap</a>[i].<a class="code" href="qscreenvnc__qws_8cpp.html#a937d1c3fb3b2687f705954bc6896eed3">keysym</a> == (<span class="keywordtype">int</span>)key)</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;            <a class="code" href="qscreenvnc__qws_8cpp.html#a74583b0cb53a7bc6e51157cccea51e60">keycode</a> = <a class="code" href="qscreenvnc__qws_8cpp.html#a36c2a18c6715036a8bbc4434d74fc6f8">keyMap</a>[i].keycode;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        i++;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    }</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="qscreenvnc__qws_8cpp.html#a74583b0cb53a7bc6e51157cccea51e60">keycode</a> &gt;= <span class="charliteral">&#39; &#39;</span> &amp;&amp; <a class="code" href="qscreenvnc__qws_8cpp.html#a74583b0cb53a7bc6e51157cccea51e60">keycode</a> &lt;= <span class="charliteral">&#39;~&#39;</span>)</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        unicode = <a class="code" href="qscreenvnc__qws_8cpp.html#a74583b0cb53a7bc6e51157cccea51e60">keycode</a>;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="qscreenvnc__qws_8cpp.html#a74583b0cb53a7bc6e51157cccea51e60">keycode</a>) {</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <span class="keywordflow">if</span> (key &lt;= 0xff) {</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            unicode = <a class="code" href="qkeysequence_8cpp.html#a35af0be900467fedbb610bd6ea65ed78">key</a>;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            <span class="keywordflow">if</span> (key &gt;= <span class="charliteral">&#39;a&#39;</span> &amp;&amp; key &lt;= <span class="charliteral">&#39;z&#39;</span>)</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                <a class="code" href="qscreenvnc__qws_8cpp.html#a74583b0cb53a7bc6e51157cccea51e60">keycode</a> = <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a5e0aa1dd3ca52dc24138e9a91ffccc09">Qt::Key_A</a> + key - <span class="charliteral">&#39;a&#39;</span>;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (key &gt;= <span class="charliteral">&#39; &#39;</span> &amp;&amp; key &lt;= <span class="charliteral">&#39;~&#39;</span>)</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                <a class="code" href="qscreenvnc__qws_8cpp.html#a74583b0cb53a7bc6e51157cccea51e60">keycode</a> = <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a2a469d4b6c1bf0d38b2dc64cb0690f76">Qt::Key_Space</a> + key - <span class="charliteral">&#39; &#39;</span>;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        }</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    }</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;}</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div><div class="line"><a name="l00533"></a><span class="lineno"><a class="line" href="classQRfbPointerEvent.html#a627c2fa8adc854a2303faa194877c17e">  533</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQRfbPointerEvent.html#a627c2fa8adc854a2303faa194877c17e">QRfbPointerEvent::read</a>(<a class="code" href="classQTcpSocket.html">QTcpSocket</a> *s)</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;{</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="keywordflow">if</span> (s-&gt;<a class="code" href="classQAbstractSocket.html#a8fa0dab94ceda26984a780dae85bf9d1">bytesAvailable</a>() &lt; 5)</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keywordtype">char</span> buttonMask;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    s-&gt;<a class="code" href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">read</a>(&amp;buttonMask, 1);</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <a class="code" href="qapplication__qpa_8cpp.html#ad33b11632cbdb57ba59baf548def8dba">buttons</a> = 0;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keywordflow">if</span> (buttonMask &amp; 1)</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <a class="code" href="qapplication__qpa_8cpp.html#ad33b11632cbdb57ba59baf548def8dba">buttons</a> |= <a class="code" href="namespaceQt.html#a16deb986715b604a7050b3b4c9beeaf7a0fa7aaf33b080b0a8702325aabdae7c4">Qt::LeftButton</a>;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">if</span> (buttonMask &amp; 2)</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <a class="code" href="qapplication__qpa_8cpp.html#ad33b11632cbdb57ba59baf548def8dba">buttons</a> |= <a class="code" href="namespaceQt.html#a16deb986715b604a7050b3b4c9beeaf7ad6b5abb3c55380d26ce2d1fd00b00b9c">Qt::MidButton</a>;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordflow">if</span> (buttonMask &amp; 4)</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <a class="code" href="qapplication__qpa_8cpp.html#ad33b11632cbdb57ba59baf548def8dba">buttons</a> |= <a class="code" href="namespaceQt.html#a16deb986715b604a7050b3b4c9beeaf7a59f5bfe6ca574f67ee19bc22f5c5c913">Qt::RightButton</a>;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <a class="code" href="qglobal_8h.html#a6f3b1e8a589d7539ac4f9592005da8b7">quint16</a> tmp;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    s-&gt;<a class="code" href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">read</a>((<span class="keywordtype">char</span> *)&amp;tmp, 2);</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    x = ntohs(tmp);</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    s-&gt;<a class="code" href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">read</a>((<span class="keywordtype">char</span> *)&amp;tmp, 2);</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    y = ntohs(tmp);</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;}</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div><div class="line"><a name="l00557"></a><span class="lineno"><a class="line" href="classQRfbClientCutText.html#a15c1c5546c7670afd9abfe3ea3727542">  557</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQRfbClientCutText.html#a15c1c5546c7670afd9abfe3ea3727542">QRfbClientCutText::read</a>(<a class="code" href="classQTcpSocket.html">QTcpSocket</a> *s)</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;{</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">if</span> (s-&gt;<a class="code" href="classQAbstractSocket.html#a8fa0dab94ceda26984a780dae85bf9d1">bytesAvailable</a>() &lt; 7)</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordtype">char</span> tmp[3];</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    s-&gt;<a class="code" href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">read</a>(tmp, 3);        <span class="comment">// padding</span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    s-&gt;<a class="code" href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">read</a>((<span class="keywordtype">char</span> *)&amp;length, 4);</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    length = ntohl(length);</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;}</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment">//===========================================================================</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div><div class="line"><a name="l00572"></a><span class="lineno"><a class="line" href="classQVNCServer.html#a099fbcb01bb07190c191b54c5a2388fa">  572</a></span>&#160;<a class="code" href="classQVNCServer.html#a099fbcb01bb07190c191b54c5a2388fa">QVNCServer::QVNCServer</a>(<a class="code" href="classQVNCScreen.html">QVNCScreen</a> *screen)</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    : qvnc_screen(screen)</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;{</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <a class="code" href="classQVNCServer.html#ae4405cfe82a107213940d701e0dd6cf8">init</a>(5900);</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;}</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div><div class="line"><a name="l00578"></a><span class="lineno"><a class="line" href="classQVNCServer.html#af38f7c30c4012816d97484f6065bb194">  578</a></span>&#160;<a class="code" href="classQVNCServer.html#a099fbcb01bb07190c191b54c5a2388fa">QVNCServer::QVNCServer</a>(<a class="code" href="classQVNCScreen.html">QVNCScreen</a> *<a class="code" href="classQVNCServer.html#ae879174a529769415c5a65b1115dd835">screen</a>, <span class="keywordtype">int</span> <span class="keywordtype">id</span>)</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    : <a class="code" href="classQVNCServer.html#ae90ef3520de760ae05c7fccda634a37c">qvnc_screen</a>(screen)</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;{</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <a class="code" href="classQVNCServer.html#ae4405cfe82a107213940d701e0dd6cf8">init</a>(5900 + <span class="keywordtype">id</span>);</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;}</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div><div class="line"><a name="l00584"></a><span class="lineno"><a class="line" href="classQVNCServer.html#ae4405cfe82a107213940d701e0dd6cf8">  584</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQVNCServer.html#ae4405cfe82a107213940d701e0dd6cf8">QVNCServer::init</a>(<a class="code" href="qglobal_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> port)</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;{</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <a class="code" href="classQVNCServer.html#a773ed472f7b48ce66b055a6d2a4fcc36">handleMsg</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <a class="code" href="classQVNCServer.html#abdc464085a73380566c22529df241a8a">client</a> = 0;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <a class="code" href="classQVNCServer.html#ae57d7fdd861f490e5be9b6451e635fff">encodingsPending</a> = 0;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <a class="code" href="classQVNCServer.html#add2c0e43276c616e474bc05824a9c768">cutTextPending</a> = 0;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <a class="code" href="classQVNCServer.html#a52872bbfb819a6f3dc5f42723e24fb8d">keymod</a> = 0;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <a class="code" href="classQVNCServer.html#a4452d49251959decb91c9a76cd6605ba">state</a> = <a class="code" href="classQVNCServer.html#ada2b7c73e51e906b7920ac353c90dd8dacb83d9af7c2c74a3c73ec7f62827e77c">Unconnected</a>;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <a class="code" href="classQVNCServer.html#a0b39b234e25937d9d9a8cf365e111ce7">dirtyCursor</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <a class="code" href="classQVNCServer.html#a2c5a05bf04427d7c5981b9984e7273eb">refreshRate</a> = 25;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <a class="code" href="classQVNCServer.html#a39f439c9b71ed30c6ea0f0461f2ef176">timer</a> = <span class="keyword">new</span> <a class="code" href="classQTimer.html">QTimer</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <a class="code" href="classQVNCServer.html#a39f439c9b71ed30c6ea0f0461f2ef176">timer</a>-&gt;<a class="code" href="classQTimer.html#a150c89e4dbc6aba7c34d550b35fd834f">setSingleShot</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <a class="code" href="classQObject.html#a50a3042b8b8c872fcc9ed5af1544e3b9">connect</a>(<a class="code" href="classQVNCServer.html#a39f439c9b71ed30c6ea0f0461f2ef176">timer</a>, <a class="code" href="qobjectdefs_8h.html#ac12b7dc4402f26a3de050a3bdcba4380">SIGNAL</a>(timeout()), <span class="keyword">this</span>, <a class="code" href="qobjectdefs_8h.html#a3efae9e882f0deb310fe2b2724e110b9">SLOT</a>(<a class="code" href="classQVNCServer.html#a1f59308af5a50d4f4d6314a90bb296a6">checkUpdate</a>()));</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <a class="code" href="classQVNCServer.html#a3d99b0c9a859d88ee8362b2e13ea13c8">serverSocket</a> = <span class="keyword">new</span> <a class="code" href="classQTcpServer.html">QTcpServer</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classQVNCServer.html#a3d99b0c9a859d88ee8362b2e13ea13c8">serverSocket</a>-&gt;<a class="code" href="classQTcpServer.html#aa80eeeab97166fa4b9b35bf2e8f34c6e">listen</a>(<a class="code" href="classQHostAddress.html#a19aaf15ec8753e65e4009179253144cca38cf9455ff8264e8a9ccaffe2610f822">QHostAddress::Any</a>, port))</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <a class="code" href="qglobal_8h.html#abfe4fd29fa94368c8635bfffc1317587">qDebug</a>() &lt;&lt; <span class="stringliteral">&quot;QVNCServer could not connect:&quot;</span> &lt;&lt; <a class="code" href="classQVNCServer.html#a3d99b0c9a859d88ee8362b2e13ea13c8">serverSocket</a>-&gt;<a class="code" href="classQTcpServer.html#a72789e28bda173b25e5421d90657fef2">errorString</a>();</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <a class="code" href="qglobal_8h.html#abfe4fd29fa94368c8635bfffc1317587">qDebug</a>(<span class="stringliteral">&quot;QVNCServer created on port %d&quot;</span>, port);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <a class="code" href="classQObject.html#a50a3042b8b8c872fcc9ed5af1544e3b9">connect</a>(<a class="code" href="classQVNCServer.html#a3d99b0c9a859d88ee8362b2e13ea13c8">serverSocket</a>, <a class="code" href="qobjectdefs_8h.html#ac12b7dc4402f26a3de050a3bdcba4380">SIGNAL</a>(<a class="code" href="classQVNCServer.html#acdbbe806306a6d4c47a539ae88253a87">newConnection</a>()), <span class="keyword">this</span>, <a class="code" href="qobjectdefs_8h.html#a3efae9e882f0deb310fe2b2724e110b9">SLOT</a>(<a class="code" href="classQVNCServer.html#acdbbe806306a6d4c47a539ae88253a87">newConnection</a>()));</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="preprocessor">#ifndef QT_NO_QWS_CURSOR</span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <a class="code" href="classQVNCServer.html#ad5c39ad8935f64edecaa5b2bb8bfaec5">qvnc_cursor</a> = 0;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a> = 0;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;}</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div><div class="line"><a name="l00613"></a><span class="lineno"><a class="line" href="classQVNCServer.html#ac3d033688554702a5d24a1b93be8f393">  613</a></span>&#160;<a class="code" href="classQVNCServer.html#ac3d033688554702a5d24a1b93be8f393">QVNCServer::~QVNCServer</a>()</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;{</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a> = 0;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classQVNCServer.html#abdc464085a73380566c22529df241a8a">client</a>;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <a class="code" href="classQVNCServer.html#abdc464085a73380566c22529df241a8a">client</a> = 0;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="preprocessor">#ifndef QT_NO_QWS_CURSOR</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classQVNCServer.html#ad5c39ad8935f64edecaa5b2bb8bfaec5">qvnc_cursor</a>;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <a class="code" href="classQVNCServer.html#ad5c39ad8935f64edecaa5b2bb8bfaec5">qvnc_cursor</a> = 0;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;}</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div><div class="line"><a name="l00625"></a><span class="lineno"><a class="line" href="classQVNCServer.html#a56a738a52772ae475db14d77d9c69418">  625</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQVNCServer.html#a56a738a52772ae475db14d77d9c69418">QVNCServer::setDirty</a>()</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;{</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQVNCServer.html#a4452d49251959decb91c9a76cd6605ba">state</a> == <a class="code" href="classQVNCServer.html#ada2b7c73e51e906b7920ac353c90dd8da83d13cd16d3532de2325bd056638d2fa">Connected</a> &amp;&amp; !<a class="code" href="classQVNCServer.html#a39f439c9b71ed30c6ea0f0461f2ef176">timer</a>-&gt;<a class="code" href="classQTimer.html#abf993b735db2f5c7b3b3a182f289b31f">isActive</a>() &amp;&amp;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        ((<a class="code" href="classQVNCServer.html#a1b9ef43f1ce3ad45044997429e1b0a9b">dirtyMap</a>()-&gt;<a class="code" href="classQVNCDirtyMap.html#a0a691fc548d6e86df5301815e7f4d54b">numDirty</a> &gt; 0) || <a class="code" href="classQVNCServer.html#a0b39b234e25937d9d9a8cf365e111ce7">dirtyCursor</a>)) {</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        <a class="code" href="classQVNCServer.html#a39f439c9b71ed30c6ea0f0461f2ef176">timer</a>-&gt;<a class="code" href="classQTimer.html#a3b4fd7191bc2ebd5a19c74a1ebbe53eb">start</a>();</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    }</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;}</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno"><a class="line" href="classQVNCServer.html#acdbbe806306a6d4c47a539ae88253a87">  633</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQVNCServer.html#acdbbe806306a6d4c47a539ae88253a87">QVNCServer::newConnection</a>()</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;{</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQVNCServer.html#abdc464085a73380566c22529df241a8a">client</a>)</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <span class="keyword">delete</span> <a class="code" href="classQVNCServer.html#abdc464085a73380566c22529df241a8a">client</a>;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <a class="code" href="classQVNCServer.html#abdc464085a73380566c22529df241a8a">client</a> = <a class="code" href="classQVNCServer.html#a3d99b0c9a859d88ee8362b2e13ea13c8">serverSocket</a>-&gt;<a class="code" href="classQTcpServer.html#a9c407d6fcc602a2cf014db735127424f">nextPendingConnection</a>();</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <a class="code" href="classQObject.html#a50a3042b8b8c872fcc9ed5af1544e3b9">connect</a>(<a class="code" href="classQVNCServer.html#abdc464085a73380566c22529df241a8a">client</a>,<a class="code" href="qobjectdefs_8h.html#ac12b7dc4402f26a3de050a3bdcba4380">SIGNAL</a>(readyRead()),<span class="keyword">this</span>,<a class="code" href="qobjectdefs_8h.html#a3efae9e882f0deb310fe2b2724e110b9">SLOT</a>(<a class="code" href="classQVNCServer.html#aa4822bbe58c09024700e332470c42b91">readClient</a>()));</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <a class="code" href="classQObject.html#a50a3042b8b8c872fcc9ed5af1544e3b9">connect</a>(<a class="code" href="classQVNCServer.html#abdc464085a73380566c22529df241a8a">client</a>,<a class="code" href="qobjectdefs_8h.html#ac12b7dc4402f26a3de050a3bdcba4380">SIGNAL</a>(disconnected()),<span class="keyword">this</span>,<a class="code" href="qobjectdefs_8h.html#a3efae9e882f0deb310fe2b2724e110b9">SLOT</a>(<a class="code" href="classQVNCServer.html#a32528cef6fe4bada4f6c3a566b9e670c">discardClient</a>()));</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <a class="code" href="classQVNCServer.html#a773ed472f7b48ce66b055a6d2a4fcc36">handleMsg</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <a class="code" href="classQVNCServer.html#ae57d7fdd861f490e5be9b6451e635fff">encodingsPending</a> = 0;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <a class="code" href="classQVNCServer.html#add2c0e43276c616e474bc05824a9c768">cutTextPending</a> = 0;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <a class="code" href="classQVNCServer.html#a28c26a22ba76b337a5d0d67b39029df6">supportHextile</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <a class="code" href="classQVNCServer.html#a6225bccdd238f8711bcfc172d14fe8a8">wantUpdate</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <a class="code" href="classQVNCServer.html#a39f439c9b71ed30c6ea0f0461f2ef176">timer</a>-&gt;<a class="code" href="classQTimer.html#a3b4fd7191bc2ebd5a19c74a1ebbe53eb">start</a>(1000 / <a class="code" href="classQVNCServer.html#a2c5a05bf04427d7c5981b9984e7273eb">refreshRate</a>);</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <a class="code" href="classQVNCServer.html#a1b9ef43f1ce3ad45044997429e1b0a9b">dirtyMap</a>()-&gt;<a class="code" href="classQVNCDirtyMap.html#ac223a4c00cef63ebc62c5fae63e68694">reset</a>();</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="comment">// send protocol version</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *proto = <span class="stringliteral">&quot;RFB 003.003\n&quot;</span>;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <a class="code" href="classQVNCServer.html#abdc464085a73380566c22529df241a8a">client</a>-&gt;<a class="code" href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">write</a>(proto, 12);</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <a class="code" href="classQVNCServer.html#a4452d49251959decb91c9a76cd6605ba">state</a> = <a class="code" href="classQVNCServer.html#ada2b7c73e51e906b7920ac353c90dd8da76e595c5af09c13db7835652aafe0e64">Protocol</a>;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classQVNCServer.html#ae90ef3520de760ae05c7fccda634a37c">qvnc_screen</a>-&gt;<a class="code" href="classQProxyScreen.html#a4fce56ac727f603c2442930bdde0cc0c">screen</a>() &amp;&amp; !<a class="code" href="classQVNCServer.html#ae90ef3520de760ae05c7fccda634a37c">qvnc_screen</a>-&gt;<a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a>-&gt;<a class="code" href="classQVNCScreenPrivate.html#a976ded54ba514355decc258812050114">noDisablePainting</a>)</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <a class="code" href="classQWSServer.html#ac0890baa7d49c5bd5421fb2de3b4342b">QWSServer::instance</a>()-&gt;<a class="code" href="classQWSServer.html#ace7e17dd1221fde3399d43fab4dd7832">enablePainting</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;}</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div><div class="line"><a name="l00659"></a><span class="lineno"><a class="line" href="classQVNCServer.html#aa4822bbe58c09024700e332470c42b91">  659</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQVNCServer.html#aa4822bbe58c09024700e332470c42b91">QVNCServer::readClient</a>()</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;{</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="classQVNCServer.html#a4452d49251959decb91c9a76cd6605ba">state</a>) {</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classQVNCServer.html#ada2b7c73e51e906b7920ac353c90dd8da76e595c5af09c13db7835652aafe0e64">Protocol</a>:</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classQVNCServer.html#abdc464085a73380566c22529df241a8a">client</a>-&gt;<a class="code" href="classQAbstractSocket.html#a8fa0dab94ceda26984a780dae85bf9d1">bytesAvailable</a>() &gt;= 12) {</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                <span class="keywordtype">char</span> proto[13];</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                <a class="code" href="classQVNCServer.html#abdc464085a73380566c22529df241a8a">client</a>-&gt;<a class="code" href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">read</a>(proto, 12);</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                proto[12] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                <a class="code" href="qglobal_8h.html#abfe4fd29fa94368c8635bfffc1317587">qDebug</a>(<span class="stringliteral">&quot;Client protocol version %s&quot;</span>, proto);</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                <span class="comment">// No authentication</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                <a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a> auth = htonl(1);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                <a class="code" href="classQVNCServer.html#abdc464085a73380566c22529df241a8a">client</a>-&gt;<a class="code" href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">write</a>((<span class="keywordtype">char</span> *) &amp;auth, <span class="keyword">sizeof</span>(auth));</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                <a class="code" href="classQVNCServer.html#a4452d49251959decb91c9a76cd6605ba">state</a> = <a class="code" href="classQVNCServer.html#ada2b7c73e51e906b7920ac353c90dd8da30279b9c46125ef4d1f4a8b17e7f1841">Init</a>;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;            }</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classQVNCServer.html#ada2b7c73e51e906b7920ac353c90dd8da30279b9c46125ef4d1f4a8b17e7f1841">Init</a>:</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classQVNCServer.html#abdc464085a73380566c22529df241a8a">client</a>-&gt;<a class="code" href="classQAbstractSocket.html#a8fa0dab94ceda26984a780dae85bf9d1">bytesAvailable</a>() &gt;= 1) {</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                <a class="code" href="qglobal_8h.html#ac3ffd6ad7bfb3c6d4857b2aadd5ec47a">quint8</a> shared;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                <a class="code" href="classQVNCServer.html#abdc464085a73380566c22529df241a8a">client</a>-&gt;<a class="code" href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">read</a>((<span class="keywordtype">char</span> *) &amp;shared, 1);</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                <span class="comment">// Server Init msg</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                <a class="code" href="classQRfbServerInit.html">QRfbServerInit</a> sim;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                <a class="code" href="classQRfbPixelFormat.html">QRfbPixelFormat</a> &amp;<a class="code" href="qprintengine__ps_8cpp.html#a387137c43ed9616d39ba90e890d181eb">format</a> = sim.<a class="code" href="classQRfbServerInit.html#a56c2278e465a9cf4c2f79c3d10ca3115">format</a>;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                <span class="keywordflow">switch</span> (<a class="code" href="classQVNCServer.html#ae90ef3520de760ae05c7fccda634a37c">qvnc_screen</a>-&gt;<a class="code" href="classQFbScreen.html#ab038cfefb768d552bde86c4312884f57">depth</a>()) {</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                <span class="keywordflow">case</span> 32:</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#adb7a4836d3fe11bb8f8c8422bdf47412">bitsPerPixel</a> = 32;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a3f5813ee79742f0fe2eb087b6605dece">depth</a> = 32;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a4735f4b98092eb6c2eaad1ca675f1349">bigEndian</a> = 0;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a42fd080d5261a7fd208062aec960f791">trueColor</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a7010ff14efce0f5d3a835e1a4948a9f2">redBits</a> = 8;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#afb6a26ee8dc5dd2a3f6ddf76b56e904d">greenBits</a> = 8;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#ad6b545d2e4d404e167dde3429cc96de3">blueBits</a> = 8;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a92f9335b717984f8bb3ca61d52ed5e41">redShift</a> = 16;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a3108030d9fcaa55adcfb3106449b7e39">greenShift</a> = 8;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a7829ef51b1b7d1ddcea56e3331cfd1e3">blueShift</a> = 0;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                <span class="keywordflow">case</span> 24:</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#adb7a4836d3fe11bb8f8c8422bdf47412">bitsPerPixel</a> = 24;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a3f5813ee79742f0fe2eb087b6605dece">depth</a> = 24;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a4735f4b98092eb6c2eaad1ca675f1349">bigEndian</a> = 0;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a42fd080d5261a7fd208062aec960f791">trueColor</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a7010ff14efce0f5d3a835e1a4948a9f2">redBits</a> = 8;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#afb6a26ee8dc5dd2a3f6ddf76b56e904d">greenBits</a> = 8;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#ad6b545d2e4d404e167dde3429cc96de3">blueBits</a> = 8;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a92f9335b717984f8bb3ca61d52ed5e41">redShift</a> = 16;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a3108030d9fcaa55adcfb3106449b7e39">greenShift</a> = 8;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a7829ef51b1b7d1ddcea56e3331cfd1e3">blueShift</a> = 0;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                <span class="keywordflow">case</span> 18:</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#adb7a4836d3fe11bb8f8c8422bdf47412">bitsPerPixel</a> = 24;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a3f5813ee79742f0fe2eb087b6605dece">depth</a> = 18;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a4735f4b98092eb6c2eaad1ca675f1349">bigEndian</a> = 0;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a42fd080d5261a7fd208062aec960f791">trueColor</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a7010ff14efce0f5d3a835e1a4948a9f2">redBits</a> = 6;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#afb6a26ee8dc5dd2a3f6ddf76b56e904d">greenBits</a> = 6;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#ad6b545d2e4d404e167dde3429cc96de3">blueBits</a> = 6;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a92f9335b717984f8bb3ca61d52ed5e41">redShift</a> = 12;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a3108030d9fcaa55adcfb3106449b7e39">greenShift</a> = 6;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a7829ef51b1b7d1ddcea56e3331cfd1e3">blueShift</a> = 0;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                <span class="keywordflow">case</span> 16:</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#adb7a4836d3fe11bb8f8c8422bdf47412">bitsPerPixel</a> = 16;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a3f5813ee79742f0fe2eb087b6605dece">depth</a> = 16;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a4735f4b98092eb6c2eaad1ca675f1349">bigEndian</a> = 0;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a42fd080d5261a7fd208062aec960f791">trueColor</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a7010ff14efce0f5d3a835e1a4948a9f2">redBits</a> = 5;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#afb6a26ee8dc5dd2a3f6ddf76b56e904d">greenBits</a> = 6;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#ad6b545d2e4d404e167dde3429cc96de3">blueBits</a> = 5;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a92f9335b717984f8bb3ca61d52ed5e41">redShift</a> = 11;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a3108030d9fcaa55adcfb3106449b7e39">greenShift</a> = 5;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a7829ef51b1b7d1ddcea56e3331cfd1e3">blueShift</a> = 0;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                <span class="keywordflow">case</span> 15:</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#adb7a4836d3fe11bb8f8c8422bdf47412">bitsPerPixel</a> = 16;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a3f5813ee79742f0fe2eb087b6605dece">depth</a> = 15;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a4735f4b98092eb6c2eaad1ca675f1349">bigEndian</a> = 0;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a42fd080d5261a7fd208062aec960f791">trueColor</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a7010ff14efce0f5d3a835e1a4948a9f2">redBits</a> = 5;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#afb6a26ee8dc5dd2a3f6ddf76b56e904d">greenBits</a> = 5;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#ad6b545d2e4d404e167dde3429cc96de3">blueBits</a> = 5;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a92f9335b717984f8bb3ca61d52ed5e41">redShift</a> = 10;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a3108030d9fcaa55adcfb3106449b7e39">greenShift</a> = 5;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a7829ef51b1b7d1ddcea56e3331cfd1e3">blueShift</a> = 0;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                <span class="keywordflow">case</span> 12:</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#adb7a4836d3fe11bb8f8c8422bdf47412">bitsPerPixel</a> = 16;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a3f5813ee79742f0fe2eb087b6605dece">depth</a> = 12;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a4735f4b98092eb6c2eaad1ca675f1349">bigEndian</a> = 0;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a42fd080d5261a7fd208062aec960f791">trueColor</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a7010ff14efce0f5d3a835e1a4948a9f2">redBits</a> = 4;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#afb6a26ee8dc5dd2a3f6ddf76b56e904d">greenBits</a> = 4;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#ad6b545d2e4d404e167dde3429cc96de3">blueBits</a> = 4;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a92f9335b717984f8bb3ca61d52ed5e41">redShift</a> = 8;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a3108030d9fcaa55adcfb3106449b7e39">greenShift</a> = 4;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a7829ef51b1b7d1ddcea56e3331cfd1e3">blueShift</a> = 0;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                <span class="keywordflow">case</span> 8:</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                <span class="keywordflow">case</span> 4:</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#adb7a4836d3fe11bb8f8c8422bdf47412">bitsPerPixel</a> = 8;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a3f5813ee79742f0fe2eb087b6605dece">depth</a> = 8;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a4735f4b98092eb6c2eaad1ca675f1349">bigEndian</a> = 0;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a42fd080d5261a7fd208062aec960f791">trueColor</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a7010ff14efce0f5d3a835e1a4948a9f2">redBits</a> = 0;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#afb6a26ee8dc5dd2a3f6ddf76b56e904d">greenBits</a> = 0;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#ad6b545d2e4d404e167dde3429cc96de3">blueBits</a> = 0;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a92f9335b717984f8bb3ca61d52ed5e41">redShift</a> = 0;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a3108030d9fcaa55adcfb3106449b7e39">greenShift</a> = 0;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                    format.<a class="code" href="classQRfbPixelFormat.html#a7829ef51b1b7d1ddcea56e3331cfd1e3">blueShift</a> = 0;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                <span class="keywordflow">default</span>:</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                    <a class="code" href="qglobal_8h.html#abfe4fd29fa94368c8635bfffc1317587">qDebug</a>(<span class="stringliteral">&quot;QVNC cannot drive depth %d&quot;</span>, <a class="code" href="classQVNCServer.html#ae90ef3520de760ae05c7fccda634a37c">qvnc_screen</a>-&gt;<a class="code" href="classQFbScreen.html#ab038cfefb768d552bde86c4312884f57">depth</a>());</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                    <a class="code" href="classQVNCServer.html#a32528cef6fe4bada4f6c3a566b9e670c">discardClient</a>();</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                }</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                sim.<a class="code" href="classQRfbServerInit.html#a534613a4f320d9ab48e812da5c58037f">width</a> = <a class="code" href="classQVNCServer.html#ae90ef3520de760ae05c7fccda634a37c">qvnc_screen</a>-&gt;<a class="code" href="classQScreen.html#a1c425d812a3896b721ecaf04bfe82368">deviceWidth</a>();</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                sim.<a class="code" href="classQRfbServerInit.html#ab9a1c9df9a7cf9bbbc712d6ec33ed86a">height</a> = <a class="code" href="classQVNCServer.html#ae90ef3520de760ae05c7fccda634a37c">qvnc_screen</a>-&gt;<a class="code" href="classQScreen.html#af47d3ab178089e0fcb00c016d56dad4b">deviceHeight</a>();</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                sim.<a class="code" href="classQRfbServerInit.html#a69964a85185b5267962ccbf4a64f2e22">setName</a>(<span class="stringliteral">&quot;Qt for Embedded Linux VNC Server&quot;</span>);</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                sim.<a class="code" href="classQRfbServerInit.html#ace3014230336c5b24759bd34db17e83c">write</a>(<a class="code" href="classQVNCServer.html#abdc464085a73380566c22529df241a8a">client</a>);</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                <a class="code" href="classQVNCServer.html#a4452d49251959decb91c9a76cd6605ba">state</a> = <a class="code" href="classQVNCServer.html#ada2b7c73e51e906b7920ac353c90dd8da83d13cd16d3532de2325bd056638d2fa">Connected</a>;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            }</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classQVNCServer.html#ada2b7c73e51e906b7920ac353c90dd8da83d13cd16d3532de2325bd056638d2fa">Connected</a>:</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;            <span class="keywordflow">do</span> {</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="classQVNCServer.html#a773ed472f7b48ce66b055a6d2a4fcc36">handleMsg</a>) {</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                    <a class="code" href="classQVNCServer.html#abdc464085a73380566c22529df241a8a">client</a>-&gt;<a class="code" href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">read</a>((<span class="keywordtype">char</span> *)&amp;<a class="code" href="classQVNCServer.html#a5fd2d259d00c66f6ca410081c4bf7d81">msgType</a>, 1);</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                    <a class="code" href="classQVNCServer.html#a773ed472f7b48ce66b055a6d2a4fcc36">handleMsg</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                }</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classQVNCServer.html#a773ed472f7b48ce66b055a6d2a4fcc36">handleMsg</a>) {</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                    <span class="keywordflow">switch</span> (<a class="code" href="classQVNCServer.html#a5fd2d259d00c66f6ca410081c4bf7d81">msgType</a> ) {</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="classQVNCServer.html#a945beb0da927cbe7b0b2fdd03bf10157aee6015a1b62dc746272ba7ca2d564261">SetPixelFormat</a>:</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                        <a class="code" href="classQVNCServer.html#a4b3db3275d93f349d50ffd8ea8826534">setPixelFormat</a>();</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="classQVNCServer.html#a945beb0da927cbe7b0b2fdd03bf10157a36d4ec67e374142408d8f0ae9b0a8122">FixColourMapEntries</a>:</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                        <a class="code" href="qglobal_8h.html#abfe4fd29fa94368c8635bfffc1317587">qDebug</a>(<span class="stringliteral">&quot;Not supported: FixColourMapEntries&quot;</span>);</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                        <a class="code" href="classQVNCServer.html#a773ed472f7b48ce66b055a6d2a4fcc36">handleMsg</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="classQVNCServer.html#a945beb0da927cbe7b0b2fdd03bf10157a9531958f38910b03d6787477a0b28fba">SetEncodings</a>:</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                        <a class="code" href="classQVNCServer.html#a0e26564d0decccbaf4ce83e9e663e2b0">setEncodings</a>();</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="classQVNCServer.html#a945beb0da927cbe7b0b2fdd03bf10157ab516ecfbc8ffcef10a9927b8e6182543">FramebufferUpdateRequest</a>:</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                        <a class="code" href="classQVNCServer.html#aeea2e9765c0637241af15c26039ea8e5">frameBufferUpdateRequest</a>();</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="classQVNCServer.html#a945beb0da927cbe7b0b2fdd03bf10157adba33f0945f1a3501b92fb12a4c366e5">KeyEvent</a>:</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                        <a class="code" href="classQVNCServer.html#aded0801b0f554fc17855b15903439f61">keyEvent</a>();</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="classQVNCServer.html#a945beb0da927cbe7b0b2fdd03bf10157aa04094f7744fd034f2f754361519c945">PointerEvent</a>:</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                        <a class="code" href="classQVNCServer.html#a9a8c5e279fede3e64a3e1868e6031e73">pointerEvent</a>();</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="classQVNCServer.html#a945beb0da927cbe7b0b2fdd03bf10157a5b5c2af8d21ca00aa2360aa82ec5c91b">ClientCutText</a>:</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                        <a class="code" href="classQVNCServer.html#a01d7c8be485ff993d9c96bd2fe2f0679">clientCutText</a>();</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                        <a class="code" href="qglobal_8h.html#abfe4fd29fa94368c8635bfffc1317587">qDebug</a>(<span class="stringliteral">&quot;Unknown message type: %d&quot;</span>, (<span class="keywordtype">int</span>)<a class="code" href="classQVNCServer.html#a5fd2d259d00c66f6ca410081c4bf7d81">msgType</a>);</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                        <a class="code" href="classQVNCServer.html#a773ed472f7b48ce66b055a6d2a4fcc36">handleMsg</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                    }</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                }</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            } <span class="keywordflow">while</span> (!<a class="code" href="classQVNCServer.html#a773ed472f7b48ce66b055a6d2a4fcc36">handleMsg</a> &amp;&amp; <a class="code" href="classQVNCServer.html#abdc464085a73380566c22529df241a8a">client</a>-&gt;<a class="code" href="classQAbstractSocket.html#a8fa0dab94ceda26984a780dae85bf9d1">bytesAvailable</a>());</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    }</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;}</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="preprocessor">#if Q_BYTE_ORDER == Q_BIG_ENDIAN</span></div><div class="line"><a name="l00832"></a><span class="lineno"><a class="line" href="classQVNCScreen.html#adf1ad01ec388cd8385c76d89a518771b">  832</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQVNCScreen.html#adf1ad01ec388cd8385c76d89a518771b">QVNCScreen::swapBytes</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keywordflow">if</span> (depth() != 16)</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQVNCServer.html#ae879174a529769415c5a65b1115dd835">screen</a>())</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classQVNCServer.html#ae879174a529769415c5a65b1115dd835">screen</a>()-&gt;frameBufferLittleEndian();</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="keywordflow">return</span> frameBufferLittleEndian();</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;}</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;</div><div class="line"><a name="l00843"></a><span class="lineno"><a class="line" href="classQVNCServer.html#a4b3db3275d93f349d50ffd8ea8826534">  843</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQVNCServer.html#a4b3db3275d93f349d50ffd8ea8826534">QVNCServer::setPixelFormat</a>()</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;{</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQVNCServer.html#abdc464085a73380566c22529df241a8a">client</a>-&gt;<a class="code" href="classQAbstractSocket.html#a8fa0dab94ceda26984a780dae85bf9d1">bytesAvailable</a>() &gt;= 19) {</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        <span class="keywordtype">char</span> buf[3];</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        <a class="code" href="classQVNCServer.html#abdc464085a73380566c22529df241a8a">client</a>-&gt;<a class="code" href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">read</a>(buf, 3); <span class="comment">// just padding</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        <a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#aa782930fc5835a59e4086d812943ffd8">read</a>(<a class="code" href="classQVNCServer.html#abdc464085a73380566c22529df241a8a">client</a>);</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="preprocessor">#ifdef QT_QWS_VNC_DEBUG</span></div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        <a class="code" href="qglobal_8h.html#abfe4fd29fa94368c8635bfffc1317587">qDebug</a>(<span class="stringliteral">&quot;Want format: %d %d %d %d %d %d %d %d %d %d&quot;</span>,</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;            <span class="keywordtype">int</span>(<a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#adb7a4836d3fe11bb8f8c8422bdf47412">bitsPerPixel</a>),</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;            <span class="keywordtype">int</span>(<a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#a3f5813ee79742f0fe2eb087b6605dece">depth</a>),</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;            <span class="keywordtype">int</span>(<a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#a4735f4b98092eb6c2eaad1ca675f1349">bigEndian</a>),</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;            <span class="keywordtype">int</span>(<a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#a42fd080d5261a7fd208062aec960f791">trueColor</a>),</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;            <span class="keywordtype">int</span>(<a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#a7010ff14efce0f5d3a835e1a4948a9f2">redBits</a>),</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;            <span class="keywordtype">int</span>(<a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#afb6a26ee8dc5dd2a3f6ddf76b56e904d">greenBits</a>),</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;            <span class="keywordtype">int</span>(<a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#ad6b545d2e4d404e167dde3429cc96de3">blueBits</a>),</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;            <span class="keywordtype">int</span>(<a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#a92f9335b717984f8bb3ca61d52ed5e41">redShift</a>),</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;            <span class="keywordtype">int</span>(<a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#a3108030d9fcaa55adcfb3106449b7e39">greenShift</a>),</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;            <span class="keywordtype">int</span>(<a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#a7829ef51b1b7d1ddcea56e3331cfd1e3">blueShift</a>));</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#a42fd080d5261a7fd208062aec960f791">trueColor</a>) {</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;            <a class="code" href="qglobal_8h.html#abfe4fd29fa94368c8635bfffc1317587">qDebug</a>(<span class="stringliteral">&quot;Can only handle true color clients&quot;</span>);</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;            <a class="code" href="classQVNCServer.html#a32528cef6fe4bada4f6c3a566b9e670c">discardClient</a>();</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        }</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        <a class="code" href="classQVNCServer.html#a773ed472f7b48ce66b055a6d2a4fcc36">handleMsg</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        <a class="code" href="classQVNCServer.html#ab62b222061e707fef2990d4c7faf7c34">sameEndian</a> = (QSysInfo::ByteOrder == QSysInfo::BigEndian) == !!<a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#a4735f4b98092eb6c2eaad1ca675f1349">bigEndian</a>;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        <a class="code" href="classQVNCServer.html#a1bee0c1e9a064b5cfd3bee7d5300c044">needConversion</a> = <a class="code" href="classQVNCServer.html#a7fe1af22ce7c9e805a91086c66f44863">pixelConversionNeeded</a>();</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="preprocessor">#if Q_BYTE_ORDER == Q_BIG_ENDIAN</span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        <a class="code" href="classQVNCServer.html#a5d781f3927fe5325fbe876ec7afe8b76">swapBytes</a> = <a class="code" href="classQVNCServer.html#ae90ef3520de760ae05c7fccda634a37c">qvnc_screen</a>-&gt;<a class="code" href="classQVNCScreen.html#adf1ad01ec388cd8385c76d89a518771b">swapBytes</a>();</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    }</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;}</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;</div><div class="line"><a name="l00875"></a><span class="lineno"><a class="line" href="classQVNCServer.html#a0e26564d0decccbaf4ce83e9e663e2b0">  875</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQVNCServer.html#a0e26564d0decccbaf4ce83e9e663e2b0">QVNCServer::setEncodings</a>()</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;{</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <a class="code" href="classQRfbSetEncodings.html">QRfbSetEncodings</a> enc;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classQVNCServer.html#ae57d7fdd861f490e5be9b6451e635fff">encodingsPending</a> &amp;&amp; enc.<a class="code" href="classQRfbSetEncodings.html#a4628c342c1434cdeab1860d3f0ac160d">read</a>(<a class="code" href="classQVNCServer.html#abdc464085a73380566c22529df241a8a">client</a>)) {</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        <a class="code" href="classQVNCServer.html#ae57d7fdd861f490e5be9b6451e635fff">encodingsPending</a> = enc.<a class="code" href="classQRfbSetEncodings.html#a0295383ad8a017260f64e341e4efd7b9">count</a>;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classQVNCServer.html#ae57d7fdd861f490e5be9b6451e635fff">encodingsPending</a>)</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;            <a class="code" href="classQVNCServer.html#a773ed472f7b48ce66b055a6d2a4fcc36">handleMsg</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    }</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>) {</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        <span class="keyword">delete</span> <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a> = 0;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    }</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="keyword">enum</span> Encodings {</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        <a class="code" href="qprintengine__ps_8cpp.html#a387137c43ed9616d39ba90e890d181eba5bdc2d0b1113f3630fc502864541fc23">Raw</a> = 0,</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        CopyRect = 1,</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        RRE = 2,</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        CoRRE = 4,</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        Hextile = 5,</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        ZRLE = 16,</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        Cursor = -239,</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        DesktopSize = -223</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    };</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQVNCServer.html#ae57d7fdd861f490e5be9b6451e635fff">encodingsPending</a> &amp;&amp; (<span class="keywordtype">unsigned</span>)<a class="code" href="classQVNCServer.html#abdc464085a73380566c22529df241a8a">client</a>-&gt;<a class="code" href="classQAbstractSocket.html#a8fa0dab94ceda26984a780dae85bf9d1">bytesAvailable</a>() &gt;=</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                                <a class="code" href="classQVNCServer.html#ae57d7fdd861f490e5be9b6451e635fff">encodingsPending</a> * <span class="keyword">sizeof</span>(<a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a>)) {</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classQVNCServer.html#ae57d7fdd861f490e5be9b6451e635fff">encodingsPending</a>; ++i) {</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;            <a class="code" href="qglobal_8h.html#a70e4a22a9339a34c03bffdda7b2b04ba">qint32</a> enc;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;            <a class="code" href="classQVNCServer.html#abdc464085a73380566c22529df241a8a">client</a>-&gt;<a class="code" href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">read</a>((<span class="keywordtype">char</span> *)&amp;enc, <span class="keyword">sizeof</span>(<a class="code" href="qglobal_8h.html#a70e4a22a9339a34c03bffdda7b2b04ba">qint32</a>));</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;            enc = ntohl(enc);</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="preprocessor">#ifdef QT_QWS_VNC_DEBUG</span></div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;            <a class="code" href="qglobal_8h.html#abfe4fd29fa94368c8635bfffc1317587">qDebug</a>(<span class="stringliteral">&quot;QVNCServer::setEncodings: %d&quot;</span>, enc);</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;            <span class="keywordflow">switch</span> (enc) {</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="qprintengine__ps_8cpp.html#a387137c43ed9616d39ba90e890d181eba5bdc2d0b1113f3630fc502864541fc23">Raw</a>:</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>) {</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                    <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a> = <span class="keyword">new</span> <a class="code" href="classQRfbRawEncoder.html">QRfbRawEncoder</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="preprocessor">#ifdef QT_QWS_VNC_DEBUG</span></div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                    <a class="code" href="qglobal_8h.html#abfe4fd29fa94368c8635bfffc1317587">qDebug</a>(<span class="stringliteral">&quot;QVNCServer::setEncodings: using raw&quot;</span>);</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                }</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;               <span class="keywordflow">break</span>;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;            <span class="keywordflow">case</span> CopyRect:</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                <a class="code" href="classQVNCServer.html#ab19b318384c6f477772c77b686c06093">supportCopyRect</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;            <span class="keywordflow">case</span> RRE:</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                <a class="code" href="classQVNCServer.html#aa68c848ed61e9a817628510306ad69b0">supportRRE</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;            <span class="keywordflow">case</span> CoRRE:</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                <a class="code" href="classQVNCServer.html#adcaa4c3ce4d58d41f9a3c0a784c678c7">supportCoRRE</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;            <span class="keywordflow">case</span> Hextile:</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                <a class="code" href="classQVNCServer.html#a28c26a22ba76b337a5d0d67b39029df6">supportHextile</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>)</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                <span class="keywordflow">switch</span> (<a class="code" href="classQVNCServer.html#ae90ef3520de760ae05c7fccda634a37c">qvnc_screen</a>-&gt;<a class="code" href="classQFbScreen.html#ab038cfefb768d552bde86c4312884f57">depth</a>()) {</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="preprocessor">#ifdef QT_QWS_DEPTH_8</span></div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                <span class="keywordflow">case</span> 8:</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                    <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a> = <span class="keyword">new</span> <a class="code" href="classQRfbHextileEncoder.html">QRfbHextileEncoder&lt;quint8&gt;</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;<span class="preprocessor">#ifdef QT_QWS_DEPTH_12</span></div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                <span class="keywordflow">case</span> 12:</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                    <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a> = <span class="keyword">new</span> <a class="code" href="classQRfbHextileEncoder.html">QRfbHextileEncoder&lt;qrgb444&gt;</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;<span class="preprocessor">#ifdef QT_QWS_DEPTH_15</span></div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                <span class="keywordflow">case</span> 15:</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                    <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a> = <span class="keyword">new</span> <a class="code" href="classQRfbHextileEncoder.html">QRfbHextileEncoder&lt;qrgb555&gt;</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;<span class="preprocessor">#ifdef QT_QWS_DEPTH_16</span></div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                <span class="keywordflow">case</span> 16:</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                    <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a> = <span class="keyword">new</span> <a class="code" href="classQRfbHextileEncoder.html">QRfbHextileEncoder&lt;quint16&gt;</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;<span class="preprocessor">#ifdef QT_QWS_DEPTH_18</span></div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                <span class="keywordflow">case</span> 18:</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                    <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a> = <span class="keyword">new</span> <a class="code" href="classQRfbHextileEncoder.html">QRfbHextileEncoder&lt;qrgb666&gt;</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="preprocessor">#ifdef QT_QWS_DEPTH_24</span></div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;                <span class="keywordflow">case</span> 24:</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                    <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a> = <span class="keyword">new</span> <a class="code" href="classQRfbHextileEncoder.html">QRfbHextileEncoder&lt;qrgb888&gt;</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;<span class="preprocessor">#ifdef QT_QWS_DEPTH_32</span></div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                <span class="keywordflow">case</span> 32:</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                    <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a> = <span class="keyword">new</span> <a class="code" href="classQRfbHextileEncoder.html">QRfbHextileEncoder&lt;quint32&gt;</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                <span class="keywordflow">default</span>:</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                }</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;<span class="preprocessor">#ifdef QT_QWS_VNC_DEBUG</span></div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                <a class="code" href="qglobal_8h.html#abfe4fd29fa94368c8635bfffc1317587">qDebug</a>(<span class="stringliteral">&quot;QVNCServer::setEncodings: using hextile&quot;</span>);</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;            <span class="keywordflow">case</span> ZRLE:</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                <a class="code" href="classQVNCServer.html#a46eaae9c1821db3b687c507394db7de5">supportZRLE</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;            <span class="keywordflow">case</span> Cursor:</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                <a class="code" href="classQVNCServer.html#a0ff3a7b5746981129ed8ae87ab08a28c">supportCursor</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;<span class="preprocessor">#ifndef QT_NO_QWS_CURSOR</span></div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="classQVNCServer.html#ae90ef3520de760ae05c7fccda634a37c">qvnc_screen</a>-&gt;<a class="code" href="classQProxyScreen.html#a4fce56ac727f603c2442930bdde0cc0c">screen</a>() || <a class="code" href="qscreen__qws_8cpp.html#ad95a3323df4ce8090adbdf624efc1efe">qt_screencursor</a>-&gt;<a class="code" href="classQScreenCursor.html#a18f49953babba63777e0f3d1d64c7746">isAccelerated</a>()) {</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                    <span class="keyword">delete</span> <a class="code" href="classQVNCServer.html#ad5c39ad8935f64edecaa5b2bb8bfaec5">qvnc_cursor</a>;</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                    <a class="code" href="classQVNCServer.html#ad5c39ad8935f64edecaa5b2bb8bfaec5">qvnc_cursor</a> = <span class="keyword">new</span> <a class="code" href="classQVNCClientCursor.html">QVNCClientCursor</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                }</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;            <span class="keywordflow">case</span> DesktopSize:</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                <a class="code" href="classQVNCServer.html#a0be06f888617e7a31b263dd46ca90606">supportDesktopSize</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;            }</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        }</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        <a class="code" href="classQVNCServer.html#a773ed472f7b48ce66b055a6d2a4fcc36">handleMsg</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        encodingsPending = 0;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    }</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>) {</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a> = <span class="keyword">new</span> <a class="code" href="classQRfbRawEncoder.html">QRfbRawEncoder</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;<span class="preprocessor">#ifdef QT_QWS_VNC_DEBUG</span></div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        <a class="code" href="qglobal_8h.html#abfe4fd29fa94368c8635bfffc1317587">qDebug</a>(<span class="stringliteral">&quot;QVNCServer::setEncodings: fallback using raw&quot;</span>);</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    }</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;}</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;</div><div class="line"><a name="l01006"></a><span class="lineno"><a class="line" href="classQVNCServer.html#aeea2e9765c0637241af15c26039ea8e5"> 1006</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQVNCServer.html#aeea2e9765c0637241af15c26039ea8e5">QVNCServer::frameBufferUpdateRequest</a>()</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;{</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <a class="code" href="classQRfbFrameBufferUpdateRequest.html">QRfbFrameBufferUpdateRequest</a> ev;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <span class="keywordflow">if</span> (ev.<a class="code" href="classQRfbFrameBufferUpdateRequest.html#a69506699394f44f3ac9aa86483a3ffa0">read</a>(<a class="code" href="classQVNCServer.html#abdc464085a73380566c22529df241a8a">client</a>)) {</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        <span class="keywordflow">if</span> (!ev.<a class="code" href="classQRfbFrameBufferUpdateRequest.html#a3bde38836b9ca72b512bcba00f21fa96">incremental</a>) {</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;            <a class="code" href="classQRect.html">QRect</a> r(ev.<a class="code" href="classQRfbFrameBufferUpdateRequest.html#ae6ca5b1ca73324ab6b66d17e0c077a20">rect</a>.<a class="code" href="classQRfbRect.html#a0a8180f05d24f11518f94e78128c13ba">x</a>, ev.<a class="code" href="classQRfbFrameBufferUpdateRequest.html#ae6ca5b1ca73324ab6b66d17e0c077a20">rect</a>.<a class="code" href="classQRfbRect.html#ae6e18984a23b1acdb438ccc135d3a1b2">y</a>, ev.<a class="code" href="classQRfbFrameBufferUpdateRequest.html#ae6ca5b1ca73324ab6b66d17e0c077a20">rect</a>.<a class="code" href="classQRfbRect.html#a85629daa2f0dbe84fd43225358fdf07b">w</a>, ev.<a class="code" href="classQRfbFrameBufferUpdateRequest.html#ae6ca5b1ca73324ab6b66d17e0c077a20">rect</a>.<a class="code" href="classQRfbRect.html#aa600a2e3d5e5ed975a6ae146e20d00fc">h</a>);</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;            r.<a class="code" href="classQRect.html#a8b66af437458bad051a615f27326ecbd">translate</a>(<a class="code" href="classQVNCServer.html#ae90ef3520de760ae05c7fccda634a37c">qvnc_screen</a>-&gt;<a class="code" href="classQScreen.html#aac4624b38dd6934976d02c2de0d30fd4">offset</a>());</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;            <a class="code" href="classQVNCServer.html#ae90ef3520de760ae05c7fccda634a37c">qvnc_screen</a>-&gt;<a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a>-&gt;<a class="code" href="classQVNCScreenPrivate.html#aa0b8785a29c9371e69bb1b1ecdab70b6">setDirty</a>(r, <span class="keyword">true</span>);</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        }</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        <a class="code" href="classQVNCServer.html#a6225bccdd238f8711bcfc172d14fe8a8">wantUpdate</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        <a class="code" href="classQVNCServer.html#a1f59308af5a50d4f4d6314a90bb296a6">checkUpdate</a>();</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <a class="code" href="classQVNCServer.html#a773ed472f7b48ce66b055a6d2a4fcc36">handleMsg</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    }</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;}</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;</div><div class="line"><a name="l01022"></a><span class="lineno"><a class="line" href="classQVNCServer.html#a9a8c5e279fede3e64a3e1868e6031e73"> 1022</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQVNCServer.html#a9a8c5e279fede3e64a3e1868e6031e73">QVNCServer::pointerEvent</a>()</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;{</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <a class="code" href="classQRfbPointerEvent.html">QRfbPointerEvent</a> ev;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <span class="keywordflow">if</span> (ev.<a class="code" href="classQRfbPointerEvent.html#a627c2fa8adc854a2303faa194877c17e">read</a>(<a class="code" href="classQVNCServer.html#abdc464085a73380566c22529df241a8a">client</a>)) {</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        <span class="keyword">const</span> <a class="code" href="classQPoint.html">QPoint</a> offset = <a class="code" href="classQVNCServer.html#ae90ef3520de760ae05c7fccda634a37c">qvnc_screen</a>-&gt;<a class="code" href="classQScreen.html#aac4624b38dd6934976d02c2de0d30fd4">offset</a>();</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        <a class="code" href="classQWSServer.html#a098c8bf01be7dbda4baf81f78f40afc0">QWSServer::sendMouseEvent</a>(offset + <a class="code" href="classQPoint.html">QPoint</a>(ev.<a class="code" href="classQRfbPointerEvent.html#adf5eb0440848e9b2614e84ef228d3a2b">x</a>, ev.<a class="code" href="classQRfbPointerEvent.html#ae17256255cae0db66196f9170a78db52">y</a>), ev.<a class="code" href="classQRfbPointerEvent.html#ab9b0dc136551bc10446ea7f54feb3470">buttons</a>);</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        <a class="code" href="classQVNCServer.html#a773ed472f7b48ce66b055a6d2a4fcc36">handleMsg</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    }</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;}</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;</div><div class="line"><a name="l01032"></a><span class="lineno"><a class="line" href="classQVNCServer.html#aded0801b0f554fc17855b15903439f61"> 1032</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQVNCServer.html#aded0801b0f554fc17855b15903439f61">QVNCServer::keyEvent</a>()</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;{</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <a class="code" href="classQRfbKeyEvent.html">QRfbKeyEvent</a> ev;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    <span class="keywordflow">if</span> (ev.<a class="code" href="classQRfbKeyEvent.html#ab85375cf5afc7cec2492ec058d5839e0">read</a>(<a class="code" href="classQVNCServer.html#abdc464085a73380566c22529df241a8a">client</a>)) {</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        <span class="keywordflow">if</span> (ev.<a class="code" href="classQRfbKeyEvent.html#a719fa310339010f1456aff4859820163">keycode</a> == <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a13b6b365b7ac89d6914303b5b03fc1d1">Qt::Key_Shift</a>)</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;            <a class="code" href="classQVNCServer.html#a52872bbfb819a6f3dc5f42723e24fb8d">keymod</a> = ev.<a class="code" href="classQRfbKeyEvent.html#abd9d624a3a745d0df65d8c06bfedf013">down</a> ? <a class="code" href="classQVNCServer.html#a52872bbfb819a6f3dc5f42723e24fb8d">keymod</a> | <a class="code" href="namespaceQt.html#a91d9133d2fd0cd5c315c13861497ddb2a04d963b1d38131a3b82cd7bbcf6f5b6e">Qt::ShiftModifier</a> :</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                               <a class="code" href="classQVNCServer.html#a52872bbfb819a6f3dc5f42723e24fb8d">keymod</a> &amp; ~<a class="code" href="namespaceQt.html">Qt</a><a class="code" href="namespaceQt.html#a91d9133d2fd0cd5c315c13861497ddb2a04d963b1d38131a3b82cd7bbcf6f5b6e">::ShiftModifier</a>;</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ev.<a class="code" href="classQRfbKeyEvent.html#a719fa310339010f1456aff4859820163">keycode</a> == <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a6313952cabdc406ec9f3021cccf88570">Qt::Key_Control</a>)</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;            <a class="code" href="classQVNCServer.html#a52872bbfb819a6f3dc5f42723e24fb8d">keymod</a> = ev.<a class="code" href="classQRfbKeyEvent.html#abd9d624a3a745d0df65d8c06bfedf013">down</a> ? <a class="code" href="classQVNCServer.html#a52872bbfb819a6f3dc5f42723e24fb8d">keymod</a> | <a class="code" href="namespaceQt.html#a91d9133d2fd0cd5c315c13861497ddb2a056fddfb21947681b71951ea2dea479c">Qt::ControlModifier</a> :</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                               <a class="code" href="classQVNCServer.html#a52872bbfb819a6f3dc5f42723e24fb8d">keymod</a> &amp; ~<a class="code" href="namespaceQt.html">Qt</a><a class="code" href="namespaceQt.html#a91d9133d2fd0cd5c315c13861497ddb2a056fddfb21947681b71951ea2dea479c">::ControlModifier</a>;</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ev.<a class="code" href="classQRfbKeyEvent.html#a719fa310339010f1456aff4859820163">keycode</a> == <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a6b124e6b6c2f6cc7684725abf353f7cb">Qt::Key_Alt</a>)</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;            <a class="code" href="classQVNCServer.html#a52872bbfb819a6f3dc5f42723e24fb8d">keymod</a> = ev.<a class="code" href="classQRfbKeyEvent.html#abd9d624a3a745d0df65d8c06bfedf013">down</a> ? <a class="code" href="classQVNCServer.html#a52872bbfb819a6f3dc5f42723e24fb8d">keymod</a> | <a class="code" href="namespaceQt.html#a91d9133d2fd0cd5c315c13861497ddb2ae82e870ea88f375621ab32d97d44ff2a">Qt::AltModifier</a> :</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                               <a class="code" href="classQVNCServer.html#a52872bbfb819a6f3dc5f42723e24fb8d">keymod</a> &amp; ~<a class="code" href="namespaceQt.html">Qt</a><a class="code" href="namespaceQt.html#a91d9133d2fd0cd5c315c13861497ddb2ae82e870ea88f375621ab32d97d44ff2a">::AltModifier</a>;</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        <span class="keywordflow">if</span> (ev.<a class="code" href="classQRfbKeyEvent.html#ae2d41183143acc70df644c608d859bf2">unicode</a> || ev.<a class="code" href="classQRfbKeyEvent.html#a719fa310339010f1456aff4859820163">keycode</a>)</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;            <a class="code" href="classQWSServer.html#a4d6123379fa3b6e252182a9e20c145df">QWSServer::sendKeyEvent</a>(ev.<a class="code" href="classQRfbKeyEvent.html#ae2d41183143acc70df644c608d859bf2">unicode</a>, ev.<a class="code" href="classQRfbKeyEvent.html#a719fa310339010f1456aff4859820163">keycode</a>, <a class="code" href="classQVNCServer.html#a52872bbfb819a6f3dc5f42723e24fb8d">keymod</a>, ev.<a class="code" href="classQRfbKeyEvent.html#abd9d624a3a745d0df65d8c06bfedf013">down</a>, <span class="keyword">false</span>);</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        <a class="code" href="classQVNCServer.html#a773ed472f7b48ce66b055a6d2a4fcc36">handleMsg</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    }</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;}</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;</div><div class="line"><a name="l01052"></a><span class="lineno"><a class="line" href="classQVNCServer.html#a01d7c8be485ff993d9c96bd2fe2f0679"> 1052</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQVNCServer.html#a01d7c8be485ff993d9c96bd2fe2f0679">QVNCServer::clientCutText</a>()</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;{</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    <a class="code" href="classQRfbClientCutText.html">QRfbClientCutText</a> ev;</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQVNCServer.html#add2c0e43276c616e474bc05824a9c768">cutTextPending</a> == 0 &amp;&amp; ev.<a class="code" href="classQRfbClientCutText.html#a15c1c5546c7670afd9abfe3ea3727542">read</a>(<a class="code" href="classQVNCServer.html#abdc464085a73380566c22529df241a8a">client</a>)) {</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        <a class="code" href="classQVNCServer.html#add2c0e43276c616e474bc05824a9c768">cutTextPending</a> = ev.<a class="code" href="classQRfbClientCutText.html#acc2f64791c4ccb25e836bcc4d47dce58">length</a>;</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classQVNCServer.html#add2c0e43276c616e474bc05824a9c768">cutTextPending</a>)</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;            <a class="code" href="classQVNCServer.html#a773ed472f7b48ce66b055a6d2a4fcc36">handleMsg</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    }</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQVNCServer.html#add2c0e43276c616e474bc05824a9c768">cutTextPending</a> &amp;&amp; <a class="code" href="classQVNCServer.html#abdc464085a73380566c22529df241a8a">client</a>-&gt;<a class="code" href="classQAbstractSocket.html#a8fa0dab94ceda26984a780dae85bf9d1">bytesAvailable</a>() &gt;= <a class="code" href="classQVNCServer.html#add2c0e43276c616e474bc05824a9c768">cutTextPending</a>) {</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        <span class="keywordtype">char</span> *<a class="code" href="qobjectdefs_8h.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a> = <span class="keyword">new</span> <span class="keywordtype">char</span> [<a class="code" href="classQVNCServer.html#add2c0e43276c616e474bc05824a9c768">cutTextPending</a>+1];</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;        <a class="code" href="classQVNCServer.html#abdc464085a73380566c22529df241a8a">client</a>-&gt;<a class="code" href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">read</a>(text, <a class="code" href="classQVNCServer.html#add2c0e43276c616e474bc05824a9c768">cutTextPending</a>);</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;        <span class="keyword">delete</span> [] <a class="code" href="qobjectdefs_8h.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a>;</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        <a class="code" href="classQVNCServer.html#add2c0e43276c616e474bc05824a9c768">cutTextPending</a> = 0;</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        <a class="code" href="classQVNCServer.html#a773ed472f7b48ce66b055a6d2a4fcc36">handleMsg</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    }</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;}</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;<span class="comment">// stride in bytes</span></div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> SRC&gt;</div><div class="line"><a name="l01073"></a><span class="lineno"><a class="line" href="classQRfbSingleColorHextile.html#ab27f992e3bf2ed166733adab6d13962e"> 1073</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQRfbSingleColorHextile.html#ab27f992e3bf2ed166733adab6d13962e">QRfbSingleColorHextile&lt;SRC&gt;::read</a>(<span class="keyword">const</span> <a class="code" href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *<a class="code" href="qdbusmessage_8cpp.html#a4b86149e51ff4431f59ce6148820fb86">data</a>,</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                                       <span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height, <span class="keywordtype">int</span> stride)</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;{</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> depth = <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;<a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#ae879174a529769415c5a65b1115dd835">screen</a>()-&gt;<a class="code" href="classQFbScreen.html#ab038cfefb768d552bde86c4312884f57">depth</a>();</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <span class="keywordflow">if</span> (width % (depth / 8)) <span class="comment">// hw: should rather fallback to simple loop</span></div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span> alwaysFalse = <a class="code" href="qglobal_8h.html#a0b57963061bee602c8b6d3c62cf7e1b6">qgetenv</a>(<span class="stringliteral">&quot;QT_VNC_NOCHECKFILL&quot;</span>).<a class="code" href="classQByteArray.html#a186c634dc462f478fd2a45ee713f2c58">toInt</a>();</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="keywordflow">if</span> (alwaysFalse)</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <span class="keywordflow">switch</span> (depth) {</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="keywordflow">case</span> 4: {</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;        <span class="keyword">const</span> <a class="code" href="qglobal_8h.html#ac3ffd6ad7bfb3c6d4857b2aadd5ec47a">quint8</a> *data8 = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="qglobal_8h.html#ac3ffd6ad7bfb3c6d4857b2aadd5ec47a">quint8</a>*<span class="keyword">&gt;</span>(<a class="code" href="qdbusmessage_8cpp.html#a4b86149e51ff4431f59ce6148820fb86">data</a>);</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        <span class="keywordflow">if</span> ((data8[0] &amp; 0xf) != (data8[0] &gt;&gt; 4))</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;        width /= 2;</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    } <span class="comment">// fallthrough</span></div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="keywordflow">case</span> 8: {</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        <span class="keyword">const</span> <a class="code" href="qglobal_8h.html#ac3ffd6ad7bfb3c6d4857b2aadd5ec47a">quint8</a> *data8 = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="qglobal_8h.html#ac3ffd6ad7bfb3c6d4857b2aadd5ec47a">quint8</a>*<span class="keyword">&gt;</span>(<a class="code" href="qdbusmessage_8cpp.html#a4b86149e51ff4431f59ce6148820fb86">data</a>);</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        <span class="keywordflow">if</span> (data8[0] != data8[1])</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;        width /= 2;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    } <span class="comment">// fallthrough</span></div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="keywordflow">case</span> 12:</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <span class="keywordflow">case</span> 15:</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="keywordflow">case</span> 16: {</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        <span class="keyword">const</span> <a class="code" href="qglobal_8h.html#a6f3b1e8a589d7539ac4f9592005da8b7">quint16</a> *data16 = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="qglobal_8h.html#a6f3b1e8a589d7539ac4f9592005da8b7">quint16</a>*<span class="keyword">&gt;</span>(<a class="code" href="qdbusmessage_8cpp.html#a4b86149e51ff4431f59ce6148820fb86">data</a>);</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        <span class="keywordflow">if</span> (data16[0] != data16[1])</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        width /= 2;</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    } <span class="comment">// fallthrough</span></div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <span class="keywordflow">case</span> 18:</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <span class="keywordflow">case</span> 24:</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="keywordflow">case</span> 32: {</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;        <span class="keyword">const</span> <a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a> *data32 = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a>*<span class="keyword">&gt;</span>(<a class="code" href="qdbusmessage_8cpp.html#a4b86149e51ff4431f59ce6148820fb86">data</a>);</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;        <span class="keyword">const</span> <a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a> first = data32[0];</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> linestep = (stride / <span class="keyword">sizeof</span>(<a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a>)) - width;</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = 0; y &lt; height; ++y) {</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; width; ++x) {</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;                <span class="keywordflow">if</span> (*(data32++) != first)</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;            }</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;            data32 += linestep;</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        }</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    }</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    }</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    SRC color = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>SRC*<span class="keyword">&gt;</span>(<a class="code" href="qdbusmessage_8cpp.html#a4b86149e51ff4431f59ce6148820fb86">data</a>)[0];</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;newBg |= (color != <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;bg);</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;bg = color;</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;}</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> SRC&gt;</div><div class="line"><a name="l01131"></a><span class="lineno"><a class="line" href="classQRfbSingleColorHextile.html#a216220d0758cb3b949d6d4248a6648a2"> 1131</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQRfbSingleColorHextile.html#a216220d0758cb3b949d6d4248a6648a2">QRfbSingleColorHextile&lt;SRC&gt;::write</a>(<a class="code" href="classQTcpSocket.html">QTcpSocket</a> *socket)<span class="keyword"> const</span></div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">true</span> || <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;newBg) {</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> bpp = <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;<a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#a58981b4991647063f4dddec3e0b8c42b">clientBytesPerPixel</a>();</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> padding = 3;</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        <a class="code" href="classQVarLengthArray.html">QVarLengthArray&lt;char&gt;</a> buffer(padding + 1 + bpp);</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        buffer[padding] = 2; <span class="comment">// BackgroundSpecified</span></div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;        <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;<a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#a1869adcc2697083220495a13b1a5749e">convertPixels</a>(buffer.<a class="code" href="classQVarLengthArray.html#a65bb88e9e0a8c64a2126dbaf7141a0ce">data</a>() + padding + 1,</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                                       <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(&amp;<a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;bg),</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                                       1);</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;        socket-&gt;<a class="code" href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">write</a>(buffer.<a class="code" href="classQVarLengthArray.html#a65bb88e9e0a8c64a2126dbaf7141a0ce">data</a>() + padding, bpp + 1);</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;<span class="comment">//        encoder-&gt;newBg = false;</span></div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        <span class="keywordtype">char</span> subenc = 0;</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        socket-&gt;<a class="code" href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">write</a>(&amp;subenc, 1);</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    }</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;}</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> SRC&gt;</div><div class="line"><a name="l01150"></a><span class="lineno"><a class="line" href="classQRfbDualColorHextile.html#acc6c9c3a216b73366e18186eac128d4c"> 1150</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQRfbDualColorHextile.html#acc6c9c3a216b73366e18186eac128d4c">QRfbDualColorHextile&lt;SRC&gt;::read</a>(<span class="keyword">const</span> <a class="code" href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *<a class="code" href="qdbusmessage_8cpp.html#a4b86149e51ff4431f59ce6148820fb86">data</a>,</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                                     <span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height, <span class="keywordtype">int</span> stride)</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;{</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <span class="keyword">const</span> SRC *<a class="code" href="qdirectfbpaintengine_8cpp.html#ae34162c2bbf9e447cd557f139204b5e8">ptr</a> = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>SRC*<span class="keyword">&gt;</span>(<a class="code" href="qdbusmessage_8cpp.html#a4b86149e51ff4431f59ce6148820fb86">data</a>);</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> linestep = (stride / <span class="keyword">sizeof</span>(SRC)) - width;</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    SRC c1;</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    SRC c2 = 0;</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    <span class="keywordtype">int</span> n1 = 0;</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    <span class="keywordtype">int</span> n2 = 0;</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <span class="keywordtype">int</span> x = 0;</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="keywordtype">int</span> y = 0;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    c1 = *<a class="code" href="qdirectfbpaintengine_8cpp.html#ae34162c2bbf9e447cd557f139204b5e8">ptr</a>;</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    <span class="comment">// find second color</span></div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    <span class="keywordflow">while</span> (y &lt; height) {</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;        <span class="keywordflow">while</span> (x &lt; width) {</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;            <span class="keywordflow">if</span> (*ptr == c1) {</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                ++n1;</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                c2 = *<a class="code" href="qdirectfbpaintengine_8cpp.html#ae34162c2bbf9e447cd557f139204b5e8">ptr</a>;</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                <span class="keywordflow">goto</span> found_second_color;</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;            }</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;            ++<a class="code" href="qdirectfbpaintengine_8cpp.html#ae34162c2bbf9e447cd557f139204b5e8">ptr</a>;</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;            ++x;</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;        }</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;        x = 0;</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;        ptr += linestep;</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;        ++y;</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    }</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;found_second_color:</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <span class="comment">// finish counting</span></div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <span class="keywordflow">while</span> (y &lt; height) {</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;        <span class="keywordflow">while</span> (x &lt; width) {</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;            <span class="keywordflow">if</span> (*ptr == c1) {</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;                ++n1;</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*ptr == c2) {</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                ++n2;</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;            }</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;            ++<a class="code" href="qdirectfbpaintengine_8cpp.html#ae34162c2bbf9e447cd557f139204b5e8">ptr</a>;</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;            ++x;</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        }</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;        x = 0;</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        ptr += linestep;</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        ++y;</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    }</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    <span class="keywordflow">if</span> (n2 &gt; n1) {</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        <span class="keyword">const</span> <a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a> tmpC = c1;</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;        c1 = c2;</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;        c2 = tmpC;</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    }</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;newBg |= (c1 != <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;bg);</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;newFg |= (c2 != <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;fg);</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;bg = c1;</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;fg = c2;</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <span class="comment">// create map</span></div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="keywordtype">bool</span> inRect = <span class="keyword">false</span>;</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    numRects = 0;</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    ptr = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>SRC*<span class="keyword">&gt;</span>(<a class="code" href="qdbusmessage_8cpp.html#a4b86149e51ff4431f59ce6148820fb86">data</a>);</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <span class="keywordflow">for</span> (y = 0; y &lt; height; ++y) {</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;        <span class="keywordflow">for</span> (x = 0; x &lt; width; ++x) {</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;            <span class="keywordflow">if</span> (inRect &amp;&amp; *ptr == <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;bg) {</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;                <span class="comment">// rect finished</span></div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;                setWidth(x - lastx());</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;                next();</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                inRect = <span class="keyword">false</span>;</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!inRect &amp;&amp; *ptr == <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;fg) {</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;                <span class="comment">// rect start</span></div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;                setX(x);</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;                setY(y);</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;                setHeight(1);</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;                inRect = <span class="keyword">true</span>;</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;            }</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;            ++<a class="code" href="qdirectfbpaintengine_8cpp.html#ae34162c2bbf9e447cd557f139204b5e8">ptr</a>;</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        }</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        <span class="keywordflow">if</span> (inRect) {</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;            <span class="comment">// finish rect</span></div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;            setWidth(width - lastx());</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;            next();</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;            inRect = <span class="keyword">false</span>;</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        }</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        ptr += linestep;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    }</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;}</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> SRC&gt;</div><div class="line"><a name="l01246"></a><span class="lineno"><a class="line" href="classQRfbDualColorHextile.html#a60fcafd4a7f067fe1baaac1307b6ceeb"> 1246</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQRfbDualColorHextile.html#a60fcafd4a7f067fe1baaac1307b6ceeb">QRfbDualColorHextile&lt;SRC&gt;::write</a>(<a class="code" href="classQTcpSocket.html">QTcpSocket</a> *socket)<span class="keyword"> const</span></div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> bpp = <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;<a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#a58981b4991647063f4dddec3e0b8c42b">clientBytesPerPixel</a>();</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> padding = 3;</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    <a class="code" href="classQVarLengthArray.html">QVarLengthArray&lt;char&gt;</a> buffer(padding + 2 * bpp + <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>) + <span class="keyword">sizeof</span>(numRects));</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <span class="keywordtype">char</span> &amp;subenc = buffer[padding];</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    <span class="keywordtype">int</span> n = padding + <span class="keyword">sizeof</span>(subenc);</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    subenc = 0x8; <span class="comment">// AnySubrects</span></div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;newBg) {</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;        subenc |= 0x2; <span class="comment">// Background</span></div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;        <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;<a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#a1869adcc2697083220495a13b1a5749e">convertPixels</a>(buffer.<a class="code" href="classQVarLengthArray.html#a65bb88e9e0a8c64a2126dbaf7141a0ce">data</a>() + n, (<span class="keywordtype">char</span>*)&amp;<a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;bg, 1);</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;        n += bpp;</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;<span class="comment">//        encoder-&gt;newBg = false;</span></div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    }</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;newFg) {</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;        subenc |= 0x4; <span class="comment">// Foreground</span></div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;<a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#a1869adcc2697083220495a13b1a5749e">convertPixels</a>(buffer.<a class="code" href="classQVarLengthArray.html#a65bb88e9e0a8c64a2126dbaf7141a0ce">data</a>() + n, (<span class="keywordtype">char</span>*)&amp;<a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;fg, 1);</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;        n += bpp;</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;<span class="comment">//        encoder-&gt;newFg = false;</span></div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    }</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    buffer[n] = numRects;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    n += <span class="keyword">sizeof</span>(numRects);</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    socket-&gt;<a class="code" href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">write</a>(buffer.<a class="code" href="classQVarLengthArray.html#a65bb88e9e0a8c64a2126dbaf7141a0ce">data</a>() + padding, n - padding);</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    socket-&gt;<a class="code" href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">write</a>((<span class="keywordtype">char</span>*)rects, numRects * <span class="keyword">sizeof</span>(<a class="code" href="structQRfbDualColorHextile_1_1Rect.html">Rect</a>));</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;}</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> SRC&gt;</div><div class="line"><a name="l01277"></a><span class="lineno"><a class="line" href="classQRfbDualColorHextile.html#a0cf76f82cf74f40a027c16d91bfd6fa5"> 1277</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQRfbDualColorHextile.html#a0cf76f82cf74f40a027c16d91bfd6fa5">QRfbDualColorHextile&lt;SRC&gt;::next</a>()</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;{</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = numRects - 1; r &gt;= 0; --r) {</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        <span class="keywordflow">if</span> (recty(r) == lasty())</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;        <span class="keywordflow">if</span> (recty(r) &lt; lasty() - 1) <span class="comment">// only search previous scanline</span></div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;        <span class="keywordflow">if</span> (rectx(r) == lastx() &amp;&amp; width(r) == width(numRects)) {</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;            ++rects[r].wh;</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;        }</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    }</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    ++numRects;</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;}</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> SRC&gt;</div><div class="line"><a name="l01293"></a><span class="lineno"><a class="line" href="classQRfbMultiColorHextile.html#a4c9803fd3ea694219da6600f91e659da"> 1293</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classQRfbMultiColorHextile.html#a4c9803fd3ea694219da6600f91e659da">QRfbMultiColorHextile&lt;SRC&gt;::setColor</a>(SRC color)</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;{</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;<a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#a1869adcc2697083220495a13b1a5749e">convertPixels</a>(reinterpret_cast&lt;char*&gt;(rect(numRects)),</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;                                   (<span class="keyword">const</span> <span class="keywordtype">char</span>*)&amp;color, 1);</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;}</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> SRC&gt;</div><div class="line"><a name="l01300"></a><span class="lineno"><a class="line" href="classQRfbMultiColorHextile.html#a982bcbbe51466c24d4f52b06ef0c5ebd"> 1300</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classQRfbMultiColorHextile.html#a982bcbbe51466c24d4f52b06ef0c5ebd">QRfbMultiColorHextile&lt;SRC&gt;::beginRect</a>()</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;{</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    <span class="keywordflow">if</span> ((rects.size() + bpp + 2) &gt; maxRectsSize)</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    rects.resize(rects.size() + bpp + 2);</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;}</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> SRC&gt;</div><div class="line"><a name="l01309"></a><span class="lineno"><a class="line" href="classQRfbMultiColorHextile.html#abc1d54636c8d08945c7eb308dfbd3b69"> 1309</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classQRfbMultiColorHextile.html#abc1d54636c8d08945c7eb308dfbd3b69">QRfbMultiColorHextile&lt;SRC&gt;::endRect</a>()</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;{</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    setHeight(numRects, 1);</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    ++numRects;</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;}</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> SRC&gt;</div><div class="line"><a name="l01316"></a><span class="lineno"><a class="line" href="classQRfbMultiColorHextile.html#aea6fa6f2a8e26d06f4b83a7bf3df6f03"> 1316</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQRfbMultiColorHextile.html#aea6fa6f2a8e26d06f4b83a7bf3df6f03">QRfbMultiColorHextile&lt;SRC&gt;::read</a>(<span class="keyword">const</span> <a class="code" href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *<a class="code" href="qdbusmessage_8cpp.html#a4b86149e51ff4431f59ce6148820fb86">data</a>,</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;                                      <span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height, <span class="keywordtype">int</span> stride)</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;{</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <span class="keyword">const</span> SRC *<a class="code" href="qdirectfbpaintengine_8cpp.html#ae34162c2bbf9e447cd557f139204b5e8">ptr</a> = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>SRC*<span class="keyword">&gt;</span>(<a class="code" href="qdbusmessage_8cpp.html#a4b86149e51ff4431f59ce6148820fb86">data</a>);</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> linestep = (stride / <span class="keyword">sizeof</span>(SRC)) - width;</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    bpp = <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;<a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#a58981b4991647063f4dddec3e0b8c42b">clientBytesPerPixel</a>();</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;newBg)</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;        <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;bg = ptr[0];</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    <span class="keyword">const</span> SRC bg = <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;bg;</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    SRC color = bg;</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <span class="keywordtype">bool</span> inRect = <span class="keyword">false</span>;</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    numRects = 0;</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    rects.clear();</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = 0; y &lt; height; ++y) {</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; width; ++x) {</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;            <span class="keywordflow">if</span> (inRect &amp;&amp; *ptr != color) { <span class="comment">// end rect</span></div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;                setWidth(numRects, x - rectx(numRects));</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                endRect();</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;                inRect = <span class="keyword">false</span>;</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;            }</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;            <span class="keywordflow">if</span> (!inRect &amp;&amp; *ptr != bg) { <span class="comment">// begin rect</span></div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;                <span class="keywordflow">if</span> (!beginRect())</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;                inRect = <span class="keyword">true</span>;</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;                color = *<a class="code" href="qdirectfbpaintengine_8cpp.html#ae34162c2bbf9e447cd557f139204b5e8">ptr</a>;</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;                setColor(color);</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;                setX(numRects, x);</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;                setY(numRects, y);</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;            }</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;            ++<a class="code" href="qdirectfbpaintengine_8cpp.html#ae34162c2bbf9e447cd557f139204b5e8">ptr</a>;</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;        }</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;        <span class="keywordflow">if</span> (inRect) { <span class="comment">// end rect</span></div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;            setWidth(numRects, width - rectx(numRects));</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;            endRect();</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;            inRect = <span class="keyword">false</span>;</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;        }</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;        ptr += linestep;</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    }</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;}</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> SRC&gt;</div><div class="line"><a name="l01365"></a><span class="lineno"><a class="line" href="classQRfbMultiColorHextile.html#a9059923a4d8fdd7e56be8b3d7cf1aeef"> 1365</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQRfbMultiColorHextile.html#a9059923a4d8fdd7e56be8b3d7cf1aeef">QRfbMultiColorHextile&lt;SRC&gt;::write</a>(<a class="code" href="classQTcpSocket.html">QTcpSocket</a> *socket)<span class="keyword"> const</span></div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> padding = 3;</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <a class="code" href="classQVarLengthArray.html">QVarLengthArray&lt;quint8&gt;</a> buffer(bpp + padding + <span class="keyword">sizeof</span>(<a class="code" href="qglobal_8h.html#ac3ffd6ad7bfb3c6d4857b2aadd5ec47a">quint8</a>) + <span class="keyword">sizeof</span>(numRects));</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    <a class="code" href="qglobal_8h.html#ac3ffd6ad7bfb3c6d4857b2aadd5ec47a">quint8</a> &amp;subenc = buffer[padding];</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    <span class="keywordtype">int</span> n = padding + <span class="keyword">sizeof</span>(<a class="code" href="qglobal_8h.html#ac3ffd6ad7bfb3c6d4857b2aadd5ec47a">quint8</a>);</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    subenc = 8 | 16; <span class="comment">// AnySubrects | SubrectsColoured</span></div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;newBg) {</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;        subenc |= 0x2; <span class="comment">// Background</span></div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;        <a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;<a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#a1869adcc2697083220495a13b1a5749e">convertPixels</a>(reinterpret_cast&lt;char*&gt;(buffer.<a class="code" href="classQVarLengthArray.html#a65bb88e9e0a8c64a2126dbaf7141a0ce">data</a>() + n),</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;                                       reinterpret_cast&lt;const char*&gt;(&amp;<a class="code" href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">encoder</a>-&gt;bg),</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;                                       1);</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        n += bpp;</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;<span class="comment">//        encoder-&gt;newBg = false;</span></div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    }</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    buffer[n] = numRects;</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    n += <span class="keyword">sizeof</span>(numRects);</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    socket-&gt;<a class="code" href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">write</a>(reinterpret_cast&lt;const char*&gt;(buffer.<a class="code" href="classQVarLengthArray.html#a65bb88e9e0a8c64a2126dbaf7141a0ce">data</a>() + padding),</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                  n - padding);</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    socket-&gt;<a class="code" href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">write</a>(reinterpret_cast&lt;const char*&gt;(rects.constData()),</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;                  rects.size());</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;}</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;</div><div class="line"><a name="l01393"></a><span class="lineno"><a class="line" href="classQVNCServer.html#a7fe1af22ce7c9e805a91086c66f44863"> 1393</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQVNCServer.html#a7fe1af22ce7c9e805a91086c66f44863">QVNCServer::pixelConversionNeeded</a>()<span class="keyword"> const</span></div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classQVNCServer.html#ab62b222061e707fef2990d4c7faf7c34">sameEndian</a>)</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;<span class="preprocessor">#if Q_BYTE_ORDER == Q_BIG_ENDIAN</span></div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQVNCServer.html#ae90ef3520de760ae05c7fccda634a37c">qvnc_screen</a>-&gt;<a class="code" href="classQVNCScreen.html#adf1ad01ec388cd8385c76d89a518771b">swapBytes</a>())</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> screendepth = <a class="code" href="classQVNCServer.html#ae90ef3520de760ae05c7fccda634a37c">qvnc_screen</a>-&gt;<a class="code" href="classQFbScreen.html#ab038cfefb768d552bde86c4312884f57">depth</a>();</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    <span class="keywordflow">if</span> (screendepth != <a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#adb7a4836d3fe11bb8f8c8422bdf47412">bitsPerPixel</a>)</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    <span class="keywordflow">switch</span> (screendepth) {</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    <span class="keywordflow">case</span> 32:</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    <span class="keywordflow">case</span> 24:</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <span class="keywordflow">case</span> 18:</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#a7010ff14efce0f5d3a835e1a4948a9f2">redBits</a> == 6</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;                &amp;&amp; <a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#afb6a26ee8dc5dd2a3f6ddf76b56e904d">greenBits</a> == 6</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;                &amp;&amp; <a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#ad6b545d2e4d404e167dde3429cc96de3">blueBits</a> == 6);</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <span class="keywordflow">case</span> 16:</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#a7010ff14efce0f5d3a835e1a4948a9f2">redBits</a> == 5</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;                &amp;&amp; <a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#afb6a26ee8dc5dd2a3f6ddf76b56e904d">greenBits</a> == 6</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;                &amp;&amp; <a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#ad6b545d2e4d404e167dde3429cc96de3">blueBits</a> == 5);</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="keywordflow">case</span> 15:</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#a7010ff14efce0f5d3a835e1a4948a9f2">redBits</a> == 5</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;                &amp;&amp; <a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#afb6a26ee8dc5dd2a3f6ddf76b56e904d">greenBits</a> == 5</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;                &amp;&amp; <a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#ad6b545d2e4d404e167dde3429cc96de3">blueBits</a> == 5);</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    <span class="keywordflow">case</span> 12:</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#a7010ff14efce0f5d3a835e1a4948a9f2">redBits</a> == 4</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;                &amp;&amp; <a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#afb6a26ee8dc5dd2a3f6ddf76b56e904d">greenBits</a> == 4</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;                &amp;&amp; <a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#ad6b545d2e4d404e167dde3429cc96de3">blueBits</a> == 4);</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    }</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;}</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;<span class="comment">// count: number of pixels</span></div><div class="line"><a name="l01432"></a><span class="lineno"><a class="line" href="classQVNCServer.html#a1869adcc2697083220495a13b1a5749e"> 1432</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQVNCServer.html#a1869adcc2697083220495a13b1a5749e">QVNCServer::convertPixels</a>(<span class="keywordtype">char</span> *dst, <span class="keyword">const</span> <span class="keywordtype">char</span> *src, <span class="keywordtype">int</span> count)<span class="keyword"> const</span></div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> screendepth = <a class="code" href="classQVNCServer.html#ae90ef3520de760ae05c7fccda634a37c">qvnc_screen</a>-&gt;<a class="code" href="classQFbScreen.html#ab038cfefb768d552bde86c4312884f57">depth</a>();</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> isBgr = <a class="code" href="classQVNCServer.html#ae90ef3520de760ae05c7fccda634a37c">qvnc_screen</a>-&gt;<a class="code" href="classQScreen.html#a24a9ead9d8a6b57ce23bff48a676e72a">pixelType</a>() == <a class="code" href="classQScreen.html#a47f2bf2658ef403ce087942c691a46d1aa8dc6ca14d600cd8fdd322b0e4bfcd64">QScreen::BGRPixel</a>;</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    <span class="comment">// cutoffs</span></div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;<span class="preprocessor">#if Q_BYTE_ORDER == Q_BIG_ENDIAN</span></div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classQVNCServer.html#a5d781f3927fe5325fbe876ec7afe8b76">swapBytes</a>)</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQVNCServer.html#ab62b222061e707fef2990d4c7faf7c34">sameEndian</a>) {</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;        <span class="keywordflow">if</span> (screendepth == <a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#adb7a4836d3fe11bb8f8c8422bdf47412">bitsPerPixel</a>) { <span class="comment">// memcpy cutoffs</span></div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;            <span class="keywordflow">switch</span> (screendepth) {</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;            <span class="keywordflow">case</span> 32:</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;                memcpy(dst, src, count * <span class="keyword">sizeof</span>(<a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a>));</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;            <span class="keywordflow">case</span> 16:</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#a7010ff14efce0f5d3a835e1a4948a9f2">redBits</a> == 5</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;                    &amp;&amp; <a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#afb6a26ee8dc5dd2a3f6ddf76b56e904d">greenBits</a> == 6</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;                    &amp;&amp; <a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#ad6b545d2e4d404e167dde3429cc96de3">blueBits</a> == 5)</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;                {</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;                    memcpy(dst, src, count * <span class="keyword">sizeof</span>(<a class="code" href="qglobal_8h.html#a6f3b1e8a589d7539ac4f9592005da8b7">quint16</a>));</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;                    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;                }</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;            }</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (screendepth == 16 &amp;&amp; <a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#adb7a4836d3fe11bb8f8c8422bdf47412">bitsPerPixel</a> == 32) {</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;<span class="preprocessor">#if defined(__i386__) // Currently fails on ARM if dst is not 4 byte aligned</span></div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;            <span class="keyword">const</span> <a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a> *src32 = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a>*<span class="keyword">&gt;</span>(src);</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;            <a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a> *dst32 = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a>*<span class="keyword">&gt;</span>(dst);</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;            <span class="keywordtype">int</span> count32 = count * <span class="keyword">sizeof</span>(<a class="code" href="qglobal_8h.html#a6f3b1e8a589d7539ac4f9592005da8b7">quint16</a>) / <span class="keyword">sizeof</span>(<a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a>);</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;            <span class="keywordflow">while</span> (count32--) {</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;                <span class="keyword">const</span> <a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a> s = *src32++;</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;                <a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a> result1;</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;                <a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a> result2;</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;                <span class="comment">// red</span></div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;                result1 = ((s &amp; 0xf8000000) | ((s &amp; 0xe0000000) &gt;&gt; 5)) &gt;&gt; 8;</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;                result2 = ((s &amp; 0x0000f800) | ((s &amp; 0x0000e000) &gt;&gt; 5)) &lt;&lt; 8;</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;                <span class="comment">// green</span></div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;                result1 |= ((s &amp; 0x07e00000) | ((s &amp; 0x06000000) &gt;&gt; 6)) &gt;&gt; 11;</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;                result2 |= ((s &amp; 0x000007e0) | ((s &amp; 0x00000600) &gt;&gt; 6)) &lt;&lt; 5;</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;                <span class="comment">// blue</span></div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;                result1 |= ((s &amp; 0x001f0000) | ((s &amp; 0x001c0000) &gt;&gt; 5)) &gt;&gt; 13;</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;                result2 |= ((s &amp; 0x0000001f) | ((s &amp; 0x0000001c) &gt;&gt; 5)) &lt;&lt; 3;</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;                *dst32++ = result2;</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;                *dst32++ = result1;</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;            }</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;            <span class="keywordflow">if</span> (count &amp; 0x1) {</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;                <span class="keyword">const</span> <a class="code" href="qglobal_8h.html#a6f3b1e8a589d7539ac4f9592005da8b7">quint16</a> *src16 = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="qglobal_8h.html#a6f3b1e8a589d7539ac4f9592005da8b7">quint16</a>*<span class="keyword">&gt;</span>(src);</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;                *dst32 = <a class="code" href="qscreen__qws_8h.html#a9aa1ad9c585348cd9d616d093f1dc0ad">qt_conv16ToRgb</a>(src16[count - 1]);</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;            }</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;        }</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    }</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="qwindowsurface__qws_8cpp.html#aa8760ca6039e06c5e8552ea8aad65c88">bytesPerPixel</a> = (<a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#adb7a4836d3fe11bb8f8c8422bdf47412">bitsPerPixel</a> + 7) / 8;</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;<span class="comment">//    nibble = 0;</span></div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; count; ++i) {</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;        <span class="keywordtype">int</span> r, g, b;</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;        <span class="keywordflow">switch</span> (screendepth) {</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;        <span class="keywordflow">case</span> 4: {</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;            <span class="keywordflow">if</span> (!nibble) {</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;                r = ((*src) &amp; 0x0f) &lt;&lt; 4;</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;                r = (*src) &amp; 0xf0;</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;                src++;</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;            }</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;            nibble = !nibble;</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;            g = b = r;</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;        }</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;        <span class="keywordflow">case</span> 8: {</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;            <a class="code" href="qrgb_8h.html#a0e7a1324ad38755e59ac899e1435e855">QRgb</a> <a class="code" href="qcolor__p_8cpp.html#a6fa7a1b0351d0bdbdf9fd5f882673d57">rgb</a> = <a class="code" href="classQVNCServer.html#ae90ef3520de760ae05c7fccda634a37c">qvnc_screen</a>-&gt;<a class="code" href="classQScreen.html#ac016623039b477a5a8914e49d381a026">clut</a>()[int(*src)];</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;            r = <a class="code" href="qrgb_8h.html#a0262d5960d36d81d4a364948d920f444">qRed</a>(rgb);</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;            g = <a class="code" href="qrgb_8h.html#a089780d47442a31aefd726ae9f9ad5a9">qGreen</a>(rgb);</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;            b = <a class="code" href="qrgb_8h.html#a870f36c07aefb951cadeba3bbe24426c">qBlue</a>(rgb);</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;            src++;</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;        }</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;<span class="preprocessor">#ifdef QT_QWS_DEPTH_12</span></div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;        <span class="keywordflow">case</span> 12: {</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;            <a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a> p = <a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a>(*reinterpret_cast&lt;const qrgb444*&gt;(src));</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;            r = <a class="code" href="qrgb_8h.html#a0262d5960d36d81d4a364948d920f444">qRed</a>(p);</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;            g = <a class="code" href="qrgb_8h.html#a089780d47442a31aefd726ae9f9ad5a9">qGreen</a>(p);</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;            b = <a class="code" href="qrgb_8h.html#a870f36c07aefb951cadeba3bbe24426c">qBlue</a>(p);</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;            src += <span class="keyword">sizeof</span>(<a class="code" href="classqrgb444.html">qrgb444</a>);</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;        }</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;<span class="preprocessor">#ifdef QT_QWS_DEPTH_15</span></div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;        <span class="keywordflow">case</span> 15: {</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;            <a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a> p = <a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a>(*reinterpret_cast&lt;const qrgb555*&gt;(src));</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;            r = <a class="code" href="qrgb_8h.html#a0262d5960d36d81d4a364948d920f444">qRed</a>(p);</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;            g = <a class="code" href="qrgb_8h.html#a089780d47442a31aefd726ae9f9ad5a9">qGreen</a>(p);</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;            b = <a class="code" href="qrgb_8h.html#a870f36c07aefb951cadeba3bbe24426c">qBlue</a>(p);</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;            src += <span class="keyword">sizeof</span>(<a class="code" href="classqrgb555.html">qrgb555</a>);</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;        }</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;        <span class="keywordflow">case</span> 16: {</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;            <a class="code" href="qglobal_8h.html#a6f3b1e8a589d7539ac4f9592005da8b7">quint16</a> p = *<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="qglobal_8h.html#a6f3b1e8a589d7539ac4f9592005da8b7">quint16</a>*<span class="keyword">&gt;</span>(src);</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;<span class="preprocessor">#if Q_BYTE_ORDER == Q_BIG_ENDIAN</span></div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classQVNCServer.html#a5d781f3927fe5325fbe876ec7afe8b76">swapBytes</a>)</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;                p = ((p &amp; 0xff) &lt;&lt; 8) | ((p &amp; 0xff00) &gt;&gt; 8);</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;            r = (p &gt;&gt; 11) &amp; 0x1f;</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;            g = (p &gt;&gt; 5) &amp; 0x3f;</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;            b = p &amp; 0x1f;</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;            r &lt;&lt;= 3;</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;            g &lt;&lt;= 2;</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;            b &lt;&lt;= 3;</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;            src += <span class="keyword">sizeof</span>(<a class="code" href="qglobal_8h.html#a6f3b1e8a589d7539ac4f9592005da8b7">quint16</a>);</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;        }</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;<span class="preprocessor">#ifdef QT_QWS_DEPTH_18</span></div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;        <span class="keywordflow">case</span> 18: {</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;            <a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a> p = <a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a>(*reinterpret_cast&lt;const qrgb666*&gt;(src));</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;            r = <a class="code" href="qrgb_8h.html#a0262d5960d36d81d4a364948d920f444">qRed</a>(p);</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;            g = <a class="code" href="qrgb_8h.html#a089780d47442a31aefd726ae9f9ad5a9">qGreen</a>(p);</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;            b = <a class="code" href="qrgb_8h.html#a870f36c07aefb951cadeba3bbe24426c">qBlue</a>(p);</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;            src += <span class="keyword">sizeof</span>(<a class="code" href="classqrgb666.html">qrgb666</a>);</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;        }</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;<span class="preprocessor">#ifdef QT_QWS_DEPTH_24</span></div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;        <span class="keywordflow">case</span> 24: {</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;            <a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a> p = <a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a>(*reinterpret_cast&lt;const qrgb888*&gt;(src));</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;            r = <a class="code" href="qrgb_8h.html#a0262d5960d36d81d4a364948d920f444">qRed</a>(p);</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;            g = <a class="code" href="qrgb_8h.html#a089780d47442a31aefd726ae9f9ad5a9">qGreen</a>(p);</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;            b = <a class="code" href="qrgb_8h.html#a870f36c07aefb951cadeba3bbe24426c">qBlue</a>(p);</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;            src += <span class="keyword">sizeof</span>(<a class="code" href="classqrgb888.html">qrgb888</a>);</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;        }</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;        <span class="keywordflow">case</span> 32: {</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;            <a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a> p = *<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a>*<span class="keyword">&gt;</span>(src);</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;            r = (p &gt;&gt; 16) &amp; 0xff;</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;            g = (p &gt;&gt; 8) &amp; 0xff;</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;            b = p &amp; 0xff;</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;            src += <span class="keyword">sizeof</span>(<a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a>);</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;        }</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;        <span class="keywordflow">default</span>: {</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;            r = g = b = 0;</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;            <a class="code" href="qglobal_8h.html#abfe4fd29fa94368c8635bfffc1317587">qDebug</a>(<span class="stringliteral">&quot;QVNCServer: don&#39;t support %dbpp display&quot;</span>, screendepth);</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;        }</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;        }</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;<span class="preprocessor">#if Q_BYTE_ORDER == Q_BIG_ENDIAN</span></div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classQVNCServer.html#a5d781f3927fe5325fbe876ec7afe8b76">swapBytes</a> ^ isBgr)</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;        <span class="keywordflow">if</span> (isBgr)</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;            <a class="code" href="qglobal_8h.html#a78167beda57daeaf5373d501fd492a02">qSwap</a>(r, b);</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;        r &gt;&gt;= (8 - <a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#a7010ff14efce0f5d3a835e1a4948a9f2">redBits</a>);</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;        g &gt;&gt;= (8 - <a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#afb6a26ee8dc5dd2a3f6ddf76b56e904d">greenBits</a>);</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;        b &gt;&gt;= (8 - <a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#ad6b545d2e4d404e167dde3429cc96de3">blueBits</a>);</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;        <span class="keywordtype">int</span> pixel = (r &lt;&lt; <a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#a92f9335b717984f8bb3ca61d52ed5e41">redShift</a>) |</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;                    (g &lt;&lt; <a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#a3108030d9fcaa55adcfb3106449b7e39">greenShift</a>) |</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;                    (b &lt;&lt; <a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#a7829ef51b1b7d1ddcea56e3331cfd1e3">blueShift</a>);</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classQVNCServer.html#ab62b222061e707fef2990d4c7faf7c34">sameEndian</a> || <a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#adb7a4836d3fe11bb8f8c8422bdf47412">bitsPerPixel</a> == 8) {</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;            memcpy(dst, &amp;pixel, bytesPerPixel); <span class="comment">// XXX: do a simple for-loop instead?</span></div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;            dst += <a class="code" href="qwindowsurface__qws_8cpp.html#aa8760ca6039e06c5e8552ea8aad65c88">bytesPerPixel</a>;</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;        }</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;        <span class="keywordflow">if</span> (QSysInfo::ByteOrder == QSysInfo::BigEndian) {</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;            <span class="keywordflow">switch</span> (<a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#adb7a4836d3fe11bb8f8c8422bdf47412">bitsPerPixel</a>) {</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;            <span class="keywordflow">case</span> 16:</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;                pixel = (((pixel &amp; 0x0000ff00) &lt;&lt; 8)  |</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;                         ((pixel &amp; 0x000000ff) &lt;&lt; 24));</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;            <span class="keywordflow">case</span> 32:</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;                pixel = (((pixel &amp; 0xff000000) &gt;&gt; 24) |</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;                         ((pixel &amp; 0x00ff0000) &gt;&gt; 8)  |</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;                         ((pixel &amp; 0x0000ff00) &lt;&lt; 8)  |</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;                         ((pixel &amp; 0x000000ff) &lt;&lt; 24));</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;                <a class="code" href="qglobal_8h.html#abfe4fd29fa94368c8635bfffc1317587">qDebug</a>(<span class="stringliteral">&quot;Cannot handle %d bpp client&quot;</span>, <a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#adb7a4836d3fe11bb8f8c8422bdf47412">bitsPerPixel</a>);</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;            }</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;        } <span class="keywordflow">else</span> { <span class="comment">// QSysInfo::ByteOrder == QSysInfo::LittleEndian</span></div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;            <span class="keywordflow">switch</span> (<a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#adb7a4836d3fe11bb8f8c8422bdf47412">bitsPerPixel</a>) {</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;            <span class="keywordflow">case</span> 16:</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;                pixel = (((pixel &amp; 0xff000000) &gt;&gt; 8) |</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;                         ((pixel &amp; 0x00ff0000) &lt;&lt; 8));</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;            <span class="keywordflow">case</span> 32:</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;                pixel = (((pixel &amp; 0xff000000) &gt;&gt; 24) |</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;                         ((pixel &amp; 0x00ff0000) &gt;&gt; 8)  |</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;                         ((pixel &amp; 0x0000ff00) &lt;&lt; 8)  |</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;                         ((pixel &amp; 0x000000ff) &lt;&lt; 24));</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;                <a class="code" href="qglobal_8h.html#abfe4fd29fa94368c8635bfffc1317587">qDebug</a>(<span class="stringliteral">&quot;Cannot handle %d bpp client&quot;</span>,</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;                       <a class="code" href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">pixelFormat</a>.<a class="code" href="classQRfbPixelFormat.html#adb7a4836d3fe11bb8f8c8422bdf47412">bitsPerPixel</a>);</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;            }</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;        }</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;        memcpy(dst, &amp;pixel, bytesPerPixel); <span class="comment">// XXX: simple for-loop instead?</span></div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;        dst += <a class="code" href="qwindowsurface__qws_8cpp.html#aa8760ca6039e06c5e8552ea8aad65c88">bytesPerPixel</a>;</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    }</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;}</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;<span class="preprocessor">#ifndef QT_NO_QWS_CURSOR</span></div><div class="line"><a name="l01651"></a><span class="lineno"><a class="line" href="qscreenvnc__qws_8cpp.html#ab8fc2ec473af89f581ae861bef440612"> 1651</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="qscreenvnc__qws_8cpp.html#ab8fc2ec473af89f581ae861bef440612">blendCursor</a>(<a class="code" href="classQImage.html">QImage</a> &amp;image, <span class="keyword">const</span> <a class="code" href="classQRect.html">QRect</a> &amp;imageRect)</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;{</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    <span class="keyword">const</span> <a class="code" href="classQRect.html">QRect</a> cursorRect = <a class="code" href="qscreen__qws_8cpp.html#ad95a3323df4ce8090adbdf624efc1efe">qt_screencursor</a>-&gt;<a class="code" href="classQScreenCursor.html#a380ffb14991f03e598770ef5cca5130e">boundingRect</a>();</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    <span class="keyword">const</span> <a class="code" href="classQRect.html">QRect</a> intersection = (cursorRect &amp; imageRect);</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    <span class="keyword">const</span> <a class="code" href="classQRect.html">QRect</a> destRect = intersection.<a class="code" href="classQRect.html#a5f402f79bc4a35736b64881d59daad20">translated</a>(-imageRect.<a class="code" href="classQRect.html#a05339fd3904518eb58dcd9d21453325e">topLeft</a>());</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    <span class="keyword">const</span> <a class="code" href="classQRect.html">QRect</a> srcRect = intersection.<a class="code" href="classQRect.html#a5f402f79bc4a35736b64881d59daad20">translated</a>(-cursorRect.<a class="code" href="classQRect.html#a05339fd3904518eb58dcd9d21453325e">topLeft</a>());</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    <a class="code" href="classQPainter.html">QPainter</a> painter(&amp;image);</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    painter.<a class="code" href="classQPainter.html#a926f7fa79734f3c97ea3720bd9ed00fc">drawImage</a>(destRect, <a class="code" href="qscreen__qws_8cpp.html#ad95a3323df4ce8090adbdf624efc1efe">qt_screencursor</a>-&gt;<a class="code" href="classQScreenCursor.html#a656f8809d4946c94acb515fd2816668d">image</a>(), srcRect);</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    painter.<a class="code" href="classQPainter.html#abce409fef1929e0b232e937e3b2c67da">end</a>();</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;}</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;<span class="preprocessor">#endif // QT_NO_QWS_CURSOR</span></div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;</div><div class="line"><a name="l01664"></a><span class="lineno"><a class="line" href="classQVNCDirtyMap.html#ac8923e667a8987985ada0e7feab858ca"> 1664</a></span>&#160;<a class="code" href="classQVNCDirtyMap.html#ac8923e667a8987985ada0e7feab858ca">QVNCDirtyMap::QVNCDirtyMap</a>(<a class="code" href="classQScreen.html">QScreen</a> *s)</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    : <a class="code" href="qwindowsurface__qws_8cpp.html#aa8760ca6039e06c5e8552ea8aad65c88">bytesPerPixel</a>(0), numDirty(0), <a class="code" href="classQVNCServer.html#ae879174a529769415c5a65b1115dd835">screen</a>(s)</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;{</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    <a class="code" href="classQVNCDirtyMap.html#aa65a22175023c343bcf722cbc99bc765">bytesPerPixel</a> = (<a class="code" href="classQVNCDirtyMap.html#affd8bdbf957fc11bef3fbacd09cc536a">screen</a>-&gt;<a class="code" href="classQScreen.html#a7a86703b88f42ff6b31a680d7c23d692">depth</a>() + 7) / 8;</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    <a class="code" href="classQVNCDirtyMap.html#accbf1cddd9e3a3615e8f2b51f0fb14fe">bufferWidth</a> = <a class="code" href="classQVNCDirtyMap.html#affd8bdbf957fc11bef3fbacd09cc536a">screen</a>-&gt;<a class="code" href="classQScreen.html#a1c425d812a3896b721ecaf04bfe82368">deviceWidth</a>();</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    <a class="code" href="classQVNCDirtyMap.html#a7d692c9ab639a79d57895ac525c0fe87">bufferHeight</a> = <a class="code" href="classQVNCDirtyMap.html#affd8bdbf957fc11bef3fbacd09cc536a">screen</a>-&gt;<a class="code" href="classQScreen.html#af47d3ab178089e0fcb00c016d56dad4b">deviceHeight</a>();</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    <a class="code" href="classQVNCDirtyMap.html#ac7122800166c1e8f3d48a3dbe4860bc7">bufferStride</a> = <a class="code" href="classQVNCDirtyMap.html#accbf1cddd9e3a3615e8f2b51f0fb14fe">bufferWidth</a> * <a class="code" href="classQVNCDirtyMap.html#aa65a22175023c343bcf722cbc99bc765">bytesPerPixel</a>;</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <a class="code" href="classQVNCDirtyMap.html#a7bfef083411e38ac15a8b7effed1c395">buffer</a> = <span class="keyword">new</span> <a class="code" href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>[<a class="code" href="classQVNCDirtyMap.html#a7d692c9ab639a79d57895ac525c0fe87">bufferHeight</a> * <a class="code" href="classQVNCDirtyMap.html#ac7122800166c1e8f3d48a3dbe4860bc7">bufferStride</a>];</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <a class="code" href="classQVNCDirtyMap.html#aef2c00c67546edbae493a205ba4c8e31">mapWidth</a> = (<a class="code" href="classQVNCDirtyMap.html#accbf1cddd9e3a3615e8f2b51f0fb14fe">bufferWidth</a> + <a class="code" href="qscreenvnc__p_8h.html#a8fa35e95d202f9abb7f84c5b13e37d41">MAP_TILE_SIZE</a> - 1) / <a class="code" href="qscreenvnc__p_8h.html#a8fa35e95d202f9abb7f84c5b13e37d41">MAP_TILE_SIZE</a>;</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    <a class="code" href="classQVNCDirtyMap.html#a32d010dacf92960171c6a5671ce93bbb">mapHeight</a> = (<a class="code" href="classQVNCDirtyMap.html#a7d692c9ab639a79d57895ac525c0fe87">bufferHeight</a> + <a class="code" href="qscreenvnc__p_8h.html#a8fa35e95d202f9abb7f84c5b13e37d41">MAP_TILE_SIZE</a> - 1) / <a class="code" href="qscreenvnc__p_8h.html#a8fa35e95d202f9abb7f84c5b13e37d41">MAP_TILE_SIZE</a>;</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    <a class="code" href="classQVNCDirtyMap.html#a32a13a8c94ae5886f9e183906ada2ddb">numTiles</a> = <a class="code" href="classQVNCDirtyMap.html#aef2c00c67546edbae493a205ba4c8e31">mapWidth</a> * <a class="code" href="classQVNCDirtyMap.html#a32d010dacf92960171c6a5671ce93bbb">mapHeight</a>;</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    <a class="code" href="structmap.html">map</a> = <span class="keyword">new</span> <a class="code" href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>[<a class="code" href="classQVNCDirtyMap.html#a32a13a8c94ae5886f9e183906ada2ddb">numTiles</a>];</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;}</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;</div><div class="line"><a name="l01679"></a><span class="lineno"><a class="line" href="classQVNCDirtyMap.html#a256bffb30576deb3d2470ec7ec563980"> 1679</a></span>&#160;<a class="code" href="classQVNCDirtyMap.html#a256bffb30576deb3d2470ec7ec563980">QVNCDirtyMap::~QVNCDirtyMap</a>()</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;{</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    <span class="keyword">delete</span>[] <a class="code" href="classQVNCDirtyMap.html#a1ed650a60c224584d9b110965b28cc40">map</a>;</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;    <span class="keyword">delete</span>[] <a class="code" href="classQVNCDirtyMap.html#a7bfef083411e38ac15a8b7effed1c395">buffer</a>;</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;}</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;</div><div class="line"><a name="l01685"></a><span class="lineno"><a class="line" href="classQVNCDirtyMap.html#ac223a4c00cef63ebc62c5fae63e68694"> 1685</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQVNCDirtyMap.html#ac223a4c00cef63ebc62c5fae63e68694">QVNCDirtyMap::reset</a>()</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;{</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    memset(<a class="code" href="structmap.html">map</a>, 1, <a class="code" href="classQVNCDirtyMap.html#a32a13a8c94ae5886f9e183906ada2ddb">numTiles</a>);</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    memset(<a class="code" href="classQVNCDirtyMap.html#a7bfef083411e38ac15a8b7effed1c395">buffer</a>, 0, <a class="code" href="classQVNCDirtyMap.html#a7d692c9ab639a79d57895ac525c0fe87">bufferHeight</a> * <a class="code" href="classQVNCDirtyMap.html#ac7122800166c1e8f3d48a3dbe4860bc7">bufferStride</a>);</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    <a class="code" href="classQVNCDirtyMap.html#a0a691fc548d6e86df5301815e7f4d54b">numDirty</a> = <a class="code" href="classQVNCDirtyMap.html#a32a13a8c94ae5886f9e183906ada2ddb">numTiles</a>;</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;}</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;</div><div class="line"><a name="l01692"></a><span class="lineno"><a class="line" href="classQVNCDirtyMap.html#a204b63897e380b232408a35b1248c0ac"> 1692</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classQVNCDirtyMap.html#a204b63897e380b232408a35b1248c0ac">QVNCDirtyMap::dirty</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y)<span class="keyword"> const</span></div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structmap.html">map</a>[y * <a class="code" href="classQVNCDirtyMap.html#aef2c00c67546edbae493a205ba4c8e31">mapWidth</a> + x];</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;}</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;</div><div class="line"><a name="l01697"></a><span class="lineno"><a class="line" href="classQVNCDirtyMap.html#aea6397e930ae1812ed4c76c8d79f0335"> 1697</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classQVNCDirtyMap.html#aea6397e930ae1812ed4c76c8d79f0335">QVNCDirtyMap::setClean</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y)</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;{</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;    <a class="code" href="structmap.html">map</a>[y * <a class="code" href="classQVNCDirtyMap.html#aef2c00c67546edbae493a205ba4c8e31">mapWidth</a> + x] = 0;</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;    --<a class="code" href="classQVNCDirtyMap.html#a0a691fc548d6e86df5301815e7f4d54b">numDirty</a>;</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;}</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;</div><div class="line"><a name="l01704"></a><span class="lineno"><a class="line" href="classQVNCDirtyMapOptimized.html#adcd3cfaa4c3328d4db2fdc01eba2499a"> 1704</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQVNCDirtyMapOptimized.html#adcd3cfaa4c3328d4db2fdc01eba2499a">QVNCDirtyMapOptimized&lt;T&gt;::setDirty</a>(<span class="keywordtype">int</span> tileX, <span class="keywordtype">int</span> tileY, <span class="keywordtype">bool</span> force)</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;{</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">bool</span> alwaysForce = <a class="code" href="qglobal_8h.html#a0b57963061bee602c8b6d3c62cf7e1b6">qgetenv</a>(<span class="stringliteral">&quot;QT_VNC_NO_COMPAREBUFFER&quot;</span>).<a class="code" href="classQByteArray.html#a186c634dc462f478fd2a45ee713f2c58">toInt</a>();</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;    <span class="keywordflow">if</span> (alwaysForce)</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        force = <span class="keyword">true</span>;</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    <span class="keywordtype">bool</span> changed = <span class="keyword">false</span>;</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    <span class="keywordflow">if</span> (!force) {</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> lstep = <a class="code" href="classQVNCDirtyMap.html#affd8bdbf957fc11bef3fbacd09cc536a">screen</a>-&gt;<a class="code" href="classQScreen.html#a1bbc5a9100e1a18f42764d6d4a4daa00">linestep</a>();</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> startX = tileX * <a class="code" href="qscreenvnc__p_8h.html#a8fa35e95d202f9abb7f84c5b13e37d41">MAP_TILE_SIZE</a>;</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> startY = tileY * <a class="code" href="qscreenvnc__p_8h.html#a8fa35e95d202f9abb7f84c5b13e37d41">MAP_TILE_SIZE</a>;</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;        <span class="keyword">const</span> <a class="code" href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *scrn = <a class="code" href="classQVNCDirtyMap.html#affd8bdbf957fc11bef3fbacd09cc536a">screen</a>-&gt;<a class="code" href="classQScreen.html#a272eebfbf7ce0c93807d131559f75263">base</a>()</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;                            + startY * lstep + startX * <a class="code" href="classQVNCDirtyMap.html#aa65a22175023c343bcf722cbc99bc765">bytesPerPixel</a>;</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;        <a class="code" href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *old = <a class="code" href="classQVNCDirtyMap.html#a7bfef083411e38ac15a8b7effed1c395">buffer</a> + startY * <a class="code" href="classQVNCDirtyMap.html#ac7122800166c1e8f3d48a3dbe4860bc7">bufferStride</a> + startX * <span class="keyword">sizeof</span>(T);</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> tileHeight = (startY + MAP_TILE_SIZE &gt; <a class="code" href="classQVNCDirtyMap.html#a7d692c9ab639a79d57895ac525c0fe87">bufferHeight</a> ?</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;                                <a class="code" href="classQVNCDirtyMap.html#a7d692c9ab639a79d57895ac525c0fe87">bufferHeight</a> - startY : <a class="code" href="qscreenvnc__p_8h.html#a8fa35e95d202f9abb7f84c5b13e37d41">MAP_TILE_SIZE</a>);</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> tileWidth = (startX + MAP_TILE_SIZE &gt; <a class="code" href="classQVNCDirtyMap.html#accbf1cddd9e3a3615e8f2b51f0fb14fe">bufferWidth</a> ?</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;                               <a class="code" href="classQVNCDirtyMap.html#accbf1cddd9e3a3615e8f2b51f0fb14fe">bufferWidth</a> - startX : <a class="code" href="qscreenvnc__p_8h.html#a8fa35e95d202f9abb7f84c5b13e37d41">MAP_TILE_SIZE</a>);</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> doInlines = (tileWidth == <a class="code" href="qscreenvnc__p_8h.html#a8fa35e95d202f9abb7f84c5b13e37d41">MAP_TILE_SIZE</a>);</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;        <span class="keywordtype">int</span> y = tileHeight;</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;        <span class="keywordflow">if</span> (doInlines) { <span class="comment">// hw: memcmp/memcpy is inlined when using constants</span></div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;            <span class="keywordflow">while</span> (y) {</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;                <span class="keywordflow">if</span> (memcmp(old, scrn, <span class="keyword">sizeof</span>(T) * <a class="code" href="qscreenvnc__p_8h.html#a8fa35e95d202f9abb7f84c5b13e37d41">MAP_TILE_SIZE</a>)) {</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;                    changed = <span class="keyword">true</span>;</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;                }</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;                scrn += lstep;</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;                old += <a class="code" href="classQVNCDirtyMap.html#ac7122800166c1e8f3d48a3dbe4860bc7">bufferStride</a>;</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;                --y;</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;            }</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;            <span class="keywordflow">while</span> (y) {</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;                memcpy(old, scrn, <span class="keyword">sizeof</span>(T) * MAP_TILE_SIZE);</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;                scrn += lstep;</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;                old += <a class="code" href="classQVNCDirtyMap.html#ac7122800166c1e8f3d48a3dbe4860bc7">bufferStride</a>;</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;                --y;</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;            }</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;            <span class="keywordflow">while</span> (y) {</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;                <span class="keywordflow">if</span> (memcmp(old, scrn, <span class="keyword">sizeof</span>(T) * tileWidth)) {</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;                    changed = <span class="keyword">true</span>;</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;                }</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;                scrn += lstep;</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;                old += <a class="code" href="classQVNCDirtyMap.html#ac7122800166c1e8f3d48a3dbe4860bc7">bufferStride</a>;</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;                --y;</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;            }</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;            <span class="keywordflow">while</span> (y) {</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;                memcpy(old, scrn, <span class="keyword">sizeof</span>(T) * tileWidth);</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;                scrn += lstep;</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;                old += <a class="code" href="classQVNCDirtyMap.html#ac7122800166c1e8f3d48a3dbe4860bc7">bufferStride</a>;</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;                --y;</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;            }</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;        }</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    }</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> mapIndex = tileY * <a class="code" href="classQVNCDirtyMap.html#aef2c00c67546edbae493a205ba4c8e31">mapWidth</a> + tileX;</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    <span class="keywordflow">if</span> ((force || changed) &amp;&amp; !<a class="code" href="structmap.html">map</a>[mapIndex]) {</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;        <a class="code" href="structmap.html">map</a>[mapIndex] = 1;</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;        ++<a class="code" href="classQVNCDirtyMap.html#a0a691fc548d6e86df5301815e7f4d54b">numDirty</a>;</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    }</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;}</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> SRC&gt;</div><div class="line"><a name="l01773"></a><span class="lineno"><a class="line" href="classQRfbHextileEncoder.html#ace9a75665f3cc303040e833b3b891aed"> 1773</a></span>&#160;<a class="code" href="classQRfbHextileEncoder.html#ace9a75665f3cc303040e833b3b891aed">QRfbHextileEncoder&lt;SRC&gt;::QRfbHextileEncoder</a>(<a class="code" href="classQVNCServer.html">QVNCServer</a> *s)</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    : <a class="code" href="classQRfbEncoder.html">QRfbEncoder</a>(s),</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;      singleColorHextile(this), dualColorHextile(this), multiColorHextile(this)</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;{</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;}</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;<span class="comment">    \internal</span></div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;<span class="comment">    Send dirty rects using hextile encoding.</span></div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> SRC&gt;</div><div class="line"><a name="l01784"></a><span class="lineno"><a class="line" href="classQRfbHextileEncoder.html#a5befa198e47c4f80345bd2700acd6461"> 1784</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQRfbHextileEncoder.html#a5befa198e47c4f80345bd2700acd6461">QRfbHextileEncoder&lt;SRC&gt;::write</a>()</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;{</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    <a class="code" href="classQWSDisplay.html#a7191753408bd7aebf44040f544578699">QWSDisplay::grab</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    <a class="code" href="classQVNCDirtyMap.html">QVNCDirtyMap</a> *<a class="code" href="structmap.html">map</a> = <a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#a1b9ef43f1ce3ad45044997429e1b0a9b">dirtyMap</a>();</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    <a class="code" href="classQTcpSocket.html">QTcpSocket</a> *socket = <a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#a05236fa5dcb003df15b038b566071b85">clientSocket</a>();</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    <span class="keyword">const</span> <a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a> encoding = htonl(5); <span class="comment">// hextile encoding</span></div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="qwindowsurface__qws_8cpp.html#aa8760ca6039e06c5e8552ea8aad65c88">bytesPerPixel</a> = <a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#a58981b4991647063f4dddec3e0b8c42b">clientBytesPerPixel</a>();</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;    {</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> tmp[2] = { 0, 0 }; <span class="comment">// msg type, padding</span></div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;        socket-&gt;<a class="code" href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">write</a>(tmp, <span class="keyword">sizeof</span>(tmp));</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    }</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    {</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;        <span class="keyword">const</span> <a class="code" href="qglobal_8h.html#a6f3b1e8a589d7539ac4f9592005da8b7">quint16</a> count = htons(map-&gt;<a class="code" href="classQVNCDirtyMap.html#a0a691fc548d6e86df5301815e7f4d54b">numDirty</a>);</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;        socket-&gt;<a class="code" href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">write</a>((<span class="keywordtype">char</span> *)&amp;count, <span class="keyword">sizeof</span>(count));</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;    }</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    <span class="keywordflow">if</span> (map-&gt;<a class="code" href="classQVNCDirtyMap.html#a0a691fc548d6e86df5301815e7f4d54b">numDirty</a> &lt;= 0) {</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;        <a class="code" href="classQWSDisplay.html#a00d0c5440d4cba3c54d4fe3e019863cf">QWSDisplay::ungrab</a>();</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    }</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    <a class="code" href="classQRfbHextileEncoder.html#aa4dbeaa43c59cdb3567a7835ccba82d4">newBg</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    <a class="code" href="classQRfbHextileEncoder.html#af3a07f58adda4789581e945adac3249c">newFg</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    <span class="keyword">const</span> <a class="code" href="classQImage.html">QImage</a> screenImage = <a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#a0d0ecb85cf3efd13206d05b1903e0a3f">screenImage</a>();</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    <a class="code" href="classQRfbRect.html">QRfbRect</a> rect(0, 0, <a class="code" href="qscreenvnc__p_8h.html#a8fa35e95d202f9abb7f84c5b13e37d41">MAP_TILE_SIZE</a>, <a class="code" href="qscreenvnc__p_8h.html#a8fa35e95d202f9abb7f84c5b13e37d41">MAP_TILE_SIZE</a>);</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = 0; y &lt; map-&gt;<a class="code" href="classQVNCDirtyMap.html#a32d010dacf92960171c6a5671ce93bbb">mapHeight</a>; ++y) {</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;        <span class="keywordflow">if</span> (rect.<a class="code" href="classQRfbRect.html#ae6e18984a23b1acdb438ccc135d3a1b2">y</a> + <a class="code" href="qscreenvnc__p_8h.html#a8fa35e95d202f9abb7f84c5b13e37d41">MAP_TILE_SIZE</a> &gt; <a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#ae879174a529769415c5a65b1115dd835">screen</a>()-&gt;<a class="code" href="classQScreen.html#a17c8da737fe936492dc23f8a9631b179">height</a>())</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;            rect.<a class="code" href="classQRfbRect.html#aa600a2e3d5e5ed975a6ae146e20d00fc">h</a> = <a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#ae879174a529769415c5a65b1115dd835">screen</a>()-&gt;<a class="code" href="classQScreen.html#a17c8da737fe936492dc23f8a9631b179">height</a>() - rect.<a class="code" href="classQRfbRect.html#ae6e18984a23b1acdb438ccc135d3a1b2">y</a>;</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;        rect.<a class="code" href="classQRfbRect.html#a85629daa2f0dbe84fd43225358fdf07b">w</a> = <a class="code" href="qscreenvnc__p_8h.html#a8fa35e95d202f9abb7f84c5b13e37d41">MAP_TILE_SIZE</a>;</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; map-&gt;<a class="code" href="classQVNCDirtyMap.html#aef2c00c67546edbae493a205ba4c8e31">mapWidth</a>; ++x) {</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;            <span class="keywordflow">if</span> (!map-&gt;<a class="code" href="classQVNCDirtyMap.html#a204b63897e380b232408a35b1248c0ac">dirty</a>(x, y))</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;            map-&gt;<a class="code" href="classQVNCDirtyMap.html#aea6397e930ae1812ed4c76c8d79f0335">setClean</a>(x, y);</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;            rect.<a class="code" href="classQRfbRect.html#a0a8180f05d24f11518f94e78128c13ba">x</a> = x * <a class="code" href="qscreenvnc__p_8h.html#a8fa35e95d202f9abb7f84c5b13e37d41">MAP_TILE_SIZE</a>;</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;            <span class="keywordflow">if</span> (rect.<a class="code" href="classQRfbRect.html#a0a8180f05d24f11518f94e78128c13ba">x</a> + MAP_TILE_SIZE &gt; <a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#ae879174a529769415c5a65b1115dd835">screen</a>()-&gt;<a class="code" href="classQScreen.html#a1c425d812a3896b721ecaf04bfe82368">deviceWidth</a>())</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;                rect.<a class="code" href="classQRfbRect.html#a85629daa2f0dbe84fd43225358fdf07b">w</a> = <a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#ae879174a529769415c5a65b1115dd835">screen</a>()-&gt;<a class="code" href="classQScreen.html#a1c425d812a3896b721ecaf04bfe82368">deviceWidth</a>() - rect.<a class="code" href="classQRfbRect.html#a0a8180f05d24f11518f94e78128c13ba">x</a>;</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;            rect.<a class="code" href="classQRfbRect.html#aab4973da8c73ccb848e183e314be2d1c">write</a>(socket);</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;            socket-&gt;<a class="code" href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">write</a>((<span class="keywordtype">char</span> *)&amp;encoding, <span class="keyword">sizeof</span>(encoding));</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;            <span class="keyword">const</span> <a class="code" href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *screendata = screenImage.<a class="code" href="classQImage.html#a3eaa287aa9c14f2620734479a1e9ddb1">scanLine</a>(rect.<a class="code" href="classQRfbRect.html#ae6e18984a23b1acdb438ccc135d3a1b2">y</a>)</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;                                      + rect.<a class="code" href="classQRfbRect.html#a0a8180f05d24f11518f94e78128c13ba">x</a> * screenImage.<a class="code" href="classQImage.html#afa946f31315267065159774c4cce4124">depth</a>() / 8;</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;            <span class="keywordtype">int</span> linestep = screenImage.<a class="code" href="classQImage.html#ac673d1d5da391ecaaa9add4ff1b586ce">bytesPerLine</a>();</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;<span class="preprocessor">#ifndef QT_NO_QWS_CURSOR</span></div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;            <span class="comment">// hardware cursors must be blended with the screen memory</span></div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">bool</span> doBlendCursor = <a class="code" href="qscreen__qws_8cpp.html#ad95a3323df4ce8090adbdf624efc1efe">qt_screencursor</a></div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;                                       &amp;&amp; !<a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#ac8ac3973438c4f86f53ec8b3df88c50f">hasClientCursor</a>()</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;                                       &amp;&amp; <a class="code" href="qscreen__qws_8cpp.html#ad95a3323df4ce8090adbdf624efc1efe">qt_screencursor</a>-&gt;<a class="code" href="classQScreenCursor.html#a18f49953babba63777e0f3d1d64c7746">isAccelerated</a>();</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;            <a class="code" href="classQImage.html">QImage</a> tileImage;</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;            <span class="keywordflow">if</span> (doBlendCursor) {</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;                <span class="keyword">const</span> <a class="code" href="classQRect.html">QRect</a> tileRect(rect.<a class="code" href="classQRfbRect.html#a0a8180f05d24f11518f94e78128c13ba">x</a>, rect.<a class="code" href="classQRfbRect.html#ae6e18984a23b1acdb438ccc135d3a1b2">y</a>, rect.<a class="code" href="classQRfbRect.html#a85629daa2f0dbe84fd43225358fdf07b">w</a>, rect.<a class="code" href="classQRfbRect.html#aa600a2e3d5e5ed975a6ae146e20d00fc">h</a>);</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;                <span class="keyword">const</span> <a class="code" href="classQRect.html">QRect</a> cursorRect = <a class="code" href="qscreen__qws_8cpp.html#ad95a3323df4ce8090adbdf624efc1efe">qt_screencursor</a>-&gt;<a class="code" href="classQScreenCursor.html#a380ffb14991f03e598770ef5cca5130e">boundingRect</a>()</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;                                         .<a class="code" href="classQRect.html#a5f402f79bc4a35736b64881d59daad20">translated</a>(-<a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#ae879174a529769415c5a65b1115dd835">screen</a>()-&gt;<a class="code" href="classQScreen.html#aac4624b38dd6934976d02c2de0d30fd4">offset</a>());</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;                <span class="keywordflow">if</span> (tileRect.<a class="code" href="classQRect.html#ae4d9c85f59251952aa006448ba0cbe2b">intersects</a>(cursorRect)) {</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;                    tileImage = screenImage.<a class="code" href="classQImage.html#a46809ce99436f870d15ac22a325d65f0">copy</a>(tileRect);</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;                    <a class="code" href="qscreenvnc__qws_8cpp.html#ab8fc2ec473af89f581ae861bef440612">blendCursor</a>(tileImage,</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;                                tileRect.<a class="code" href="classQRect.html#a5f402f79bc4a35736b64881d59daad20">translated</a>(<a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#ae879174a529769415c5a65b1115dd835">screen</a>()-&gt;<a class="code" href="classQScreen.html#aac4624b38dd6934976d02c2de0d30fd4">offset</a>()));</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;                    screendata = tileImage.<a class="code" href="classQImage.html#a73462e7ea76c229ccb77829986170388">bits</a>();</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;                    linestep = tileImage.<a class="code" href="classQImage.html#ac673d1d5da391ecaaa9add4ff1b586ce">bytesPerLine</a>();</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;                }</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;            }</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;<span class="preprocessor">#endif // QT_NO_QWS_CURSOR</span></div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classQRfbHextileEncoder.html#ab238e5e315899418c4dddb2db1500f19">singleColorHextile</a>.read(screendata, rect.<a class="code" href="classQRfbRect.html#a85629daa2f0dbe84fd43225358fdf07b">w</a>, rect.<a class="code" href="classQRfbRect.html#aa600a2e3d5e5ed975a6ae146e20d00fc">h</a>, linestep)) {</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;                <a class="code" href="classQRfbHextileEncoder.html#ab238e5e315899418c4dddb2db1500f19">singleColorHextile</a>.write(socket);</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classQRfbHextileEncoder.html#a4a368e0de5baa1ff92ab7ff37f62b31a">dualColorHextile</a>.read(screendata, rect.<a class="code" href="classQRfbRect.html#a85629daa2f0dbe84fd43225358fdf07b">w</a>, rect.<a class="code" href="classQRfbRect.html#aa600a2e3d5e5ed975a6ae146e20d00fc">h</a>, linestep)) {</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;                <a class="code" href="classQRfbHextileEncoder.html#a4a368e0de5baa1ff92ab7ff37f62b31a">dualColorHextile</a>.write(socket);</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classQRfbHextileEncoder.html#a33f5fc4836aae2024597318f605431cb">multiColorHextile</a>.read(screendata, rect.<a class="code" href="classQRfbRect.html#a85629daa2f0dbe84fd43225358fdf07b">w</a>, rect.<a class="code" href="classQRfbRect.html#aa600a2e3d5e5ed975a6ae146e20d00fc">h</a>, linestep)) {</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;                <a class="code" href="classQRfbHextileEncoder.html#a33f5fc4836aae2024597318f605431cb">multiColorHextile</a>.write(socket);</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#a0f788f9a88c962d3a72b9fa4e0679ca8">doPixelConversion</a>()) {</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> bufferSize = rect.<a class="code" href="classQRfbRect.html#a85629daa2f0dbe84fd43225358fdf07b">w</a> * rect.<a class="code" href="classQRfbRect.html#aa600a2e3d5e5ed975a6ae146e20d00fc">h</a> * bytesPerPixel + 1;</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> padding = <span class="keyword">sizeof</span>(<a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a>) - <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>);</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;                <a class="code" href="classQRfbHextileEncoder.html#a0fc12ab2bdc929c575576475c2c86d5d">buffer</a>.<a class="code" href="classQByteArray.html#a554ff306a31cd244e2e4181125ea0e05">resize</a>(bufferSize + padding);</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;                <a class="code" href="classQRfbHextileEncoder.html#a0fc12ab2bdc929c575576475c2c86d5d">buffer</a>[padding] = 1; <span class="comment">// Raw subencoding</span></div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;                <span class="comment">// convert pixels</span></div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;                <span class="keywordtype">char</span> *b = <a class="code" href="classQRfbHextileEncoder.html#a0fc12ab2bdc929c575576475c2c86d5d">buffer</a>.<a class="code" href="classQByteArray.html#a00805e2d9e3237e6c18b3d64859b2ef8">data</a>() + padding + 1;</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> bstep = rect.<a class="code" href="classQRfbRect.html#a85629daa2f0dbe84fd43225358fdf07b">w</a> * <a class="code" href="qwindowsurface__qws_8cpp.html#aa8760ca6039e06c5e8552ea8aad65c88">bytesPerPixel</a>;</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; rect.<a class="code" href="classQRfbRect.html#aa600a2e3d5e5ed975a6ae146e20d00fc">h</a>; ++i) {</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;                    <a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#a1869adcc2697083220495a13b1a5749e">convertPixels</a>(b, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)screendata, rect.<a class="code" href="classQRfbRect.html#a85629daa2f0dbe84fd43225358fdf07b">w</a>);</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;                    screendata += linestep;</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;                    b += bstep;</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;                }</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;                socket-&gt;<a class="code" href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">write</a>(<a class="code" href="classQRfbHextileEncoder.html#a0fc12ab2bdc929c575576475c2c86d5d">buffer</a>.<a class="code" href="classQByteArray.html#adb3b4e935f60dd123b1b017894901937">constData</a>() + padding, bufferSize);</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;                <a class="code" href="qglobal_8h.html#ac3ffd6ad7bfb3c6d4857b2aadd5ec47a">quint8</a> subenc = 1; <span class="comment">// Raw subencoding</span></div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;                socket-&gt;<a class="code" href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">write</a>((<span class="keywordtype">char</span> *)&amp;subenc, 1);</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;                <span class="comment">// send pixels</span></div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; rect.<a class="code" href="classQRfbRect.html#aa600a2e3d5e5ed975a6ae146e20d00fc">h</a>; ++i) {</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;                    socket-&gt;<a class="code" href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">write</a>((<span class="keyword">const</span> <span class="keywordtype">char</span>*)screendata,</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;                                  rect.<a class="code" href="classQRfbRect.html#a85629daa2f0dbe84fd43225358fdf07b">w</a> * bytesPerPixel);</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;                    screendata += linestep;</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;                }</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;            }</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;        }</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;        <span class="keywordflow">if</span> (socket-&gt;<a class="code" href="classQAbstractSocket.html#ac7e611d92bd1f4936a6d4a391df74c06">state</a>() == <a class="code" href="classQAbstractSocket.html#a0e0649c2321bf5789b2539a02c0a3c7ead45d2f0afb20236d07b77a7a7a03ff61">QAbstractSocket::UnconnectedState</a>)</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;        rect.<a class="code" href="classQRfbRect.html#ae6e18984a23b1acdb438ccc135d3a1b2">y</a> += <a class="code" href="qscreenvnc__p_8h.html#a8fa35e95d202f9abb7f84c5b13e37d41">MAP_TILE_SIZE</a>;</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;    }</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    socket-&gt;<a class="code" href="classQAbstractSocket.html#a131e4791afa33f87bd3239ec0fd18a8a">flush</a>();</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;    <a class="code" href="qglobal_8h.html#ac29a7ecc02f777dfeb2b68a051561c35">Q_ASSERT</a>(map-&gt;<a class="code" href="classQVNCDirtyMap.html#a0a691fc548d6e86df5301815e7f4d54b">numDirty</a> == 0);</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    <a class="code" href="classQWSDisplay.html#a00d0c5440d4cba3c54d4fe3e019863cf">QWSDisplay::ungrab</a>();</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;}</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;</div><div class="line"><a name="l01898"></a><span class="lineno"><a class="line" href="classQRfbRawEncoder.html#a7d80aad11d95346ed2528a0627fb33c4"> 1898</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQRfbRawEncoder.html#a7d80aad11d95346ed2528a0627fb33c4">QRfbRawEncoder::write</a>()</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;{</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    <a class="code" href="classQWSDisplay.html#a7191753408bd7aebf44040f544578699">QWSDisplay::grab</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;    <a class="code" href="classQVNCDirtyMap.html">QVNCDirtyMap</a> *<a class="code" href="structmap.html">map</a> = <a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#a1b9ef43f1ce3ad45044997429e1b0a9b">dirtyMap</a>();</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;    <a class="code" href="classQTcpSocket.html">QTcpSocket</a> *socket = <a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#a05236fa5dcb003df15b038b566071b85">clientSocket</a>();</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="qwindowsurface__qws_8cpp.html#aa8760ca6039e06c5e8552ea8aad65c88">bytesPerPixel</a> = <a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#a58981b4991647063f4dddec3e0b8c42b">clientBytesPerPixel</a>();</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    <span class="comment">// create a region from the dirty rects and send the region&#39;s merged rects.</span></div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    <a class="code" href="classQRegion.html">QRegion</a> rgn;</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    <span class="keywordflow">if</span> (map) {</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = 0; y &lt; map-&gt;<a class="code" href="classQVNCDirtyMap.html#a32d010dacf92960171c6a5671ce93bbb">mapHeight</a>; ++y) {</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; map-&gt;<a class="code" href="classQVNCDirtyMap.html#aef2c00c67546edbae493a205ba4c8e31">mapWidth</a>; ++x) {</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;                <span class="keywordflow">if</span> (!map-&gt;<a class="code" href="classQVNCDirtyMap.html#a204b63897e380b232408a35b1248c0ac">dirty</a>(x, y))</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;                rgn += <a class="code" href="classQRect.html">QRect</a>(x * <a class="code" href="qscreenvnc__p_8h.html#a8fa35e95d202f9abb7f84c5b13e37d41">MAP_TILE_SIZE</a>, y * MAP_TILE_SIZE,</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;                             MAP_TILE_SIZE, MAP_TILE_SIZE);</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;                map-&gt;<a class="code" href="classQVNCDirtyMap.html#aea6397e930ae1812ed4c76c8d79f0335">setClean</a>(x, y);</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;            }</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;        }</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;        rgn &amp;= <a class="code" href="classQRect.html">QRect</a>(0, 0, <a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#ae879174a529769415c5a65b1115dd835">screen</a>()-&gt;<a class="code" href="classQScreen.html#a1c425d812a3896b721ecaf04bfe82368">deviceWidth</a>(),</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;                     <a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#ae879174a529769415c5a65b1115dd835">screen</a>()-&gt;<a class="code" href="classQScreen.html#af47d3ab178089e0fcb00c016d56dad4b">deviceHeight</a>());</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;    }</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    <span class="keyword">const</span> <a class="code" href="classQVector.html">QVector&lt;QRect&gt;</a> rects = rgn.<a class="code" href="classQRegion.html#ae957459f7642af2accb0212e59e0bd97">rects</a>();</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;    {</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> tmp[2] = { 0, 0 }; <span class="comment">// msg type, padding</span></div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;        socket-&gt;<a class="code" href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">write</a>(tmp, <span class="keyword">sizeof</span>(tmp));</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    }</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    {</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;        <span class="keyword">const</span> <a class="code" href="qglobal_8h.html#a6f3b1e8a589d7539ac4f9592005da8b7">quint16</a> count = htons(rects.size());</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;        socket-&gt;<a class="code" href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">write</a>((<span class="keywordtype">char</span> *)&amp;count, <span class="keyword">sizeof</span>(count));</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    }</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;    <span class="keywordflow">if</span> (rects.size() &lt;= 0) {</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;        <a class="code" href="classQWSDisplay.html#a00d0c5440d4cba3c54d4fe3e019863cf">QWSDisplay::ungrab</a>();</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;    }</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    <span class="keyword">const</span> <a class="code" href="classQImage.html">QImage</a> screenImage = <a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#a0d0ecb85cf3efd13206d05b1903e0a3f">screenImage</a>();</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; rects.size(); ++i) {</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;        <span class="keyword">const</span> <a class="code" href="classQRect.html">QRect</a> tileRect = rects.at(i);</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;        <span class="keyword">const</span> <a class="code" href="classQRfbRect.html">QRfbRect</a> rect(tileRect.<a class="code" href="classQRect.html#a4746075c8a185043d53828c0eacbb18e">x</a>(), tileRect.<a class="code" href="classQRect.html#a884e817a08afca603c1c6c61b1e6bd87">y</a>(),</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;                            tileRect.<a class="code" href="classQRect.html#ad25fa92c785546296b3eadf5ab7cb73f">width</a>(), tileRect.<a class="code" href="classQRect.html#ab9b855c4316071da38bfbc607185c9ba">height</a>());</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;        rect.<a class="code" href="classQRfbRect.html#aab4973da8c73ccb848e183e314be2d1c">write</a>(socket);</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;        <span class="keyword">const</span> <a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a> encoding = htonl(0); <span class="comment">// raw encoding</span></div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;        socket-&gt;<a class="code" href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">write</a>((<span class="keywordtype">char</span> *)&amp;encoding, <span class="keyword">sizeof</span>(encoding));</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;        <span class="keywordtype">int</span> linestep = screenImage.<a class="code" href="classQImage.html#ac673d1d5da391ecaaa9add4ff1b586ce">bytesPerLine</a>();</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;        <span class="keyword">const</span> <a class="code" href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *screendata = screenImage.<a class="code" href="classQImage.html#a3eaa287aa9c14f2620734479a1e9ddb1">scanLine</a>(rect.y)</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;                                  + rect.x * screenImage.<a class="code" href="classQImage.html#afa946f31315267065159774c4cce4124">depth</a>() / 8;</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;<span class="preprocessor">#ifndef QT_NO_QWS_CURSOR</span></div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;        <span class="comment">// hardware cursors must be blended with the screen memory</span></div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> doBlendCursor = <a class="code" href="qscreen__qws_8cpp.html#ad95a3323df4ce8090adbdf624efc1efe">qt_screencursor</a></div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;                                   &amp;&amp; !<a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#ac8ac3973438c4f86f53ec8b3df88c50f">hasClientCursor</a>()</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;                                   &amp;&amp; <a class="code" href="qscreen__qws_8cpp.html#ad95a3323df4ce8090adbdf624efc1efe">qt_screencursor</a>-&gt;<a class="code" href="classQScreenCursor.html#a18f49953babba63777e0f3d1d64c7746">isAccelerated</a>();</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;        <a class="code" href="classQImage.html">QImage</a> tileImage;</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;        <span class="keywordflow">if</span> (doBlendCursor) {</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;            <span class="keyword">const</span> <a class="code" href="classQRect.html">QRect</a> cursorRect = <a class="code" href="qscreen__qws_8cpp.html#ad95a3323df4ce8090adbdf624efc1efe">qt_screencursor</a>-&gt;<a class="code" href="classQScreenCursor.html#a380ffb14991f03e598770ef5cca5130e">boundingRect</a>()</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;                                     .<a class="code" href="classQRect.html#a5f402f79bc4a35736b64881d59daad20">translated</a>(-<a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#ae879174a529769415c5a65b1115dd835">screen</a>()-&gt;<a class="code" href="classQScreen.html#aac4624b38dd6934976d02c2de0d30fd4">offset</a>());</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;            <span class="keywordflow">if</span> (tileRect.<a class="code" href="classQRect.html#ae4d9c85f59251952aa006448ba0cbe2b">intersects</a>(cursorRect)) {</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;                tileImage = screenImage.<a class="code" href="classQImage.html#a46809ce99436f870d15ac22a325d65f0">copy</a>(tileRect);</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;                <a class="code" href="qscreenvnc__qws_8cpp.html#ab8fc2ec473af89f581ae861bef440612">blendCursor</a>(tileImage,</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;                            tileRect.<a class="code" href="classQRect.html#a5f402f79bc4a35736b64881d59daad20">translated</a>(<a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#ae879174a529769415c5a65b1115dd835">screen</a>()-&gt;<a class="code" href="classQScreen.html#aac4624b38dd6934976d02c2de0d30fd4">offset</a>()));</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;                screendata = tileImage.<a class="code" href="classQImage.html#a73462e7ea76c229ccb77829986170388">bits</a>();</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;                linestep = tileImage.<a class="code" href="classQImage.html#ac673d1d5da391ecaaa9add4ff1b586ce">bytesPerLine</a>();</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;            }</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;        }</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;<span class="preprocessor">#endif // QT_NO_QWS_CURSOR</span></div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#a0f788f9a88c962d3a72b9fa4e0679ca8">doPixelConversion</a>()) {</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> bufferSize = rect.w * rect.h * <a class="code" href="qwindowsurface__qws_8cpp.html#aa8760ca6039e06c5e8552ea8aad65c88">bytesPerPixel</a>;</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;            <span class="keywordflow">if</span> (bufferSize &gt; <a class="code" href="classQRfbHextileEncoder.html#a0fc12ab2bdc929c575576475c2c86d5d">buffer</a>.<a class="code" href="classQByteArray.html#a0cd331ee1b05147f3173fb85dfcd0ccd">size</a>())</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;                <a class="code" href="classQRfbHextileEncoder.html#a0fc12ab2bdc929c575576475c2c86d5d">buffer</a>.<a class="code" href="classQByteArray.html#a554ff306a31cd244e2e4181125ea0e05">resize</a>(bufferSize);</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;            <span class="comment">// convert pixels</span></div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;            <span class="keywordtype">char</span> *b = <a class="code" href="classQRfbHextileEncoder.html#a0fc12ab2bdc929c575576475c2c86d5d">buffer</a>.<a class="code" href="classQByteArray.html#a00805e2d9e3237e6c18b3d64859b2ef8">data</a>();</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> bstep = rect.w * <a class="code" href="qwindowsurface__qws_8cpp.html#aa8760ca6039e06c5e8552ea8aad65c88">bytesPerPixel</a>;</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; rect.h; ++i) {</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;                <a class="code" href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">server</a>-&gt;<a class="code" href="classQVNCServer.html#a1869adcc2697083220495a13b1a5749e">convertPixels</a>(b, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)screendata, rect.w);</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;                screendata += linestep;</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;                b += bstep;</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;            }</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;            socket-&gt;<a class="code" href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">write</a>(<a class="code" href="classQRfbHextileEncoder.html#a0fc12ab2bdc929c575576475c2c86d5d">buffer</a>.<a class="code" href="classQByteArray.html#adb3b4e935f60dd123b1b017894901937">constData</a>(), bufferSize);</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; rect.h; ++i) {</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;                socket-&gt;<a class="code" href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">write</a>((<span class="keyword">const</span> <span class="keywordtype">char</span>*)screendata, rect.w * bytesPerPixel);</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;                screendata += linestep;</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;            }</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;        }</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;        <span class="keywordflow">if</span> (socket-&gt;<a class="code" href="classQAbstractSocket.html#ac7e611d92bd1f4936a6d4a391df74c06">state</a>() == <a class="code" href="classQAbstractSocket.html#a0e0649c2321bf5789b2539a02c0a3c7ead45d2f0afb20236d07b77a7a7a03ff61">QAbstractSocket::UnconnectedState</a>)</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    }</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;    socket-&gt;<a class="code" href="classQAbstractSocket.html#a131e4791afa33f87bd3239ec0fd18a8a">flush</a>();</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;    <a class="code" href="classQWSDisplay.html#a00d0c5440d4cba3c54d4fe3e019863cf">QWSDisplay::ungrab</a>();</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;}</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;</div><div class="line"><a name="l02002"></a><span class="lineno"><a class="line" href="classQVNCServer.html#a0d0ecb85cf3efd13206d05b1903e0a3f"> 2002</a></span>&#160;<span class="keyword">inline</span> <a class="code" href="classQImage.html">QImage</a> <a class="code" href="classQVNCServer.html#a0d0ecb85cf3efd13206d05b1903e0a3f">QVNCServer::screenImage</a>()<span class="keyword"> const</span></div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classQImage.html">QImage</a>(qvnc_screen-&gt;base(), qvnc_screen-&gt;deviceWidth(),</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;                  qvnc_screen-&gt;deviceHeight(), qvnc_screen-&gt;linestep(),</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;                  qvnc_screen-&gt;pixelFormat());</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;}</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;</div><div class="line"><a name="l02009"></a><span class="lineno"><a class="line" href="classQVNCServer.html#a1f59308af5a50d4f4d6314a90bb296a6"> 2009</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQVNCServer.html#a1f59308af5a50d4f4d6314a90bb296a6">QVNCServer::checkUpdate</a>()</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;{</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;    <span class="keywordflow">if</span> (!wantUpdate)</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;    <span class="keywordflow">if</span> (dirtyCursor) {</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;<span class="preprocessor">#ifndef QT_NO_QWS_CURSOR</span></div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;        <a class="code" href="qglobal_8h.html#ac29a7ecc02f777dfeb2b68a051561c35">Q_ASSERT</a>(qvnc_cursor);</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;        qvnc_cursor-&gt;write();</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;        dirtyCursor = <span class="keyword">false</span>;</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;        wantUpdate = <span class="keyword">false</span>;</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;    }</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    <span class="keywordflow">if</span> (dirtyMap()-&gt;numDirty &gt; 0) {</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;        <span class="keywordflow">if</span> (encoder)</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;            encoder-&gt;write();</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;        wantUpdate = <span class="keyword">false</span>;</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;    }</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;}</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;</div><div class="line"><a name="l02031"></a><span class="lineno"><a class="line" href="classQVNCServer.html#a32528cef6fe4bada4f6c3a566b9e670c"> 2031</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQVNCServer.html#a32528cef6fe4bada4f6c3a566b9e670c">QVNCServer::discardClient</a>()</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;{</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    <a class="code" href="qapplication__mac_8mm.html#a641b67476a9fd65d994c204ce786996f">timer</a>-&gt;stop();</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    state = Unconnected;</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;    <span class="keyword">delete</span> encoder;</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;    encoder = 0;</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;<span class="preprocessor">#ifndef QT_NO_QWS_CURSOR</span></div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;    <span class="keyword">delete</span> qvnc_cursor;</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;    qvnc_cursor = 0;</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;    <span class="keywordflow">if</span> (!qvnc_screen-&gt;screen() &amp;&amp; !qvnc_screen-&gt;d_ptr-&gt;noDisablePainting &amp;&amp; <a class="code" href="classQWSServer.html#ac0890baa7d49c5bd5421fb2de3b4342b">QWSServer::instance</a>())</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;        <a class="code" href="classQWSServer.html#ac0890baa7d49c5bd5421fb2de3b4342b">QWSServer::instance</a>()-&gt;<a class="code" href="classQWSServer.html#ace7e17dd1221fde3399d43fab4dd7832">enablePainting</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;}</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;<span class="comment">//===========================================================================</span></div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;</div><div class="line"><a name="l02086"></a><span class="lineno"><a class="line" href="classQVNCScreen.html#af37051542d694de955150ec4e4ecfd5e"> 2086</a></span>&#160;<a class="code" href="classQVNCScreen.html#af37051542d694de955150ec4e4ecfd5e">QVNCScreen::QVNCScreen</a>(<span class="keywordtype">int</span> display_id)</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;    : <a class="code" href="classQProxyScreen.html">QProxyScreen</a>(display_id, VNCClass)</div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;{</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;    <a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a> = <span class="keyword">new</span> <a class="code" href="classQVNCScreen.html#a96e30559a6f63316d171dcbda008f9e6">QVNCScreenPrivate</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;}</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;</div><div class="line"><a name="l02095"></a><span class="lineno"><a class="line" href="classQVNCScreen.html#a5faafd1ffc866d83476599657eebe3af"> 2095</a></span>&#160;<a class="code" href="classQVNCScreen.html#a5faafd1ffc866d83476599657eebe3af">QVNCScreen::~QVNCScreen</a>()</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;{</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a>;</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;}</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;</div><div class="line"><a name="l02103"></a><span class="lineno"><a class="line" href="classQVNCScreen.html#a14bb249891c3faf4f3ae83972b4e53d8"> 2103</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQVNCScreen.html#a14bb249891c3faf4f3ae83972b4e53d8">QVNCScreen::setDirty</a>(<span class="keyword">const</span> <a class="code" href="classQRect.html">QRect</a> &amp;rect)</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;{</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    <a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a>-&gt;<a class="code" href="classQVNCScreenPrivate.html#aa0b8785a29c9371e69bb1b1ecdab70b6">setDirty</a>(rect);</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;}</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;</div><div class="line"><a name="l02108"></a><span class="lineno"><a class="line" href="classQVNCScreenPrivate.html#aa0b8785a29c9371e69bb1b1ecdab70b6"> 2108</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQVNCScreenPrivate.html#aa0b8785a29c9371e69bb1b1ecdab70b6">QVNCScreenPrivate::setDirty</a>(<span class="keyword">const</span> <a class="code" href="classQRect.html">QRect</a>&amp; rect, <span class="keywordtype">bool</span> force)</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;{</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;    <span class="keywordflow">if</span> (rect.<a class="code" href="classQRect.html#a717b2580ff610d5aecf190c815b82ecd">isEmpty</a>())</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;    <span class="keywordflow">if</span> (q_ptr-&gt;screen())</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;        q_ptr-&gt;screen()-&gt;setDirty(rect);</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;    <span class="keywordflow">if</span> (!vncServer || !vncServer-&gt;isConnected())</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;    <span class="keyword">const</span> <a class="code" href="classQRect.html">QRect</a> r = rect.<a class="code" href="classQRect.html#a5f402f79bc4a35736b64881d59daad20">translated</a>(-q_ptr-&gt;offset());</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> x1 = r.<a class="code" href="classQRect.html#a4746075c8a185043d53828c0eacbb18e">x</a>() / <a class="code" href="qscreenvnc__p_8h.html#a8fa35e95d202f9abb7f84c5b13e37d41">MAP_TILE_SIZE</a>;</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;    <span class="keywordtype">int</span> y = r.<a class="code" href="classQRect.html#a884e817a08afca603c1c6c61b1e6bd87">y</a>() / <a class="code" href="qscreenvnc__p_8h.html#a8fa35e95d202f9abb7f84c5b13e37d41">MAP_TILE_SIZE</a>;</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;    <span class="keywordflow">for</span> (; (y &lt;= r.<a class="code" href="classQRect.html#a3581f0c8e44245fa60abec514aaa51ea">bottom</a>() / <a class="code" href="qscreenvnc__p_8h.html#a8fa35e95d202f9abb7f84c5b13e37d41">MAP_TILE_SIZE</a>) &amp;&amp; y &lt; dirty-&gt;mapHeight; y++)</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = x1; (x &lt;= r.<a class="code" href="classQRect.html#a2f1858b97266e2ba0be6210e3347f390">right</a>() / <a class="code" href="qscreenvnc__p_8h.html#a8fa35e95d202f9abb7f84c5b13e37d41">MAP_TILE_SIZE</a>) &amp;&amp; x &lt; dirty-&gt;mapWidth; x++)</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;            dirty-&gt;setDirty(x, y, force);</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;    vncServer-&gt;setDirty();</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;}</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;</div><div class="line"><a name="l02129"></a><span class="lineno"><a class="line" href="qscreenvnc__qws_8cpp.html#a3ee9fe747d9727f06c937da2c467be5d"> 2129</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="qscreenvnc__qws_8cpp.html#a3ee9fe747d9727f06c937da2c467be5d">getDisplayId</a>(<span class="keyword">const</span> <a class="code" href="classQString.html">QString</a> &amp;spec)</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;{</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;    <a class="code" href="classQRegExp.html">QRegExp</a> regexp(<a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;:(\\d+)\\b&quot;</span>));</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;    <span class="keywordflow">if</span> (regexp.<a class="code" href="classQRegExp.html#a5c465d7668bbe8497652557ef82fb783">lastIndexIn</a>(spec) != -1) {</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;        <span class="keyword">const</span> <a class="code" href="classQString.html">QString</a> capture = regexp.<a class="code" href="classQRegExp.html#a755be28c9b1f7a1193a9a721485694a9">cap</a>(1);</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;        <span class="keywordflow">return</span> capture.<a class="code" href="classQString.html#a98f691fb039c264a986142c833223efc">toInt</a>();</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;    }</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;}</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;</div><div class="line"><a name="l02142"></a><span class="lineno"><a class="line" href="classQVNCScreen.html#ada6bd3594408fc25a84a15b23c585aae"> 2142</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQVNCScreen.html#ada6bd3594408fc25a84a15b23c585aae">QVNCScreen::connect</a>(<span class="keyword">const</span> <a class="code" href="classQString.html">QString</a> &amp;displaySpec)</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;{</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;    <a class="code" href="classQString.html">QString</a> dspec = displaySpec;</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;    <span class="keywordflow">if</span> (dspec.<a class="code" href="classQString.html#a23d696df792149beab8d90125195cfee">startsWith</a>(<a class="code" href="classQLatin1String.html">QLatin1String</a>(<span class="stringliteral">&quot;vnc:&quot;</span>), <a class="code" href="namespaceQt.html#aa2ba2914e203bc3a4cad512b57cc7ab8a078e118cdbbf84fce6d89f68cc2c7e1b">Qt::CaseInsensitive</a>))</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;        dspec = dspec.<a class="code" href="classQString.html#a0e3c8883986091e3e82971b0574fd882">mid</a>(<a class="code" href="classQString.html#a09b8b144ffd130ce7d065bacf7cd495e">QString::fromLatin1</a>(<span class="stringliteral">&quot;vnc:&quot;</span>).<a class="code" href="classQString.html#a90cf1487aabf630da694b3ad4b032fac">size</a>());</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dspec.<a class="code" href="classQString.html#ac679c7d23beb9bf676e58fc0a36528f1">compare</a>(<a class="code" href="classQLatin1String.html">QLatin1String</a>(<span class="stringliteral">&quot;vnc&quot;</span>), <a class="code" href="namespaceQt.html#aa2ba2914e203bc3a4cad512b57cc7ab8a078e118cdbbf84fce6d89f68cc2c7e1b">Qt::CaseInsensitive</a>) == 0)</div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;        dspec = <a class="code" href="classQString.html">QString</a>();</div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;</div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;    <span class="keyword">const</span> <a class="code" href="classQString.html">QString</a> displayIdSpec = <a class="code" href="classQString.html#a09b8b144ffd130ce7d065bacf7cd495e">QString::fromLatin1</a>(<span class="stringliteral">&quot; :%1&quot;</span>).<a class="code" href="classQString.html#adf76a6e2b0ad1299026263e535325a60">arg</a>(<a class="code" href="classQScreen.html#ab6a05c93e58c3228ddd60027b6207403">displayId</a>);</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;    <span class="keywordflow">if</span> (dspec.<a class="code" href="classQString.html#a9ff009a9f16492af5556d13a4e7ac5ef">endsWith</a>(displayIdSpec))</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;        dspec = dspec.<a class="code" href="classQString.html#a8ac5c7669060295d274a0db1c9bcb5ca">left</a>(dspec.<a class="code" href="classQString.html#a90cf1487aabf630da694b3ad4b032fac">size</a>() - displayIdSpec.<a class="code" href="classQString.html#a90cf1487aabf630da694b3ad4b032fac">size</a>());</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;    <a class="code" href="classQStringList.html">QStringList</a> args = dspec.<a class="code" href="classQString.html#a523a85a2871b7d22ea87afc82c0733ed">split</a>(<a class="code" href="structQLatin1Char.html">QLatin1Char</a>(<span class="charliteral">&#39;:&#39;</span>),</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;                                   <a class="code" href="classQString.html#a7219a82554025f226a2c36104c45b323afa92b85d1b85ada3bce561efa7e06e32">QString::SkipEmptyParts</a>);</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;    <a class="code" href="classQRegExp.html">QRegExp</a> refreshRegexp(<a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;^refreshrate=(\\d+)$&quot;</span>));</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="qfontsubset_8cpp.html#a83028518b8b40ed14c1c522b71d2eaa4">index</a> = args.<a class="code" href="classQStringList.html#af354896049e03e1fb7d4e2329917cb9c">indexOf</a>(refreshRegexp);</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;    <span class="keywordflow">if</span> (index &gt;= 0) {</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;        <a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a>-&gt;<a class="code" href="classQVNCScreenPrivate.html#aafd5b922b090da0a059d61f92c1947a3">refreshRate</a> = refreshRegexp.<a class="code" href="classQRegExp.html#a755be28c9b1f7a1193a9a721485694a9">cap</a>(1).<a class="code" href="classQString.html#a98f691fb039c264a986142c833223efc">toInt</a>();</div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;        args.<a class="code" href="classQList.html#a318a24dd49568516ad82cc341fe1aada">removeAt</a>(index);</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;        dspec = args.<a class="code" href="classQStringList.html#a4d14f4987725926a5c812991a27d0f91">join</a>(<a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;:&quot;</span>));</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;    }</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;    <a class="code" href="classQString.html">QString</a> driver = dspec;</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;    <span class="keywordtype">int</span> colon = driver.<a class="code" href="classQString.html#afffb887b72dd3ae599f1e6205c5248d9">indexOf</a>(<a class="code" href="structQLatin1Char.html">QLatin1Char</a>(<span class="charliteral">&#39;:&#39;</span>));</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;    <span class="keywordflow">if</span> (colon &gt;= 0)</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;        driver.<a class="code" href="classQString.html#a0a103dbfef13467b97ae5b7e4ec59b19">truncate</a>(colon);</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQScreenDriverFactory.html#a75cbf64e389fae4e50919a2e3b684146">QScreenDriverFactory::keys</a>().contains(driver, <a class="code" href="namespaceQt.html#aa2ba2914e203bc3a4cad512b57cc7ab8a078e118cdbbf84fce6d89f68cc2c7e1b">Qt::CaseInsensitive</a>)) {</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> <span class="keywordtype">id</span> = <a class="code" href="qscreenvnc__qws_8cpp.html#a3ee9fe747d9727f06c937da2c467be5d">getDisplayId</a>(dspec);</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;        <a class="code" href="classQScreen.html">QScreen</a> *s = <a class="code" href="qscreen__qws_8cpp.html#a51bc849bcdbbb1881a97816ee428f1d0">qt_get_screen</a>(<span class="keywordtype">id</span>, dspec.<a class="code" href="classQString.html#a9491884b49163344c4a03c738125f93d">toLatin1</a>().<a class="code" href="classQByteArray.html#adb3b4e935f60dd123b1b017894901937">constData</a>());</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;        <span class="keywordflow">if</span> (s-&gt;<a class="code" href="classQScreen.html#a53281995d29a0686ba3473264eea7aff">pixelFormat</a>() == <a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dabee95196f4682d4f4d1eb1220859e8d2">QImage::Format_Indexed8</a></div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;            || s-&gt;<a class="code" href="classQScreen.html#a53281995d29a0686ba3473264eea7aff">pixelFormat</a>() == <a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8da686edf14b41199b4dfb4ab533966d849">QImage::Format_Invalid</a> &amp;&amp; s-&gt;<a class="code" href="classQScreen.html#a7a86703b88f42ff6b31a680d7c23d692">depth</a>() == 8)</div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;            <a class="code" href="qglobal_8h.html#a2b6f45310c02f3da2696509cc8823bf9">qFatal</a>(<span class="stringliteral">&quot;QVNCScreen: unsupported screen format&quot;</span>);</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;        <a class="code" href="classQProxyScreen.html#a2c99f3a3d7fa7c7c9feca8cc5b4729fc">setScreen</a>(s);</div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;    } <span class="keywordflow">else</span> { <span class="comment">// create virtual screen</span></div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;<span class="preprocessor">#if Q_BYTE_ORDER == Q_BIG_ENDIAN</span></div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;        <a class="code" href="classQScreen.html#acdd4a65e0f2ffc5fa498d25eaf1bd557">QScreen::setFrameBufferLittleEndian</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;</div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;        <a class="code" href="classQScreen.html#a746610a98dc5f1be67b0b50d61e362be">d</a> = <a class="code" href="qglobal_8h.html#a0b57963061bee602c8b6d3c62cf7e1b6">qgetenv</a>(<span class="stringliteral">&quot;QWS_DEPTH&quot;</span>).<a class="code" href="classQByteArray.html#a186c634dc462f478fd2a45ee713f2c58">toInt</a>();</div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classQScreen.html#a746610a98dc5f1be67b0b50d61e362be">d</a>)</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;            <a class="code" href="classQScreen.html#a746610a98dc5f1be67b0b50d61e362be">d</a> = 16;</div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;</div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;        <a class="code" href="classQByteArray.html">QByteArray</a> str = <a class="code" href="qglobal_8h.html#a0b57963061bee602c8b6d3c62cf7e1b6">qgetenv</a>(<span class="stringliteral">&quot;QWS_SIZE&quot;</span>);</div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;        <span class="keywordflow">if</span>(!str.<a class="code" href="classQByteArray.html#a060e3866557ed4b6d98984316f7d700e">isEmpty</a>()) {</div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;            sscanf(str.<a class="code" href="classQByteArray.html#adb3b4e935f60dd123b1b017894901937">constData</a>(), <span class="stringliteral">&quot;%dx%d&quot;</span>, &amp;<a class="code" href="classQScreen.html#ab9a6e6e35bc863e32b18e9f0eebfb689">w</a>, &amp;<a class="code" href="classQScreen.html#a71472bcc73bb7f27c8b285787fbdae68">h</a>);</div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;            <a class="code" href="classQScreen.html#ab98233bd2b8397c202b4de4850cea487">dw</a> = <a class="code" href="classQScreen.html#ab9a6e6e35bc863e32b18e9f0eebfb689">w</a>;</div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;            <a class="code" href="classQScreen.html#a3040e5639aee4129a4086e7c36fe9575">dh</a> = <a class="code" href="classQScreen.html#a71472bcc73bb7f27c8b285787fbdae68">h</a>;</div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;            <a class="code" href="classQScreen.html#ab98233bd2b8397c202b4de4850cea487">dw</a> = <a class="code" href="classQScreen.html#ab9a6e6e35bc863e32b18e9f0eebfb689">w</a> = 640;</div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;            <a class="code" href="classQScreen.html#a3040e5639aee4129a4086e7c36fe9575">dh</a> = <a class="code" href="classQScreen.html#a71472bcc73bb7f27c8b285787fbdae68">h</a> = 480;</div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;        }</div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;</div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;        <span class="keyword">const</span> <a class="code" href="classQStringList.html">QStringList</a> args = displaySpec.<a class="code" href="classQString.html#a523a85a2871b7d22ea87afc82c0733ed">split</a>(<a class="code" href="structQLatin1Char.html">QLatin1Char</a>(<span class="charliteral">&#39;:&#39;</span>),</div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;                                                   <a class="code" href="classQString.html#a7219a82554025f226a2c36104c45b323afa92b85d1b85ada3bce561efa7e06e32">QString::SkipEmptyParts</a>);</div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;</div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;        <span class="keywordflow">if</span> (args.<a class="code" href="classQStringList.html#a5ae9ca4dea38e854137506d5c93f03f4">contains</a>(<a class="code" href="classQLatin1String.html">QLatin1String</a>(<span class="stringliteral">&quot;paintonscreen&quot;</span>), <a class="code" href="namespaceQt.html#aa2ba2914e203bc3a4cad512b57cc7ab8a078e118cdbbf84fce6d89f68cc2c7e1b">Qt::CaseInsensitive</a>))</div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;            <a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a>-&gt;<a class="code" href="classQVNCScreenPrivate.html#acaf0e414a179f670db81280965dfb6ed">doOnScreenSurface</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;        <a class="code" href="classQRegExp.html">QRegExp</a> depthRegexp(<a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;^depth=(\\d+)$&quot;</span>));</div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;        <span class="keywordflow">if</span> (args.<a class="code" href="classQStringList.html#af354896049e03e1fb7d4e2329917cb9c">indexOf</a>(depthRegexp) != -1)</div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;            <a class="code" href="classQScreen.html#a746610a98dc5f1be67b0b50d61e362be">d</a> = depthRegexp.cap(1).toInt();</div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;</div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;        <a class="code" href="classQRegExp.html">QRegExp</a> sizeRegexp(<a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;^size=(\\d+)x(\\d+)$&quot;</span>));</div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;        <span class="keywordflow">if</span> (args.<a class="code" href="classQStringList.html#af354896049e03e1fb7d4e2329917cb9c">indexOf</a>(sizeRegexp) != -1) {</div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;            <a class="code" href="classQScreen.html#ab98233bd2b8397c202b4de4850cea487">dw</a> = <a class="code" href="classQScreen.html#ab9a6e6e35bc863e32b18e9f0eebfb689">w</a> = sizeRegexp.<a class="code" href="classQRegExp.html#a755be28c9b1f7a1193a9a721485694a9">cap</a>(1).<a class="code" href="classQString.html#a98f691fb039c264a986142c833223efc">toInt</a>();</div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;            <a class="code" href="classQScreen.html#a3040e5639aee4129a4086e7c36fe9575">dh</a> = <a class="code" href="classQScreen.html#a71472bcc73bb7f27c8b285787fbdae68">h</a> = sizeRegexp.<a class="code" href="classQRegExp.html#a755be28c9b1f7a1193a9a721485694a9">cap</a>(2).<a class="code" href="classQString.html#a98f691fb039c264a986142c833223efc">toInt</a>();</div><div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;        }</div><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;</div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;        <span class="comment">// Handle display physical size spec.</span></div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;        <a class="code" href="classQRegExp.html">QRegExp</a> mmWidthRegexp(<a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;^mmWidth=?(\\d+)$&quot;</span>));</div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;        <span class="keywordflow">if</span> (args.<a class="code" href="classQStringList.html#af354896049e03e1fb7d4e2329917cb9c">indexOf</a>(mmWidthRegexp) != -1) {</div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> mmWidth = mmWidthRegexp.<a class="code" href="classQRegExp.html#a755be28c9b1f7a1193a9a721485694a9">cap</a>(1).<a class="code" href="classQString.html#a98f691fb039c264a986142c833223efc">toInt</a>();</div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;            <span class="keywordflow">if</span> (mmWidth &gt; 0)</div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;                <a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a>-&gt;<a class="code" href="classQVNCScreenPrivate.html#a1db739aab20a1e2eea9706878be9a7a3">dpiX</a> = <a class="code" href="classQScreen.html#ab98233bd2b8397c202b4de4850cea487">dw</a> * 25.4 / mmWidth;</div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;        }</div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;        <a class="code" href="classQRegExp.html">QRegExp</a> mmHeightRegexp(<a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;^mmHeight=?(\\d+)$&quot;</span>));</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;        <span class="keywordflow">if</span> (args.<a class="code" href="classQStringList.html#af354896049e03e1fb7d4e2329917cb9c">indexOf</a>(mmHeightRegexp) != -1) {</div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> mmHeight = mmHeightRegexp.<a class="code" href="classQRegExp.html#a755be28c9b1f7a1193a9a721485694a9">cap</a>(1).<a class="code" href="classQString.html#a98f691fb039c264a986142c833223efc">toInt</a>();</div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;            <span class="keywordflow">if</span> (mmHeight &gt; 0)</div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;                <a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a>-&gt;<a class="code" href="classQVNCScreenPrivate.html#a6048b8a0d4fc77ec24f13a6f464f204d">dpiY</a> = <a class="code" href="classQScreen.html#a3040e5639aee4129a4086e7c36fe9575">dh</a> * 25.4 / mmHeight;</div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;        }</div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;        <a class="code" href="classQRegExp.html">QRegExp</a> dpiRegexp(<a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;^dpi=(\\d+)(?:,(\\d+))?$&quot;</span>));</div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;        <span class="keywordflow">if</span> (args.<a class="code" href="classQStringList.html#af354896049e03e1fb7d4e2329917cb9c">indexOf</a>(dpiRegexp) != -1) {</div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;            <span class="keyword">const</span> <a class="code" href="qglobal_8h.html#abe7fa83b9984f2a0bbd470063c14e0f5">qreal</a> dpiX = dpiRegexp.<a class="code" href="classQRegExp.html#a755be28c9b1f7a1193a9a721485694a9">cap</a>(1).<a class="code" href="classQString.html#a42b5e7fb62765d02dae680c179e402e8">toFloat</a>();</div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;            <span class="keyword">const</span> <a class="code" href="qglobal_8h.html#abe7fa83b9984f2a0bbd470063c14e0f5">qreal</a> dpiY = dpiRegexp.<a class="code" href="classQRegExp.html#a755be28c9b1f7a1193a9a721485694a9">cap</a>(2).<a class="code" href="classQString.html#a42b5e7fb62765d02dae680c179e402e8">toFloat</a>();</div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;            <span class="keywordflow">if</span> (dpiX &gt; 0)</div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;                <a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a>-&gt;<a class="code" href="classQVNCScreenPrivate.html#a1db739aab20a1e2eea9706878be9a7a3">dpiX</a> = dpiX;</div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;            <a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a>-&gt;<a class="code" href="classQVNCScreenPrivate.html#a6048b8a0d4fc77ec24f13a6f464f204d">dpiY</a> = (dpiY &gt; 0 ? dpiY : dpiX);</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;        }</div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;</div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;        <span class="keywordflow">if</span> (args.<a class="code" href="classQStringList.html#a5ae9ca4dea38e854137506d5c93f03f4">contains</a>(<a class="code" href="classQLatin1String.html">QLatin1String</a>(<span class="stringliteral">&quot;noDisablePainting&quot;</span>)))</div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;            <a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a>-&gt;<a class="code" href="classQVNCScreenPrivate.html#a976ded54ba514355decc258812050114">noDisablePainting</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;</div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;        <a class="code" href="classQWSServer.html#a64a71b83f2ab6131217b4d6206beab05">QWSServer::setDefaultMouse</a>(<span class="stringliteral">&quot;None&quot;</span>);</div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;        <a class="code" href="classQWSServer.html#a3ffec91d9fde21a59cb085a685e70bc1">QWSServer::setDefaultKeyboard</a>(<span class="stringliteral">&quot;None&quot;</span>);</div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;</div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;        <a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a>-&gt;<a class="code" href="classQVNCScreenPrivate.html#aeb0313da501a844f15a4cf4cee45ec1e">configure</a>();</div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;    }</div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;</div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;    <span class="comment">// XXX</span></div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;    <a class="code" href="qscreen__qws_8cpp.html#aeef8c0617d185c57494b5c9bdbd7e490">qt_screen</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;</div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;}</div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;</div><div class="line"><a name="l02251"></a><span class="lineno"><a class="line" href="classQVNCScreen.html#a5dd9c9f63a24115a07e8ab1f982abfee"> 2251</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQVNCScreen.html#a5dd9c9f63a24115a07e8ab1f982abfee">QVNCScreen::disconnect</a>()</div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;{</div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;    <a class="code" href="classQProxyScreen.html#a4f43aecc6adbbe98d43e8e760c5f2f38">QProxyScreen::disconnect</a>();</div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;<span class="preprocessor">#if !defined(QT_NO_QWS_MULTIPROCESS) &amp;&amp; !defined(QT_NO_SHAREDMEMORY)</span></div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;    <a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a>-&gt;<a class="code" href="classQVNCScreenPrivate.html#a85eef2dc19b7bc646e1778d6ca3105aa">shm</a>.<a class="code" href="classQSharedMemory.html#a7d0efb9d24586fc46625b073487e0a7a">detach</a>();</div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;}</div><div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;</div><div class="line"><a name="l02262"></a><span class="lineno"><a class="line" href="classQVNCScreen.html#a87b7e4cd6d9e42e54a1b56b3285d854e"> 2262</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQVNCScreen.html#a87b7e4cd6d9e42e54a1b56b3285d854e">QVNCScreen::initDevice</a>()</div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;{</div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classQProxyScreen.html#a4fce56ac727f603c2442930bdde0cc0c">QProxyScreen::screen</a>() &amp;&amp; <a class="code" href="classQScreen.html#a746610a98dc5f1be67b0b50d61e362be">d</a> == 4) {</div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;        <a class="code" href="classQScreen.html#a16ae332649863bf4ff03dcdd30f3eeaf">screencols</a> = 16;</div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;        <span class="keywordtype">int</span> val = 0;</div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> idx = 0; idx &lt; 16; idx++, val += 17) {</div><div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;            <a class="code" href="classQScreen.html#ab29a84d259606b1bf89049a8f9d37c9f">screenclut</a>[idx] = <a class="code" href="qrgb_8h.html#ad893ba1106079f0892fc33504a2879bd">qRgb</a>(val, val, val);</div><div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;        }</div><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;    }</div><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;    <a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a>-&gt;<a class="code" href="classQVNCScreenPrivate.html#ac2f135e3dd823b71609f3f0e8a0ca15b">vncServer</a> = <span class="keyword">new</span> <a class="code" href="classQVNCScreen.html#ae099ed9facfc13cf2355f993279bf43c">QVNCServer</a>(<span class="keyword">this</span>, <a class="code" href="classQScreen.html#ab6a05c93e58c3228ddd60027b6207403">displayId</a>);</div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;    <a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a>-&gt;<a class="code" href="classQVNCScreenPrivate.html#ac2f135e3dd823b71609f3f0e8a0ca15b">vncServer</a>-&gt;<a class="code" href="classQVNCServer.html#a0262d514e2f9e2d469b3bff940985dd9">setRefreshRate</a>(<a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a>-&gt;<a class="code" href="classQVNCScreenPrivate.html#aafd5b922b090da0a059d61f92c1947a3">refreshRate</a>);</div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;</div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="classQFbScreen.html#ab038cfefb768d552bde86c4312884f57">depth</a>()) {</div><div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;<span class="preprocessor">#ifdef QT_QWS_DEPTH_32</span></div><div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;    <span class="keywordflow">case</span> 32:</div><div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;        <a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a>-&gt;<a class="code" href="classQVNCScreenPrivate.html#addc84e23f2b86445c11a3d44a2bee677">dirty</a> = <span class="keyword">new</span> <a class="code" href="classQVNCDirtyMapOptimized.html">QVNCDirtyMapOptimized&lt;quint32&gt;</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;<span class="preprocessor">#ifdef QT_QWS_DEPTH_24</span></div><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;    <span class="keywordflow">case</span> 24:</div><div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;        <a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a>-&gt;<a class="code" href="classQVNCScreenPrivate.html#addc84e23f2b86445c11a3d44a2bee677">dirty</a> = <span class="keyword">new</span> <a class="code" href="classQVNCDirtyMapOptimized.html">QVNCDirtyMapOptimized&lt;qrgb888&gt;</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;<span class="preprocessor">#ifdef QT_QWS_DEPTH_18</span></div><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;    <span class="keywordflow">case</span> 18:</div><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;        <a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a>-&gt;<a class="code" href="classQVNCScreenPrivate.html#addc84e23f2b86445c11a3d44a2bee677">dirty</a> = <span class="keyword">new</span> <a class="code" href="classQVNCDirtyMapOptimized.html">QVNCDirtyMapOptimized&lt;qrgb666&gt;</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;<span class="preprocessor">#ifdef QT_QWS_DEPTH_16</span></div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;    <span class="keywordflow">case</span> 16:</div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;        <a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a>-&gt;<a class="code" href="classQVNCScreenPrivate.html#addc84e23f2b86445c11a3d44a2bee677">dirty</a> = <span class="keyword">new</span> <a class="code" href="classQVNCDirtyMapOptimized.html">QVNCDirtyMapOptimized&lt;quint16&gt;</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;<span class="preprocessor">#ifdef QT_QWS_DEPTH_15</span></div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;    <span class="keywordflow">case</span> 15:</div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;        <a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a>-&gt;<a class="code" href="classQVNCScreenPrivate.html#addc84e23f2b86445c11a3d44a2bee677">dirty</a> = <span class="keyword">new</span> <a class="code" href="classQVNCDirtyMapOptimized.html">QVNCDirtyMapOptimized&lt;qrgb555&gt;</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;<span class="preprocessor">#ifdef QT_QWS_DEPTH_12</span></div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;    <span class="keywordflow">case</span> 12:</div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;        <a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a>-&gt;<a class="code" href="classQVNCScreenPrivate.html#addc84e23f2b86445c11a3d44a2bee677">dirty</a> = <span class="keyword">new</span> <a class="code" href="classQVNCDirtyMapOptimized.html">QVNCDirtyMapOptimized&lt;qrgb444&gt;</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;<span class="preprocessor">#ifdef QT_QWS_DEPTH_8</span></div><div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;    <span class="keywordflow">case</span> 8:</div><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;        <a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a>-&gt;<a class="code" href="classQVNCScreenPrivate.html#addc84e23f2b86445c11a3d44a2bee677">dirty</a> = <span class="keyword">new</span> <a class="code" href="classQVNCDirtyMapOptimized.html">QVNCDirtyMapOptimized&lt;quint8&gt;</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;        <a class="code" href="qglobal_8h.html#ac70e1c2698aa808d9baf4bda9e9ee891">qWarning</a>(<span class="stringliteral">&quot;QVNCScreen::initDevice: No support for screen depth %d&quot;</span>,</div><div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;                 <a class="code" href="classQFbScreen.html#ab038cfefb768d552bde86c4312884f57">depth</a>());</div><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;        <a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a>-&gt;<a class="code" href="classQVNCScreenPrivate.html#addc84e23f2b86445c11a3d44a2bee677">dirty</a> = 0;</div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;    }</div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;</div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;</div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> ok = <a class="code" href="classQProxyScreen.html#a1b8e06f5f92aa097a6a50f823eeccd76">QProxyScreen::initDevice</a>();</div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;<span class="preprocessor">#ifndef QT_NO_QWS_CURSOR</span></div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;    <a class="code" href="qscreen__qws_8cpp.html#ad95a3323df4ce8090adbdf624efc1efe">qt_screencursor</a> = <span class="keyword">new</span> <a class="code" href="classQVNCScreen.html#a2186b949b851a1d0110c0c56a690993a">QVNCCursor</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQProxyScreen.html#a4fce56ac727f603c2442930bdde0cc0c">QProxyScreen::screen</a>())</div><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;        <span class="keywordflow">return</span> ok;</div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;</div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;    <span class="comment">// Disable painting if there is only 1 display and nothing is attached to the VNC server</span></div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a>-&gt;<a class="code" href="classQVNCScreenPrivate.html#a976ded54ba514355decc258812050114">noDisablePainting</a>)</div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;        <a class="code" href="classQWSServer.html#ac0890baa7d49c5bd5421fb2de3b4342b">QWSServer::instance</a>()-&gt;<a class="code" href="classQWSServer.html#ace7e17dd1221fde3399d43fab4dd7832">enablePainting</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;</div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;}</div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;</div><div class="line"><a name="l02335"></a><span class="lineno"><a class="line" href="classQVNCScreen.html#a3c50caefd970e34929cd7ab962104f99"> 2335</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQVNCScreen.html#a3c50caefd970e34929cd7ab962104f99">QVNCScreen::shutdownDevice</a>()</div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;{</div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;    <a class="code" href="classQProxyScreen.html#accac439a1505ebb694f33c7c72c40c9d">QProxyScreen::shutdownDevice</a>();</div><div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a>-&gt;<a class="code" href="classQVNCScreenPrivate.html#ac2f135e3dd823b71609f3f0e8a0ca15b">vncServer</a>;</div><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">d_ptr</a>-&gt;<a class="code" href="classQVNCScreenPrivate.html#addc84e23f2b86445c11a3d44a2bee677">dirty</a>;</div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;}</div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;</div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;<a class="code" href="qglobal_8h.html#af0211888b9fea89f8a616cd6566c521e">QT_END_NAMESPACE</a></div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;</div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;<span class="preprocessor">#endif // QT_NO_QWS_VNC</span></div><div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a5e0aa1dd3ca52dc24138e9a91ffccc09"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a5e0aa1dd3ca52dc24138e9a91ffccc09">Qt::Key_A</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00729">qnamespace.h:729</a></div></div>
<div class="ttc" id="qscreen__qws_8cpp_html_aeef8c0617d185c57494b5c9bdbd7e490"><div class="ttname"><a href="qscreen__qws_8cpp.html#aeef8c0617d185c57494b5c9bdbd7e490">qt_screen</a></div><div class="ttdeci">Q_GUI_EXPORT QScreen * qt_screen</div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8cpp_source.html#l00069">qscreen_qws.cpp:69</a></div></div>
<div class="ttc" id="classQPainter_html"><div class="ttname"><a href="classQPainter.html">QPainter</a></div><div class="ttdoc">The QPainter class performs low-level painting on widgets and other paint devices. </div><div class="ttdef"><b>Definition:</b> <a href="qpainter_8h_source.html#l00086">qpainter.h:86</a></div></div>
<div class="ttc" id="classQProxyScreenCursor_html_a43bb18e4db7f1eddb477d61d4ba64598"><div class="ttname"><a href="classQProxyScreenCursor.html#a43bb18e4db7f1eddb477d61d4ba64598">QProxyScreenCursor::screenCursor</a></div><div class="ttdeci">QScreenCursor * screenCursor() const</div><div class="ttdoc">Returns the real screen cursor used by the proxy screen cursor. </div><div class="ttdef"><b>Definition:</b> <a href="qscreenproxy__qws_8cpp_source.html#l00094">qscreenproxy_qws.cpp:94</a></div></div>
<div class="ttc" id="classQTimer_html_a150c89e4dbc6aba7c34d550b35fd834f"><div class="ttname"><a href="classQTimer.html#a150c89e4dbc6aba7c34d550b35fd834f">QTimer::setSingleShot</a></div><div class="ttdeci">void setSingleShot(bool singleShot)</div><div class="ttdef"><b>Definition:</b> <a href="qtimer_8h_source.html#l00108">qtimer.h:108</a></div></div>
<div class="ttc" id="classQScreen_html_a16ae332649863bf4ff03dcdd30f3eeaf"><div class="ttname"><a href="classQScreen.html#a16ae332649863bf4ff03dcdd30f3eeaf">QScreen::screencols</a></div><div class="ttdeci">int screencols</div><div class="ttdoc">the number of entries in the color table </div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00309">qscreen_qws.h:309</a></div></div>
<div class="ttc" id="classQApplication_html_a8f86c58d22c7f245554ee187be7e0a8fa6f91cbc4e41b92404aed5f7867577686"><div class="ttname"><a href="classQApplication.html#a8f86c58d22c7f245554ee187be7e0a8fa6f91cbc4e41b92404aed5f7867577686">QApplication::GuiServer</a></div><div class="ttdef"><b>Definition:</b> <a href="qapplication_8h_source.html#l00123">qapplication.h:123</a></div></div>
<div class="ttc" id="classQRfbHextileEncoder_html_af3a07f58adda4789581e945adac3249c"><div class="ttname"><a href="classQRfbHextileEncoder.html#af3a07f58adda4789581e945adac3249c">QRfbHextileEncoder::newFg</a></div><div class="ttdeci">bool newFg</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00424">qscreenvnc_p.h:424</a></div></div>
<div class="ttc" id="qwindowsystem__qws_8h_html"><div class="ttname"><a href="qwindowsystem__qws_8h.html">qwindowsystem_qws.h</a></div></div>
<div class="ttc" id="qscreenvnc__qws_8cpp_html_a36c2a18c6715036a8bbc4434d74fc6f8"><div class="ttname"><a href="qscreenvnc__qws_8cpp.html#a36c2a18c6715036a8bbc4434d74fc6f8">keyMap</a></div><div class="ttdeci">static const struct @345 keyMap[]</div></div>
<div class="ttc" id="classQRfbKeyEvent_html_abd9d624a3a745d0df65d8c06bfedf013"><div class="ttname"><a href="classQRfbKeyEvent.html#abd9d624a3a745d0df65d8c06bfedf013">QRfbKeyEvent::down</a></div><div class="ttdeci">char down</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00218">qscreenvnc_p.h:218</a></div></div>
<div class="ttc" id="classQVarLengthArray_html_a65bb88e9e0a8c64a2126dbaf7141a0ce"><div class="ttname"><a href="classQVarLengthArray.html#a65bb88e9e0a8c64a2126dbaf7141a0ce">QVarLengthArray::data</a></div><div class="ttdeci">T * data()</div><div class="ttdef"><b>Definition:</b> <a href="qvarlengtharray_8h_source.html#l00142">qvarlengtharray.h:142</a></div></div>
<div class="ttc" id="qscreenvnc__qws_8cpp_html_a9366d77dc4d70fb96ca70c719f044813"><div class="ttname"><a href="qscreenvnc__qws_8cpp.html#a9366d77dc4d70fb96ca70c719f044813">qws_qtePipeFilename</a></div><div class="ttdeci">QString qws_qtePipeFilename()</div><div class="ttdef"><b>Definition:</b> <a href="qapplication__qws_8cpp_source.html#l00220">qapplication_qws.cpp:220</a></div></div>
<div class="ttc" id="classQRfbPointerEvent_html_ae17256255cae0db66196f9170a78db52"><div class="ttname"><a href="classQRfbPointerEvent.html#ae17256255cae0db66196f9170a78db52">QRfbPointerEvent::y</a></div><div class="ttdeci">quint16 y</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00230">qscreenvnc_p.h:230</a></div></div>
<div class="ttc" id="classQVNCServer_html_a1869adcc2697083220495a13b1a5749e"><div class="ttname"><a href="classQVNCServer.html#a1869adcc2697083220495a13b1a5749e">QVNCServer::convertPixels</a></div><div class="ttdeci">void convertPixels(char *dst, const char *src, int count) const</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l01432">qscreenvnc_qws.cpp:1432</a></div></div>
<div class="ttc" id="classQVNCServer_html_a945beb0da927cbe7b0b2fdd03bf10157a36d4ec67e374142408d8f0ae9b0a8122"><div class="ttname"><a href="classQVNCServer.html#a945beb0da927cbe7b0b2fdd03bf10157a36d4ec67e374142408d8f0ae9b0a8122">QVNCServer::FixColourMapEntries</a></div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00445">qscreenvnc_p.h:445</a></div></div>
<div class="ttc" id="qglobal_8h_html_a0b57963061bee602c8b6d3c62cf7e1b6"><div class="ttname"><a href="qglobal_8h.html#a0b57963061bee602c8b6d3c62cf7e1b6">qgetenv</a></div><div class="ttdeci">Q_CORE_EXPORT QByteArray qgetenv(const char *varName)</div></div>
<div class="ttc" id="qrgb_8h_html_a0e7a1324ad38755e59ac899e1435e855"><div class="ttname"><a href="qrgb_8h.html#a0e7a1324ad38755e59ac899e1435e855">QRgb</a></div><div class="ttdeci">unsigned int QRgb</div><div class="ttdef"><b>Definition:</b> <a href="qrgb_8h_source.html#l00053">qrgb.h:53</a></div></div>
<div class="ttc" id="classQString_html_a42b5e7fb62765d02dae680c179e402e8"><div class="ttname"><a href="classQString.html#a42b5e7fb62765d02dae680c179e402e8">QString::toFloat</a></div><div class="ttdeci">float toFloat(bool *ok=0) const</div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l06257">qstring.cpp:6257</a></div></div>
<div class="ttc" id="qscreenvnc__p_8h_html"><div class="ttname"><a href="qscreenvnc__p_8h.html">qscreenvnc_p.h</a></div></div>
<div class="ttc" id="classQImage_html_a46809ce99436f870d15ac22a325d65f0"><div class="ttname"><a href="classQImage.html#a46809ce99436f870d15ac22a325d65f0">QImage::copy</a></div><div class="ttdeci">QImage copy(const QRect &amp;rect=QRect()) const</div><div class="ttdoc">Returns a sub-area of the image as a new image. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l01410">qimage.cpp:1410</a></div></div>
<div class="ttc" id="classQString_html_a0b6622a8335cdd080e8b1685b7e0fde0"><div class="ttname"><a href="classQString.html#a0b6622a8335cdd080e8b1685b7e0fde0">QString::sprintf</a></div><div class="ttdeci">QString &amp; sprintf(const char *format,...)</div><div class="ttdoc">Safely builds a formatted string from the format string cformat and an arbitrary list of arguments...</div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l05567">qstring.cpp:5567</a></div></div>
<div class="ttc" id="classQVNCScreenPrivate_html_aafd5b922b090da0a059d61f92c1947a3"><div class="ttname"><a href="classQVNCScreenPrivate.html#aafd5b922b090da0a059d61f92c1947a3">QVNCScreenPrivate::refreshRate</a></div><div class="ttdeci">int refreshRate</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00254">qscreenvnc_p.h:254</a></div></div>
<div class="ttc" id="classQProxyScreen_html"><div class="ttname"><a href="classQProxyScreen.html">QProxyScreen</a></div><div class="ttdoc">The QProxyScreen class provides a generic interface to QScreen implementations. </div><div class="ttdef"><b>Definition:</b> <a href="qscreenproxy__qws_8h_source.html#l00084">qscreenproxy_qws.h:84</a></div></div>
<div class="ttc" id="classQRfbFrameBufferUpdateRequest_html"><div class="ttname"><a href="classQRfbFrameBufferUpdateRequest.html">QRfbFrameBufferUpdateRequest</a></div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00204">qscreenvnc_p.h:204</a></div></div>
<div class="ttc" id="classQRfbHextileEncoder_html_a5befa198e47c4f80345bd2700acd6461"><div class="ttname"><a href="classQRfbHextileEncoder.html#a5befa198e47c4f80345bd2700acd6461">QRfbHextileEncoder::write</a></div><div class="ttdeci">void write()</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l01784">qscreenvnc_qws.cpp:1784</a></div></div>
<div class="ttc" id="classQScreen_html_a17c8da737fe936492dc23f8a9631b179"><div class="ttname"><a href="classQScreen.html#a17c8da737fe936492dc23f8a9631b179">QScreen::height</a></div><div class="ttdeci">int height() const</div><div class="ttdoc">Returns the logical height of the framebuffer in pixels. </div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00228">qscreen_qws.h:228</a></div></div>
<div class="ttc" id="classQWSServer_html_a098c8bf01be7dbda4baf81f78f40afc0"><div class="ttname"><a href="classQWSServer.html#a098c8bf01be7dbda4baf81f78f40afc0">QWSServer::sendMouseEvent</a></div><div class="ttdeci">static void sendMouseEvent(const QPoint &amp;pos, int state, int wheel=0)</div><div class="ttdoc">Send a mouse event. </div><div class="ttdef"><b>Definition:</b> <a href="qwindowsystem__qws_8cpp_source.html#l02334">qwindowsystem_qws.cpp:2334</a></div></div>
<div class="ttc" id="qglobal_8h_html_abe7fa83b9984f2a0bbd470063c14e0f5"><div class="ttname"><a href="qglobal_8h.html#abe7fa83b9984f2a0bbd470063c14e0f5">qreal</a></div><div class="ttdeci">double qreal</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l01193">qglobal.h:1193</a></div></div>
<div class="ttc" id="classQImage_html_a810aa2990f23c8aa8dc82c59ba11bd8dabee95196f4682d4f4d1eb1220859e8d2"><div class="ttname"><a href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dabee95196f4682d4f4d1eb1220859e8d2">QImage::Format_Indexed8</a></div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00095">qimage.h:95</a></div></div>
<div class="ttc" id="classqrgb555_html"><div class="ttname"><a href="classqrgb555.html">qrgb555</a></div><div class="ttdef"><b>Definition:</b> <a href="qdrawhelper__p_8h_source.html#l01011">qdrawhelper_p.h:1011</a></div></div>
<div class="ttc" id="classQVNCDirtyMap_html_a204b63897e380b232408a35b1248c0ac"><div class="ttname"><a href="classQVNCDirtyMap.html#a204b63897e380b232408a35b1248c0ac">QVNCDirtyMap::dirty</a></div><div class="ttdeci">bool dirty(int x, int y) const</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l01692">qscreenvnc_qws.cpp:1692</a></div></div>
<div class="ttc" id="classQVNCServer_html_aeea2e9765c0637241af15c26039ea8e5"><div class="ttname"><a href="classQVNCServer.html#aeea2e9765c0637241af15c26039ea8e5">QVNCServer::frameBufferUpdateRequest</a></div><div class="ttdeci">void frameBufferUpdateRequest()</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l01006">qscreenvnc_qws.cpp:1006</a></div></div>
<div class="ttc" id="classQRegExp_html_a755be28c9b1f7a1193a9a721485694a9"><div class="ttname"><a href="classQRegExp.html#a755be28c9b1f7a1193a9a721485694a9">QRegExp::cap</a></div><div class="ttdeci">QString cap(int nth=0) const</div><div class="ttdoc">Returns the text captured by the nth subexpression. </div><div class="ttdef"><b>Definition:</b> <a href="qregexp_8cpp_source.html#l04310">qregexp.cpp:4310</a></div></div>
<div class="ttc" id="qglobal_8h_html_af0211888b9fea89f8a616cd6566c521e"><div class="ttname"><a href="qglobal_8h.html#af0211888b9fea89f8a616cd6566c521e">QT_END_NAMESPACE</a></div><div class="ttdeci">#define QT_END_NAMESPACE</div><div class="ttdoc">This macro expands to. </div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l00090">qglobal.h:90</a></div></div>
<div class="ttc" id="classQProxyScreen_html_a4f43aecc6adbbe98d43e8e760c5f2f38"><div class="ttname"><a href="classQProxyScreen.html#a4f43aecc6adbbe98d43e8e760c5f2f38">QProxyScreen::disconnect</a></div><div class="ttdeci">void disconnect()</div><div class="ttdoc">Reimplemented Function </div><div class="ttdef"><b>Definition:</b> <a href="qscreenproxy__qws_8cpp_source.html#l00419">qscreenproxy_qws.cpp:419</a></div></div>
<div class="ttc" id="classQVNCServer_html_a945beb0da927cbe7b0b2fdd03bf10157adba33f0945f1a3501b92fb12a4c366e5"><div class="ttname"><a href="classQVNCServer.html#a945beb0da927cbe7b0b2fdd03bf10157adba33f0945f1a3501b92fb12a4c366e5">QVNCServer::KeyEvent</a></div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00448">qscreenvnc_p.h:448</a></div></div>
<div class="ttc" id="qglobal_8h_html_a70e4a22a9339a34c03bffdda7b2b04ba"><div class="ttname"><a href="qglobal_8h.html#a70e4a22a9339a34c03bffdda7b2b04ba">qint32</a></div><div class="ttdeci">int qint32</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l00937">qglobal.h:937</a></div></div>
<div class="ttc" id="classQVNCDirtyMap_html_a7bfef083411e38ac15a8b7effed1c395"><div class="ttname"><a href="classQVNCDirtyMap.html#a7bfef083411e38ac15a8b7effed1c395">QVNCDirtyMap::buffer</a></div><div class="ttdeci">uchar * buffer</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00124">qscreenvnc_p.h:124</a></div></div>
<div class="ttc" id="classQVNCServer_html_a90022bf266f73eb0411f72996deafe42"><div class="ttname"><a href="classQVNCServer.html#a90022bf266f73eb0411f72996deafe42">QVNCServer::pixelFormat</a></div><div class="ttdeci">QRfbPixelFormat pixelFormat</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00494">qscreenvnc_p.h:494</a></div></div>
<div class="ttc" id="classQProxyScreen_html_a2c99f3a3d7fa7c7c9feca8cc5b4729fc"><div class="ttname"><a href="classQProxyScreen.html#a2c99f3a3d7fa7c7c9feca8cc5b4729fc">QProxyScreen::setScreen</a></div><div class="ttdeci">void setScreen(QScreen *screen)</div><div class="ttdoc">Sets the real screen to be used by the proxy screen. </div><div class="ttdef"><b>Definition:</b> <a href="qscreenproxy__qws_8cpp_source.html#l00206">qscreenproxy_qws.cpp:206</a></div></div>
<div class="ttc" id="classQRfbRect_html_a0a8180f05d24f11518f94e78128c13ba"><div class="ttname"><a href="classQRfbRect.html#a0a8180f05d24f11518f94e78128c13ba">QRfbRect::x</a></div><div class="ttdeci">quint16 x</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00152">qscreenvnc_p.h:152</a></div></div>
<div class="ttc" id="classQVNCServer_html_a56a738a52772ae475db14d77d9c69418"><div class="ttname"><a href="classQVNCServer.html#a56a738a52772ae475db14d77d9c69418">QVNCServer::setDirty</a></div><div class="ttdeci">void setDirty()</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00625">qscreenvnc_qws.cpp:625</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8af89d52e3fc7940986cbab75ab08d2b8f"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8af89d52e3fc7940986cbab75ab08d2b8f">Qt::Key_End</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00632">qnamespace.h:632</a></div></div>
<div class="ttc" id="classQVNCServer_html_ae90ef3520de760ae05c7fccda634a37c"><div class="ttname"><a href="classQVNCServer.html#ae90ef3520de760ae05c7fccda634a37c">QVNCServer::qvnc_screen</a></div><div class="ttdeci">QVNCScreen * qvnc_screen</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00513">qscreenvnc_p.h:513</a></div></div>
<div class="ttc" id="classQRegExp_html_a5c465d7668bbe8497652557ef82fb783"><div class="ttname"><a href="classQRegExp.html#a5c465d7668bbe8497652557ef82fb783">QRegExp::lastIndexIn</a></div><div class="ttdeci">int lastIndexIn(const QString &amp;str, int offset=-1, CaretMode caretMode=CaretAtZero) const</div><div class="ttdoc">Attempts to find a match backwards in str from position offset. </div><div class="ttdef"><b>Definition:</b> <a href="qregexp_8cpp_source.html#l04167">qregexp.cpp:4167</a></div></div>
<div class="ttc" id="classQVNCServer_html_a3a93487fd5369f53d6eaf86a0bcd0f43"><div class="ttname"><a href="classQVNCServer.html#a3a93487fd5369f53d6eaf86a0bcd0f43">QVNCServer::encoder</a></div><div class="ttdeci">QRfbEncoder * encoder</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00518">qscreenvnc_p.h:518</a></div></div>
<div class="ttc" id="classQImage_html_a810aa2990f23c8aa8dc82c59ba11bd8da4d762fef2f0c8629cc7b35c7896f0884"><div class="ttname"><a href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8da4d762fef2f0c8629cc7b35c7896f0884">QImage::Format_RGB888</a></div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00105">qimage.h:105</a></div></div>
<div class="ttc" id="classQRfbServerInit_html_a052ce7fa66aa41ec0ddc46166c03f72b"><div class="ttname"><a href="classQRfbServerInit.html#a052ce7fa66aa41ec0ddc46166c03f72b">QRfbServerInit::read</a></div><div class="ttdeci">void read(QTcpSocket *s)</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00441">qscreenvnc_qws.cpp:441</a></div></div>
<div class="ttc" id="classQByteArray_html_a00805e2d9e3237e6c18b3d64859b2ef8"><div class="ttname"><a href="classQByteArray.html#a00805e2d9e3237e6c18b3d64859b2ef8">QByteArray::data</a></div><div class="ttdeci">char * data()</div><div class="ttdoc">Returns a pointer to the data stored in the byte array. </div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8h_source.html#l00429">qbytearray.h:429</a></div></div>
<div class="ttc" id="qscreenvnc__qws_8cpp_html_a74583b0cb53a7bc6e51157cccea51e60"><div class="ttname"><a href="qscreenvnc__qws_8cpp.html#a74583b0cb53a7bc6e51157cccea51e60">keycode</a></div><div class="ttdeci">int keycode</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00292">qscreenvnc_qws.cpp:292</a></div></div>
<div class="ttc" id="classQWSServer_html_ac0890baa7d49c5bd5421fb2de3b4342b"><div class="ttname"><a href="classQWSServer.html#ac0890baa7d49c5bd5421fb2de3b4342b">QWSServer::instance</a></div><div class="ttdeci">static QWSServer * instance()</div><div class="ttdef"><b>Definition:</b> <a href="qwindowsystem__qws_8h_source.html#l00234">qwindowsystem_qws.h:234</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8aa13329aaeed7a4000c2dcdce1ee35032"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8aa13329aaeed7a4000c2dcdce1ee35032">Qt::Key_Meta</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00647">qnamespace.h:647</a></div></div>
<div class="ttc" id="qdebug_8h_html"><div class="ttname"><a href="qdebug_8h.html">qdebug.h</a></div></div>
<div class="ttc" id="classQVNCServer_html_a0e26564d0decccbaf4ce83e9e663e2b0"><div class="ttname"><a href="classQVNCServer.html#a0e26564d0decccbaf4ce83e9e663e2b0">QVNCServer::setEncodings</a></div><div class="ttdeci">void setEncodings()</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00875">qscreenvnc_qws.cpp:875</a></div></div>
<div class="ttc" id="classQScreen_html_a746610a98dc5f1be67b0b50d61e362be"><div class="ttname"><a href="classQScreen.html#a746610a98dc5f1be67b0b50d61e362be">QScreen::d</a></div><div class="ttdeci">int d</div><div class="ttdoc">the pixel depth </div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00327">qscreen_qws.h:327</a></div></div>
<div class="ttc" id="classQRegExp_html"><div class="ttname"><a href="classQRegExp.html">QRegExp</a></div><div class="ttdoc">The QRegExp class provides pattern matching using regular expressions. </div><div class="ttdef"><b>Definition:</b> <a href="qregexp_8h_source.html#l00061">qregexp.h:61</a></div></div>
<div class="ttc" id="classQRfbPixelFormat_html_a92f9335b717984f8bb3ca61d52ed5e41"><div class="ttname"><a href="classQRfbPixelFormat.html#a92f9335b717984f8bb3ca61d52ed5e41">QRfbPixelFormat::redShift</a></div><div class="ttdeci">int redShift</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00173">qscreenvnc_p.h:173</a></div></div>
<div class="ttc" id="classQAbstractSocket_html_a8fa0dab94ceda26984a780dae85bf9d1"><div class="ttname"><a href="classQAbstractSocket.html#a8fa0dab94ceda26984a780dae85bf9d1">QAbstractSocket::bytesAvailable</a></div><div class="ttdeci">qint64 bytesAvailable() const</div><div class="ttdoc">Returns the number of incoming bytes that are waiting to be read. </div><div class="ttdef"><b>Definition:</b> <a href="qabstractsocket_8cpp_source.html#l01558">qabstractsocket.cpp:1558</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8aba82706b04db0077b8c7f080a0c0f702"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8aba82706b04db0077b8c7f080a0c0f702">Qt::Key_3</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00715">qnamespace.h:715</a></div></div>
<div class="ttc" id="classQAbstractSocket_html_a131e4791afa33f87bd3239ec0fd18a8a"><div class="ttname"><a href="classQAbstractSocket.html#a131e4791afa33f87bd3239ec0fd18a8a">QAbstractSocket::flush</a></div><div class="ttdeci">bool flush()</div><div class="ttdoc">This function writes as much as possible from the internal write buffer to the underlying network soc...</div><div class="ttdef"><b>Definition:</b> <a href="qabstractsocket_8cpp_source.html#l02218">qabstractsocket.cpp:2218</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a6313952cabdc406ec9f3021cccf88570"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a6313952cabdc406ec9f3021cccf88570">Qt::Key_Control</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00646">qnamespace.h:646</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8abdd0686bc586dff4539cbf8f929d3a6b"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8abdd0686bc586dff4539cbf8f929d3a6b">Qt::Key_Slash</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00711">qnamespace.h:711</a></div></div>
<div class="ttc" id="classQString_html_a98f691fb039c264a986142c833223efc"><div class="ttname"><a href="classQString.html#a98f691fb039c264a986142c833223efc">QString::toInt</a></div><div class="ttdeci">int toInt(bool *ok=0, int base=10) const</div><div class="ttdoc">Returns the string converted to an int using base base, which is 10 by default and must be between 2 ...</div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l06090">qstring.cpp:6090</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8aecc1d95d15609aa93c182b422810f3ff"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8aecc1d95d15609aa93c182b422810f3ff">Qt::Key_5</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00717">qnamespace.h:717</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8ae5a9a1126326f6626d0dcb42213d5a8c"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8ae5a9a1126326f6626d0dcb42213d5a8c">Qt::Key_Asterisk</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00706">qnamespace.h:706</a></div></div>
<div class="ttc" id="classQRfbSetEncodings_html_a0295383ad8a017260f64e341e4efd7b9"><div class="ttname"><a href="classQRfbSetEncodings.html#a0295383ad8a017260f64e341e4efd7b9">QRfbSetEncodings::count</a></div><div class="ttdeci">quint16 count</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00201">qscreenvnc_p.h:201</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a92b1f21b2bba948126c779f3b86a9482"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a92b1f21b2bba948126c779f3b86a9482">Qt::Key_6</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00718">qnamespace.h:718</a></div></div>
<div class="ttc" id="classQWSServer_html_a64a71b83f2ab6131217b4d6206beab05"><div class="ttname"><a href="classQWSServer.html#a64a71b83f2ab6131217b4d6206beab05">QWSServer::setDefaultMouse</a></div><div class="ttdeci">static void setDefaultMouse(const char *)</div><div class="ttdoc">Sets the mouse driver that will be used if the QWS_MOUSE_PROTO environment variable is not defined...</div><div class="ttdef"><b>Definition:</b> <a href="qwindowsystem__qws_8cpp_source.html#l02292">qwindowsystem_qws.cpp:2292</a></div></div>
<div class="ttc" id="classQRfbPixelFormat_html_a7010ff14efce0f5d3a835e1a4948a9f2"><div class="ttname"><a href="classQRfbPixelFormat.html#a7010ff14efce0f5d3a835e1a4948a9f2">QRfbPixelFormat::redBits</a></div><div class="ttdeci">int redBits</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00170">qscreenvnc_p.h:170</a></div></div>
<div class="ttc" id="classQVNCScreenPrivate_html_aa0b8785a29c9371e69bb1b1ecdab70b6"><div class="ttname"><a href="classQVNCScreenPrivate.html#aa0b8785a29c9371e69bb1b1ecdab70b6">QVNCScreenPrivate::setDirty</a></div><div class="ttdeci">void setDirty(const QRect &amp;rect, bool force=false)</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l02108">qscreenvnc_qws.cpp:2108</a></div></div>
<div class="ttc" id="classQVNCScreenPrivate_html_a50e60b853897c69fa83981d2ec75e7ba"><div class="ttname"><a href="classQVNCScreenPrivate.html#a50e60b853897c69fa83981d2ec75e7ba">QVNCScreenPrivate::q_ptr</a></div><div class="ttdeci">QVNCScreen * q_ptr</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00261">qscreenvnc_p.h:261</a></div></div>
<div class="ttc" id="classQVNCScreen_html_ada6bd3594408fc25a84a15b23c585aae"><div class="ttname"><a href="classQVNCScreen.html#ada6bd3594408fc25a84a15b23c585aae">QVNCScreen::connect</a></div><div class="ttdeci">bool connect(const QString &amp;displaySpec)</div><div class="ttdoc">Reimplemented Function </div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l02142">qscreenvnc_qws.cpp:2142</a></div></div>
<div class="ttc" id="classQVNCServer_html_a39f439c9b71ed30c6ea0f0461f2ef176"><div class="ttname"><a href="classQVNCServer.html#a39f439c9b71ed30c6ea0f0461f2ef176">QVNCServer::timer</a></div><div class="ttdeci">QTimer * timer</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00488">qscreenvnc_p.h:488</a></div></div>
<div class="ttc" id="classQVNCScreen_html_adf1ad01ec388cd8385c76d89a518771b"><div class="ttname"><a href="classQVNCScreen.html#adf1ad01ec388cd8385c76d89a518771b">QVNCScreen::swapBytes</a></div><div class="ttdeci">bool swapBytes() const</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00832">qscreenvnc_qws.cpp:832</a></div></div>
<div class="ttc" id="classQRfbFrameBufferUpdateRequest_html_a69506699394f44f3ac9aa86483a3ffa0"><div class="ttname"><a href="classQRfbFrameBufferUpdateRequest.html#a69506699394f44f3ac9aa86483a3ffa0">QRfbFrameBufferUpdateRequest::read</a></div><div class="ttdeci">bool read(QTcpSocket *s)</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00484">qscreenvnc_qws.cpp:484</a></div></div>
<div class="ttc" id="classQImage_html_a21c6f77f876ef25965afcd9f412fe5ed"><div class="ttname"><a href="classQImage.html#a21c6f77f876ef25965afcd9f412fe5ed">QImage::isNull</a></div><div class="ttdeci">bool isNull() const</div><div class="ttdoc">Returns true if it is a null image, otherwise returns false. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l01542">qimage.cpp:1542</a></div></div>
<div class="ttc" id="classQProxyScreenCursor_html_a69591a029e252c32601d9a258d1f3520"><div class="ttname"><a href="classQProxyScreenCursor.html#a69591a029e252c32601d9a258d1f3520">QProxyScreenCursor::setScreenCursor</a></div><div class="ttdeci">void setScreenCursor(QScreenCursor *cursor)</div><div class="ttdoc">Sets the real screen cursor to be used for the proxy screen cursor to the cursor specified. </div><div class="ttdef"><b>Definition:</b> <a href="qscreenproxy__qws_8cpp_source.html#l00083">qscreenproxy_qws.cpp:83</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a24a56d492a7f7e12344b63d4cf127fcc"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a24a56d492a7f7e12344b63d4cf127fcc">Qt::Key_PageUp</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00637">qnamespace.h:637</a></div></div>
<div class="ttc" id="classQRfbEncoder_html"><div class="ttname"><a href="classQRfbEncoder.html">QRfbEncoder</a></div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00266">qscreenvnc_p.h:266</a></div></div>
<div class="ttc" id="classQByteArray_html"><div class="ttname"><a href="classQByteArray.html">QByteArray</a></div><div class="ttdoc">The QByteArray class provides an array of bytes. </div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8h_source.html#l00135">qbytearray.h:135</a></div></div>
<div class="ttc" id="classQRfbServerInit_html_ab9a1c9df9a7cf9bbbc712d6ec33ed86a"><div class="ttname"><a href="classQRfbServerInit.html#ab9a1c9df9a7cf9bbbc712d6ec33ed86a">QRfbServerInit::height</a></div><div class="ttdeci">quint16 height</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00191">qscreenvnc_p.h:191</a></div></div>
<div class="ttc" id="classQRfbRect_html"><div class="ttname"><a href="classQRfbRect.html">QRfbRect</a></div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00141">qscreenvnc_p.h:141</a></div></div>
<div class="ttc" id="classQVNCServer_html_a4b3db3275d93f349d50ffd8ea8826534"><div class="ttname"><a href="classQVNCServer.html#a4b3db3275d93f349d50ffd8ea8826534">QVNCServer::setPixelFormat</a></div><div class="ttdeci">void setPixelFormat()</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00843">qscreenvnc_qws.cpp:843</a></div></div>
<div class="ttc" id="qobjectdefs_8h_html_a3efae9e882f0deb310fe2b2724e110b9"><div class="ttname"><a href="qobjectdefs_8h.html#a3efae9e882f0deb310fe2b2724e110b9">SLOT</a></div><div class="ttdeci">#define SLOT(a)</div><div class="ttdef"><b>Definition:</b> <a href="qobjectdefs_8h_source.html#l00226">qobjectdefs.h:226</a></div></div>
<div class="ttc" id="classQSharedMemory_html_a7d0efb9d24586fc46625b073487e0a7a"><div class="ttname"><a href="classQSharedMemory.html#a7d0efb9d24586fc46625b073487e0a7a">QSharedMemory::detach</a></div><div class="ttdeci">bool detach()</div><div class="ttdoc">Detaches the process from the shared memory segment. </div><div class="ttdef"><b>Definition:</b> <a href="qsharedmemory_8cpp_source.html#l00465">qsharedmemory.cpp:465</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a63fd0841510136b76351a5dc1f073b38"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a63fd0841510136b76351a5dc1f073b38">Qt::Key_F9</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00660">qnamespace.h:660</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8acbade679433f7441b999b98b3cf7dfaf"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8acbade679433f7441b999b98b3cf7dfaf">Qt::Key_F5</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00656">qnamespace.h:656</a></div></div>
<div class="ttc" id="qapplication__qpa_8cpp_html_ad33b11632cbdb57ba59baf548def8dba"><div class="ttname"><a href="qapplication__qpa_8cpp.html#ad33b11632cbdb57ba59baf548def8dba">buttons</a></div><div class="ttdeci">static Qt::MouseButtons buttons</div><div class="ttdef"><b>Definition:</b> <a href="qapplication__qpa_8cpp_source.html#l00087">qapplication_qpa.cpp:87</a></div></div>
<div class="ttc" id="classQVNCScreenPrivate_html_aeb0313da501a844f15a4cf4cee45ec1e"><div class="ttname"><a href="classQVNCScreenPrivate.html#aeb0313da501a844f15a4cf4cee45ec1e">QVNCScreenPrivate::configure</a></div><div class="ttdeci">void configure()</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00221">qscreenvnc_qws.cpp:221</a></div></div>
<div class="ttc" id="classQVNCServer_html_a52872bbfb819a6f3dc5f42723e24fb8d"><div class="ttname"><a href="classQVNCServer.html#a52872bbfb819a6f3dc5f42723e24fb8d">QVNCServer::keymod</a></div><div class="ttdeci">Qt::KeyboardModifiers keymod</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00495">qscreenvnc_p.h:495</a></div></div>
<div class="ttc" id="classQImage_html_a810aa2990f23c8aa8dc82c59ba11bd8da6c44b65962c2c0580ae133a11d584a9c"><div class="ttname"><a href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8da6c44b65962c2c0580ae133a11d584a9c">QImage::Format_RGB666</a></div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00101">qimage.h:101</a></div></div>
<div class="ttc" id="classQVNCServer_html_ac8ac3973438c4f86f53ec8b3df88c50f"><div class="ttname"><a href="classQVNCServer.html#ac8ac3973438c4f86f53ec8b3df88c50f">QVNCServer::hasClientCursor</a></div><div class="ttdeci">bool hasClientCursor() const</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00467">qscreenvnc_p.h:467</a></div></div>
<div class="ttc" id="classQVNCServer_html_add2c0e43276c616e474bc05824a9c768"><div class="ttname"><a href="classQVNCServer.html#add2c0e43276c616e474bc05824a9c768">QVNCServer::cutTextPending</a></div><div class="ttdeci">int cutTextPending</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00497">qscreenvnc_p.h:497</a></div></div>
<div class="ttc" id="classQRfbSingleColorHextile_html_a216220d0758cb3b949d6d4248a6648a2"><div class="ttname"><a href="classQRfbSingleColorHextile.html#a216220d0758cb3b949d6d4248a6648a2">QRfbSingleColorHextile::write</a></div><div class="ttdeci">void write(QTcpSocket *socket) const</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l01131">qscreenvnc_qws.cpp:1131</a></div></div>
<div class="ttc" id="classQScreen_html_ab29a84d259606b1bf89049a8f9d37c9f"><div class="ttname"><a href="classQScreen.html#ab29a84d259606b1bf89049a8f9d37c9f">QScreen::screenclut</a></div><div class="ttdeci">QRgb screenclut[256]</div><div class="ttdoc">the color table </div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00308">qscreen_qws.h:308</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a3fbe2b35bd6155751fd2f7046005b530"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a3fbe2b35bd6155751fd2f7046005b530">Qt::Key_7</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00719">qnamespace.h:719</a></div></div>
<div class="ttc" id="classQRfbHextileEncoder_html_aa4dbeaa43c59cdb3567a7835ccba82d4"><div class="ttname"><a href="classQRfbHextileEncoder.html#aa4dbeaa43c59cdb3567a7835ccba82d4">QRfbHextileEncoder::newBg</a></div><div class="ttdeci">bool newBg</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00423">qscreenvnc_p.h:423</a></div></div>
<div class="ttc" id="classQTcpServer_html_aa80eeeab97166fa4b9b35bf2e8f34c6e"><div class="ttname"><a href="classQTcpServer.html#aa80eeeab97166fa4b9b35bf2e8f34c6e">QTcpServer::listen</a></div><div class="ttdeci">bool listen(const QHostAddress &amp;address=QHostAddress::Any, quint16 port=0)</div><div class="ttdoc">Tells the server to listen for incoming connections on address address and port port. </div><div class="ttdef"><b>Definition:</b> <a href="qtcpserver_8cpp_source.html#l00281">qtcpserver.cpp:281</a></div></div>
<div class="ttc" id="qwindowsurface__qws_8cpp_html_aa8760ca6039e06c5e8552ea8aad65c88"><div class="ttname"><a href="qwindowsurface__qws_8cpp.html#aa8760ca6039e06c5e8552ea8aad65c88">bytesPerPixel</a></div><div class="ttdeci">static int bytesPerPixel(QImage::Format format)</div><div class="ttdef"><b>Definition:</b> <a href="qwindowsurface__qws_8cpp_source.html#l00097">qwindowsurface_qws.cpp:97</a></div></div>
<div class="ttc" id="classQRect_html_a5f402f79bc4a35736b64881d59daad20"><div class="ttname"><a href="classQRect.html#a5f402f79bc4a35736b64881d59daad20">QRect::translated</a></div><div class="ttdeci">QRect translated(int dx, int dy) const</div><div class="ttdoc">Returns a copy of the rectangle that is translated dx along the x axis and dy along the y axis...</div><div class="ttdef"><b>Definition:</b> <a href="qrect_8h_source.html#l00328">qrect.h:328</a></div></div>
<div class="ttc" id="classQRect_html_ad25fa92c785546296b3eadf5ab7cb73f"><div class="ttname"><a href="classQRect.html#ad25fa92c785546296b3eadf5ab7cb73f">QRect::width</a></div><div class="ttdeci">int width() const</div><div class="ttdoc">Returns the width of the rectangle. </div><div class="ttdef"><b>Definition:</b> <a href="qrect_8h_source.html#l00303">qrect.h:303</a></div></div>
<div class="ttc" id="classQString_html_a23d696df792149beab8d90125195cfee"><div class="ttname"><a href="classQString.html#a23d696df792149beab8d90125195cfee">QString::startsWith</a></div><div class="ttdeci">bool startsWith(const QString &amp;s, Qt::CaseSensitivity cs=Qt::CaseSensitive) const</div><div class="ttdoc">Returns true if the string starts with s; otherwise returns false. </div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l03734">qstring.cpp:3734</a></div></div>
<div class="ttc" id="classQScreenCursor_html_a7963800481be974de338816524766c1b"><div class="ttname"><a href="classQScreenCursor.html#a7963800481be974de338816524766c1b">QScreenCursor::hotspot</a></div><div class="ttdeci">QPoint hotspot</div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00163">qscreen_qws.h:163</a></div></div>
<div class="ttc" id="classQImage_html_a1879a60d6bbe71808b8b5cd75adceb28"><div class="ttname"><a href="classQImage.html#a1879a60d6bbe71808b8b5cd75adceb28">QImage::hasAlphaChannel</a></div><div class="ttdeci">bool hasAlphaChannel() const</div><div class="ttdoc">Returns true if the image has a format that respects the alpha channel, otherwise returns false...</div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l06495">qimage.cpp:6495</a></div></div>
<div class="ttc" id="qdbusservicewatcher_8cpp_html_a81beb56f94d46874cfa290c3d712024d"><div class="ttname"><a href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a></div><div class="ttdeci">QLatin1String(DBUS_INTERFACE_DBUS))) Q_GLOBAL_STATIC_WITH_ARGS(QString</div></div>
<div class="ttc" id="qscreen__qws_8cpp_html_a51bc849bcdbbb1881a97816ee428f1d0"><div class="ttname"><a href="qscreen__qws_8cpp.html#a51bc849bcdbbb1881a97816ee428f1d0">qt_get_screen</a></div><div class="ttdeci">Q_GUI_EXPORT QScreen * qt_get_screen(int display_id, const char *spec)</div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8cpp_source.html#l02456">qscreen_qws.cpp:2456</a></div></div>
<div class="ttc" id="classQScreen_html_a1c425d812a3896b721ecaf04bfe82368"><div class="ttname"><a href="classQScreen.html#a1c425d812a3896b721ecaf04bfe82368">QScreen::deviceWidth</a></div><div class="ttdeci">int deviceWidth() const</div><div class="ttdoc">Returns the physical width of the framebuffer device in pixels. </div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00233">qscreen_qws.h:233</a></div></div>
<div class="ttc" id="classQVNCDirtyMap_html_a1ed650a60c224584d9b110965b28cc40"><div class="ttname"><a href="classQVNCDirtyMap.html#a1ed650a60c224584d9b110965b28cc40">QVNCDirtyMap::map</a></div><div class="ttdeci">uchar * map</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00122">qscreenvnc_p.h:122</a></div></div>
<div class="ttc" id="classQVNCDirtyMap_html_a32d010dacf92960171c6a5671ce93bbb"><div class="ttname"><a href="classQVNCDirtyMap.html#a32d010dacf92960171c6a5671ce93bbb">QVNCDirtyMap::mapHeight</a></div><div class="ttdeci">int mapHeight</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00119">qscreenvnc_p.h:119</a></div></div>
<div class="ttc" id="classQImage_html_ac673d1d5da391ecaaa9add4ff1b586ce"><div class="ttname"><a href="classQImage.html#ac673d1d5da391ecaaa9add4ff1b586ce">QImage::bytesPerLine</a></div><div class="ttdeci">int bytesPerLine() const</div><div class="ttdoc">Returns the number of bytes per image scanline. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l01812">qimage.cpp:1812</a></div></div>
<div class="ttc" id="qsslsocket__openssl__symbols_8cpp_html_abc0559ca5bd02e98c3e33a2db3f27fc2"><div class="ttname"><a href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a></div><div class="ttdeci">long ASN1_INTEGER_get ASN1_INTEGER * a</div><div class="ttdef"><b>Definition:</b> <a href="qsslsocket__openssl__symbols_8cpp_source.html#l00104">qsslsocket_openssl_symbols.cpp:104</a></div></div>
<div class="ttc" id="qscreenvnc__p_8h_html_a8fa35e95d202f9abb7f84c5b13e37d41"><div class="ttname"><a href="qscreenvnc__p_8h.html#a8fa35e95d202f9abb7f84c5b13e37d41">MAP_TILE_SIZE</a></div><div class="ttdeci">#define MAP_TILE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00100">qscreenvnc_p.h:100</a></div></div>
<div class="ttc" id="classQVNCDirtyMap_html_ac8923e667a8987985ada0e7feab858ca"><div class="ttname"><a href="classQVNCDirtyMap.html#ac8923e667a8987985ada0e7feab858ca">QVNCDirtyMap::QVNCDirtyMap</a></div><div class="ttdeci">QVNCDirtyMap(QScreen *screen)</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l01664">qscreenvnc_qws.cpp:1664</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a0441fc6738f2dec848f5de01a997c4b8"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a0441fc6738f2dec848f5de01a997c4b8">Qt::Key_Escape</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00613">qnamespace.h:613</a></div></div>
<div class="ttc" id="qglobal_8h_html_ac3ffd6ad7bfb3c6d4857b2aadd5ec47a"><div class="ttname"><a href="qglobal_8h.html#ac3ffd6ad7bfb3c6d4857b2aadd5ec47a">quint8</a></div><div class="ttdeci">unsigned char quint8</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l00934">qglobal.h:934</a></div></div>
<div class="ttc" id="qapplication__mac_8mm_html_a641b67476a9fd65d994c204ce786996f"><div class="ttname"><a href="qapplication__mac_8mm.html#a641b67476a9fd65d994c204ce786996f">timer</a></div><div class="ttdeci">EventLoopTimerRef timer</div><div class="ttdef"><b>Definition:</b> <a href="qapplication__mac_8mm_source.html#l00881">qapplication_mac.mm:881</a></div></div>
<div class="ttc" id="qscreenvnc__qws_8cpp_html_a937d1c3fb3b2687f705954bc6896eed3"><div class="ttname"><a href="qscreenvnc__qws_8cpp.html#a937d1c3fb3b2687f705954bc6896eed3">keysym</a></div><div class="ttdeci">int keysym</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00291">qscreenvnc_qws.cpp:291</a></div></div>
<div class="ttc" id="classQVNCServer_html_a4452d49251959decb91c9a76cd6605ba"><div class="ttname"><a href="classQVNCServer.html#a4452d49251959decb91c9a76cd6605ba">QVNCServer::state</a></div><div class="ttdeci">ClientState state</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00491">qscreenvnc_p.h:491</a></div></div>
<div class="ttc" id="classQScreen_html_a32cc5bc2110cafd5e1aa6f1fdbf7be20"><div class="ttname"><a href="classQScreen.html#a32cc5bc2110cafd5e1aa6f1fdbf7be20">QScreen::physHeight</a></div><div class="ttdeci">int physHeight</div><div class="ttdoc">the physical height of the screen in millimeters. </div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00340">qscreen_qws.h:340</a></div></div>
<div class="ttc" id="classQRect_html_ab9b855c4316071da38bfbc607185c9ba"><div class="ttname"><a href="classQRect.html#ab9b855c4316071da38bfbc607185c9ba">QRect::height</a></div><div class="ttdeci">int height() const</div><div class="ttdoc">Returns the height of the rectangle. </div><div class="ttdef"><b>Definition:</b> <a href="qrect_8h_source.html#l00306">qrect.h:306</a></div></div>
<div class="ttc" id="classQTcpServer_html_a72789e28bda173b25e5421d90657fef2"><div class="ttname"><a href="classQTcpServer.html#a72789e28bda173b25e5421d90657fef2">QTcpServer::errorString</a></div><div class="ttdeci">QString errorString() const</div><div class="ttdoc">Returns a human readable description of the last error that occurred. </div><div class="ttdef"><b>Definition:</b> <a href="qtcpserver_8cpp_source.html#l00663">qtcpserver.cpp:663</a></div></div>
<div class="ttc" id="classQRect_html_a3581f0c8e44245fa60abec514aaa51ea"><div class="ttname"><a href="classQRect.html#a3581f0c8e44245fa60abec514aaa51ea">QRect::bottom</a></div><div class="ttdeci">int bottom() const</div><div class="ttdoc">Returns the y-coordinate of the rectangle&amp;#39;s bottom edge. </div><div class="ttdef"><b>Definition:</b> <a href="qrect_8h_source.html#l00249">qrect.h:249</a></div></div>
<div class="ttc" id="classQString_html"><div class="ttname"><a href="classQString.html">QString</a></div><div class="ttdoc">The QString class provides a Unicode character string. </div><div class="ttdef"><b>Definition:</b> <a href="qstring_8h_source.html#l00083">qstring.h:83</a></div></div>
<div class="ttc" id="classQVNCClientCursor_html_ade85d4a724fce7313c72905c8f7293e6"><div class="ttname"><a href="classQVNCClientCursor.html#ade85d4a724fce7313c72905c8f7293e6">QVNCClientCursor::server</a></div><div class="ttdeci">QVNCServer * server</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00096">qscreenvnc_p.h:96</a></div></div>
<div class="ttc" id="classQScreen_html_a6ddd9375f0aae94bc82ebc5e30820912"><div class="ttname"><a href="classQScreen.html#a6ddd9375f0aae94bc82ebc5e30820912">QScreen::size</a></div><div class="ttdeci">int size</div><div class="ttdoc">the number of bytes in the visible region of the frame buffer </div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00334">qscreen_qws.h:334</a></div></div>
<div class="ttc" id="classQRfbMultiColorHextile_html_a982bcbbe51466c24d4f52b06ef0c5ebd"><div class="ttname"><a href="classQRfbMultiColorHextile.html#a982bcbbe51466c24d4f52b06ef0c5ebd">QRfbMultiColorHextile::beginRect</a></div><div class="ttdeci">bool beginRect()</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l01300">qscreenvnc_qws.cpp:1300</a></div></div>
<div class="ttc" id="classQVNCServer_html_a0f788f9a88c962d3a72b9fa4e0679ca8"><div class="ttname"><a href="classQVNCServer.html#a0f788f9a88c962d3a72b9fa4e0679ca8">QVNCServer::doPixelConversion</a></div><div class="ttdeci">bool doPixelConversion() const</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00465">qscreenvnc_p.h:465</a></div></div>
<div class="ttc" id="classQImage_html_a810aa2990f23c8aa8dc82c59ba11bd8daa112a04a77ab523dc18fbd2d4545f929"><div class="ttname"><a href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8daa112a04a77ab523dc18fbd2d4545f929">QImage::Format_RGB555</a></div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00103">qimage.h:103</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a4d0cd0630402b379bbf0cdf3bd9f9d3b"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a4d0cd0630402b379bbf0cdf3bd9f9d3b">Qt::Key_Backspace</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00619">qnamespace.h:619</a></div></div>
<div class="ttc" id="classQVNCServer_html_a5d781f3927fe5325fbe876ec7afe8b76"><div class="ttname"><a href="classQVNCServer.html#a5d781f3927fe5325fbe876ec7afe8b76">QVNCServer::swapBytes</a></div><div class="ttdeci">bool swapBytes</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00509">qscreenvnc_p.h:509</a></div></div>
<div class="ttc" id="qglobal_8h_html_ac29a7ecc02f777dfeb2b68a051561c35"><div class="ttname"><a href="qglobal_8h.html#ac29a7ecc02f777dfeb2b68a051561c35">Q_ASSERT</a></div><div class="ttdeci">#define Q_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l01823">qglobal.h:1823</a></div></div>
<div class="ttc" id="classQVector_html"><div class="ttname"><a href="classQVector.html">QVector&lt; QRect &gt;</a></div></div>
<div class="ttc" id="classQRfbPixelFormat_html_a7829ef51b1b7d1ddcea56e3331cfd1e3"><div class="ttname"><a href="classQRfbPixelFormat.html#a7829ef51b1b7d1ddcea56e3331cfd1e3">QRfbPixelFormat::blueShift</a></div><div class="ttdeci">int blueShift</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00175">qscreenvnc_p.h:175</a></div></div>
<div class="ttc" id="classQVNCServer_html_a099fbcb01bb07190c191b54c5a2388fa"><div class="ttname"><a href="classQVNCServer.html#a099fbcb01bb07190c191b54c5a2388fa">QVNCServer::QVNCServer</a></div><div class="ttdeci">QVNCServer(QVNCScreen *screen)</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00572">qscreenvnc_qws.cpp:572</a></div></div>
<div class="ttc" id="classQVNCClientCursor_html_ab8d6289a6a07a1cafa21ab04675d7d92"><div class="ttname"><a href="classQVNCClientCursor.html#ab8d6289a6a07a1cafa21ab04675d7d92">QVNCClientCursor::set</a></div><div class="ttdeci">void set(const QImage &amp;image, int hotx, int hoty)</div><div class="ttdoc">Reimplemented Function </div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00148">qscreenvnc_qws.cpp:148</a></div></div>
<div class="ttc" id="classQScreen_html_a47f2bf2658ef403ce087942c691a46d1aa8dc6ca14d600cd8fdd322b0e4bfcd64"><div class="ttname"><a href="classQScreen.html#a47f2bf2658ef403ce087942c691a46d1aa8dc6ca14d600cd8fdd322b0e4bfcd64">QScreen::BGRPixel</a></div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00220">qscreen_qws.h:220</a></div></div>
<div class="ttc" id="classQVNCServer_html_a0ff3a7b5746981129ed8ae87ab08a28c"><div class="ttname"><a href="classQVNCServer.html#a0ff3a7b5746981129ed8ae87ab08a28c">QVNCServer::supportCursor</a></div><div class="ttdeci">uint supportCursor</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00503">qscreenvnc_p.h:503</a></div></div>
<div class="ttc" id="namespaceQt_html_a91d9133d2fd0cd5c315c13861497ddb2a04d963b1d38131a3b82cd7bbcf6f5b6e"><div class="ttname"><a href="namespaceQt.html#a91d9133d2fd0cd5c315c13861497ddb2a04d963b1d38131a3b82cd7bbcf6f5b6e">Qt::ShiftModifier</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00129">qnamespace.h:129</a></div></div>
<div class="ttc" id="classQRfbHextileEncoder_html_ace9a75665f3cc303040e833b3b891aed"><div class="ttname"><a href="classQRfbHextileEncoder.html#ace9a75665f3cc303040e833b3b891aed">QRfbHextileEncoder::QRfbHextileEncoder</a></div><div class="ttdeci">QRfbHextileEncoder(QVNCServer *s)</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l01773">qscreenvnc_qws.cpp:1773</a></div></div>
<div class="ttc" id="classQVNCCursor_html_af6af0e16bd7d435d5b298f6e3d1ae355"><div class="ttname"><a href="classQVNCCursor.html#af6af0e16bd7d435d5b298f6e3d1ae355">QVNCCursor::screen</a></div><div class="ttdeci">QVNCScreen * screen</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00083">qscreenvnc_p.h:83</a></div></div>
<div class="ttc" id="classQRfbPointerEvent_html_a627c2fa8adc854a2303faa194877c17e"><div class="ttname"><a href="classQRfbPointerEvent.html#a627c2fa8adc854a2303faa194877c17e">QRfbPointerEvent::read</a></div><div class="ttdeci">bool read(QTcpSocket *s)</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00533">qscreenvnc_qws.cpp:533</a></div></div>
<div class="ttc" id="classQVNCServer_html_aded0801b0f554fc17855b15903439f61"><div class="ttname"><a href="classQVNCServer.html#aded0801b0f554fc17855b15903439f61">QVNCServer::keyEvent</a></div><div class="ttdeci">void keyEvent()</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l01032">qscreenvnc_qws.cpp:1032</a></div></div>
<div class="ttc" id="classQScreen_html_a86e017fddd48932684d96f54303cf2ce"><div class="ttname"><a href="classQScreen.html#a86e017fddd48932684d96f54303cf2ce">QScreen::physWidth</a></div><div class="ttdeci">int physWidth</div><div class="ttdoc">the physical width of the screen in millimeters. </div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00339">qscreen_qws.h:339</a></div></div>
<div class="ttc" id="qscreenvnc__qws_8cpp_html_a3ee9fe747d9727f06c937da2c467be5d"><div class="ttname"><a href="qscreenvnc__qws_8cpp.html#a3ee9fe747d9727f06c937da2c467be5d">getDisplayId</a></div><div class="ttdeci">static int getDisplayId(const QString &amp;spec)</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l02129">qscreenvnc_qws.cpp:2129</a></div></div>
<div class="ttc" id="classQWSSignalHandler_html_a255eb2f2b5cf66edfe56f4f54c8f6fce"><div class="ttname"><a href="classQWSSignalHandler.html#a255eb2f2b5cf66edfe56f4f54c8f6fce">QWSSignalHandler::addObject</a></div><div class="ttdeci">void addObject(QObject *object)</div><div class="ttdef"><b>Definition:</b> <a href="qwssignalhandler__p_8h_source.html#l00086">qwssignalhandler_p.h:86</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a20bae659e8ac08d66fa239e773b11869"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a20bae659e8ac08d66fa239e773b11869">Qt::Key_Right</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00635">qnamespace.h:635</a></div></div>
<div class="ttc" id="classQScreenCursor_html_a656f8809d4946c94acb515fd2816668d"><div class="ttname"><a href="classQScreenCursor.html#a656f8809d4946c94acb515fd2816668d">QScreenCursor::image</a></div><div class="ttdeci">QImage image() const</div><div class="ttdoc">Returns the cursor&amp;#39;s image. </div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00151">qscreen_qws.h:151</a></div></div>
<div class="ttc" id="qrgb_8h_html_a0262d5960d36d81d4a364948d920f444"><div class="ttname"><a href="qrgb_8h.html#a0262d5960d36d81d4a364948d920f444">qRed</a></div><div class="ttdeci">Q_GUI_EXPORT_INLINE int qRed(QRgb rgb)</div><div class="ttdef"><b>Definition:</b> <a href="qrgb_8h_source.html#l00057">qrgb.h:57</a></div></div>
<div class="ttc" id="classQRfbRect_html_a68a84d166ef9c48925ce9f550b7cba45"><div class="ttname"><a href="classQRfbRect.html#a68a84d166ef9c48925ce9f550b7cba45">QRfbRect::read</a></div><div class="ttdeci">void read(QTcpSocket *s)</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00361">qscreenvnc_qws.cpp:361</a></div></div>
<div class="ttc" id="classQVNCServer_html_ae879174a529769415c5a65b1115dd835"><div class="ttname"><a href="classQVNCServer.html#ae879174a529769415c5a65b1115dd835">QVNCServer::screen</a></div><div class="ttdeci">QVNCScreen * screen() const</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00461">qscreenvnc_p.h:461</a></div></div>
<div class="ttc" id="classQVNCClientCursor_html_a58bc422794b0228b754bd1b924fafe6b"><div class="ttname"><a href="classQVNCClientCursor.html#a58bc422794b0228b754bd1b924fafe6b">QVNCClientCursor::~QVNCClientCursor</a></div><div class="ttdeci">~QVNCClientCursor()</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00143">qscreenvnc_qws.cpp:143</a></div></div>
<div class="ttc" id="classQRfbPointerEvent_html_ab9b0dc136551bc10446ea7f54feb3470"><div class="ttname"><a href="classQRfbPointerEvent.html#ab9b0dc136551bc10446ea7f54feb3470">QRfbPointerEvent::buttons</a></div><div class="ttdeci">uint buttons</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00228">qscreenvnc_p.h:228</a></div></div>
<div class="ttc" id="classQVNCServer_html_ada2b7c73e51e906b7920ac353c90dd8dacb83d9af7c2c74a3c73ec7f62827e77c"><div class="ttname"><a href="classQVNCServer.html#ada2b7c73e51e906b7920ac353c90dd8dacb83d9af7c2c74a3c73ec7f62827e77c">QVNCServer::Unconnected</a></div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00487">qscreenvnc_p.h:487</a></div></div>
<div class="ttc" id="classQScreen_html_ad0a1b04942f4befb55fcc337866bc69c"><div class="ttname"><a href="classQScreen.html#ad0a1b04942f4befb55fcc337866bc69c">QScreen::setPixelFormat</a></div><div class="ttdeci">void setPixelFormat(QImage::Format format)</div><div class="ttdoc">Sets the screen&amp;#39;s pixel format to format. </div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8cpp_source.html#l02233">qscreen_qws.cpp:2233</a></div></div>
<div class="ttc" id="classQProxyScreen_html_a1b8e06f5f92aa097a6a50f823eeccd76"><div class="ttname"><a href="classQProxyScreen.html#a1b8e06f5f92aa097a6a50f823eeccd76">QProxyScreen::initDevice</a></div><div class="ttdeci">bool initDevice()</div><div class="ttdoc">This function is called by the Qt for Embedded Linux server to initialize the framebuffer. </div><div class="ttdef"><b>Definition:</b> <a href="qscreenproxy__qws_8cpp_source.html#l00430">qscreenproxy_qws.cpp:430</a></div></div>
<div class="ttc" id="classQVNCScreen_html_a96e30559a6f63316d171dcbda008f9e6"><div class="ttname"><a href="classQVNCScreen.html#a96e30559a6f63316d171dcbda008f9e6">QVNCScreen::QVNCScreenPrivate</a></div><div class="ttdeci">friend class QVNCScreenPrivate</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8h_source.html#l00074">qscreenvnc_qws.h:74</a></div></div>
<div class="ttc" id="classQVNCServer_html_a6225bccdd238f8711bcfc172d14fe8a8"><div class="ttname"><a href="classQVNCServer.html#a6225bccdd238f8711bcfc172d14fe8a8">QVNCServer::wantUpdate</a></div><div class="ttdeci">bool wantUpdate</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00505">qscreenvnc_p.h:505</a></div></div>
<div class="ttc" id="classQVNCServer_html_a945beb0da927cbe7b0b2fdd03bf10157aee6015a1b62dc746272ba7ca2d564261"><div class="ttname"><a href="classQVNCServer.html#a945beb0da927cbe7b0b2fdd03bf10157aee6015a1b62dc746272ba7ca2d564261">QVNCServer::SetPixelFormat</a></div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00444">qscreenvnc_p.h:444</a></div></div>
<div class="ttc" id="classQWSSignalHandler_html_a5058101f6f12342b73deefa6d17bb824"><div class="ttname"><a href="classQWSSignalHandler.html#a5058101f6f12342b73deefa6d17bb824">QWSSignalHandler::instance</a></div><div class="ttdeci">static QWSSignalHandler * instance()</div><div class="ttdef"><b>Definition:</b> <a href="qwssignalhandler_8cpp_source.html#l00064">qwssignalhandler.cpp:64</a></div></div>
<div class="ttc" id="classQIODevice_html_af6656035ec4464bcc2a599bb25ac235a"><div class="ttname"><a href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">QIODevice::read</a></div><div class="ttdeci">qint64 read(char *data, qint64 maxlen)</div><div class="ttdoc">Reads at most maxSize bytes from the device into data, and returns the number of bytes read...</div><div class="ttdef"><b>Definition:</b> <a href="qiodevice_8cpp_source.html#l00791">qiodevice.cpp:791</a></div></div>
<div class="ttc" id="classQVNCServer_html_a3d99b0c9a859d88ee8362b2e13ea13c8"><div class="ttname"><a href="classQVNCServer.html#a3d99b0c9a859d88ee8362b2e13ea13c8">QVNCServer::serverSocket</a></div><div class="ttdeci">QTcpServer * serverSocket</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00489">qscreenvnc_p.h:489</a></div></div>
<div class="ttc" id="classQRfbKeyEvent_html_ab85375cf5afc7cec2492ec058d5839e0"><div class="ttname"><a href="classQRfbKeyEvent.html#ab85375cf5afc7cec2492ec058d5839e0">QRfbKeyEvent::read</a></div><div class="ttdeci">bool read(QTcpSocket *s)</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00495">qscreenvnc_qws.cpp:495</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a99644aaf3d92c50b577ee08afb3786ba"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a99644aaf3d92c50b577ee08afb3786ba">Qt::Key_F4</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00655">qnamespace.h:655</a></div></div>
<div class="ttc" id="classQRfbServerInit_html_a69964a85185b5267962ccbf4a64f2e22"><div class="ttname"><a href="classQRfbServerInit.html#a69964a85185b5267962ccbf4a64f2e22">QRfbServerInit::setName</a></div><div class="ttdeci">void setName(const char *n)</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00434">qscreenvnc_qws.cpp:434</a></div></div>
<div class="ttc" id="namespaceQt_html_a16deb986715b604a7050b3b4c9beeaf7a59f5bfe6ca574f67ee19bc22f5c5c913"><div class="ttname"><a href="namespaceQt.html#a16deb986715b604a7050b3b4c9beeaf7a59f5bfe6ca574f67ee19bc22f5c5c913">Qt::RightButton</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00153">qnamespace.h:153</a></div></div>
<div class="ttc" id="qglobal_8h_html_abfe4fd29fa94368c8635bfffc1317587"><div class="ttname"><a href="qglobal_8h.html#abfe4fd29fa94368c8635bfffc1317587">qDebug</a></div><div class="ttdeci">Q_CORE_EXPORT void qDebug(const char *,...)</div></div>
<div class="ttc" id="classQVNCScreen_html_a5faafd1ffc866d83476599657eebe3af"><div class="ttname"><a href="classQVNCScreen.html#a5faafd1ffc866d83476599657eebe3af">QVNCScreen::~QVNCScreen</a></div><div class="ttdeci">virtual ~QVNCScreen()</div><div class="ttdoc">Destroys this QVNCScreen object. </div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l02095">qscreenvnc_qws.cpp:2095</a></div></div>
<div class="ttc" id="qobjectdefs_8h_html_ac12b7dc4402f26a3de050a3bdcba4380"><div class="ttname"><a href="qobjectdefs_8h.html#ac12b7dc4402f26a3de050a3bdcba4380">SIGNAL</a></div><div class="ttdeci">#define SIGNAL(a)</div><div class="ttdef"><b>Definition:</b> <a href="qobjectdefs_8h_source.html#l00227">qobjectdefs.h:227</a></div></div>
<div class="ttc" id="qglobal_8h_html_a65f85814a8290f9797005d3b28e7e5fc"><div class="ttname"><a href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a></div><div class="ttdeci">unsigned char uchar</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l00994">qglobal.h:994</a></div></div>
<div class="ttc" id="classQScreenCursor_html_a18f49953babba63777e0f3d1d64c7746"><div class="ttname"><a href="classQScreenCursor.html#a18f49953babba63777e0f3d1d64c7746">QScreenCursor::isAccelerated</a></div><div class="ttdeci">bool isAccelerated() const</div><div class="ttdoc">Returns true if the cursor is accelerated; otherwise false. </div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00153">qscreen_qws.h:153</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a4ee18a26d87638e3fb06ac1696484d93"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a4ee18a26d87638e3fb06ac1696484d93">Qt::Key_F6</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00657">qnamespace.h:657</a></div></div>
<div class="ttc" id="classQImage_html_a810aa2990f23c8aa8dc82c59ba11bd8da686edf14b41199b4dfb4ab533966d849"><div class="ttname"><a href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8da686edf14b41199b4dfb4ab533966d849">QImage::Format_Invalid</a></div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00092">qimage.h:92</a></div></div>
<div class="ttc" id="classQScreen_html_a5a35b8a14de55a7ff540cad7648eeff3"><div class="ttname"><a href="classQScreen.html#a5a35b8a14de55a7ff540cad7648eeff3">QScreen::data</a></div><div class="ttdeci">uchar * data</div><div class="ttdoc">points to the first visible pixel in the frame buffer. </div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00311">qscreen_qws.h:311</a></div></div>
<div class="ttc" id="classQRfbPointerEvent_html"><div class="ttname"><a href="classQRfbPointerEvent.html">QRfbPointerEvent</a></div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00223">qscreenvnc_p.h:223</a></div></div>
<div class="ttc" id="classQRfbPixelFormat_html_afb6a26ee8dc5dd2a3f6ddf76b56e904d"><div class="ttname"><a href="classQRfbPixelFormat.html#afb6a26ee8dc5dd2a3f6ddf76b56e904d">QRfbPixelFormat::greenBits</a></div><div class="ttdeci">int greenBits</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00171">qscreenvnc_p.h:171</a></div></div>
<div class="ttc" id="classQVNCServer_html_aa68c848ed61e9a817628510306ad69b0"><div class="ttname"><a href="classQVNCServer.html#aa68c848ed61e9a817628510306ad69b0">QVNCServer::supportRRE</a></div><div class="ttdeci">uint supportRRE</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00499">qscreenvnc_p.h:499</a></div></div>
<div class="ttc" id="qscreenvnc__qws_8h_html"><div class="ttname"><a href="qscreenvnc__qws_8h.html">qscreenvnc_qws.h</a></div></div>
<div class="ttc" id="classQVNCServer_html_a0be06f888617e7a31b263dd46ca90606"><div class="ttname"><a href="classQVNCServer.html#a0be06f888617e7a31b263dd46ca90606">QVNCServer::supportDesktopSize</a></div><div class="ttdeci">uint supportDesktopSize</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00504">qscreenvnc_p.h:504</a></div></div>
<div class="ttc" id="classQStringList_html_af354896049e03e1fb7d4e2329917cb9c"><div class="ttname"><a href="classQStringList.html#af354896049e03e1fb7d4e2329917cb9c">QStringList::indexOf</a></div><div class="ttdeci">int indexOf(const QRegExp &amp;rx, int from=0) const</div><div class="ttdoc">Returns the index position of the first exact match of rx in the list, searching forward from index p...</div><div class="ttdef"><b>Definition:</b> <a href="qstringlist_8h_source.html#l00195">qstringlist.h:195</a></div></div>
<div class="ttc" id="qglobal_8h_html_ae7344b820974b9f9f7cfedd5808bd3a0"><div class="ttname"><a href="qglobal_8h.html#ae7344b820974b9f9f7cfedd5808bd3a0">QT_BEGIN_NAMESPACE</a></div><div class="ttdeci">#define QT_BEGIN_NAMESPACE</div><div class="ttdoc">This macro expands to. </div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l00089">qglobal.h:89</a></div></div>
<div class="ttc" id="classQVNCScreenPrivate_html_a976ded54ba514355decc258812050114"><div class="ttname"><a href="classQVNCScreenPrivate.html#a976ded54ba514355decc258812050114">QVNCScreenPrivate::noDisablePainting</a></div><div class="ttdeci">bool noDisablePainting</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00263">qscreenvnc_p.h:263</a></div></div>
<div class="ttc" id="classQVNCServer_html_a0262d514e2f9e2d469b3bff940985dd9"><div class="ttname"><a href="classQVNCServer.html#a0262d514e2f9e2d469b3bff940985dd9">QVNCServer::setRefreshRate</a></div><div class="ttdeci">void setRefreshRate(int rate)</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00442">qscreenvnc_p.h:442</a></div></div>
<div class="ttc" id="classqrgb666_html"><div class="ttname"><a href="classqrgb666.html">qrgb666</a></div><div class="ttdef"><b>Definition:</b> <a href="qdrawhelper__p_8h_source.html#l01239">qdrawhelper_p.h:1239</a></div></div>
<div class="ttc" id="classQScreen_html_a24a9ead9d8a6b57ce23bff48a676e72a"><div class="ttname"><a href="classQScreen.html#a24a9ead9d8a6b57ce23bff48a676e72a">QScreen::pixelType</a></div><div class="ttdeci">PixelType pixelType() const</div><div class="ttdoc">Returns the pixel storage format of the screen. </div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00231">qscreen_qws.h:231</a></div></div>
<div class="ttc" id="classQRfbKeyEvent_html_ae2d41183143acc70df644c608d859bf2"><div class="ttname"><a href="classQRfbKeyEvent.html#ae2d41183143acc70df644c608d859bf2">QRfbKeyEvent::unicode</a></div><div class="ttdeci">int unicode</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00220">qscreenvnc_p.h:220</a></div></div>
<div class="ttc" id="classQVNCServer_html_a945beb0da927cbe7b0b2fdd03bf10157a9531958f38910b03d6787477a0b28fba"><div class="ttname"><a href="classQVNCServer.html#a945beb0da927cbe7b0b2fdd03bf10157a9531958f38910b03d6787477a0b28fba">QVNCServer::SetEncodings</a></div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00446">qscreenvnc_p.h:446</a></div></div>
<div class="ttc" id="classQVNCServer_html_a28c26a22ba76b337a5d0d67b39029df6"><div class="ttname"><a href="classQVNCServer.html#a28c26a22ba76b337a5d0d67b39029df6">QVNCServer::supportHextile</a></div><div class="ttdeci">uint supportHextile</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00501">qscreenvnc_p.h:501</a></div></div>
<div class="ttc" id="classQFbScreen_html_ab038cfefb768d552bde86c4312884f57"><div class="ttname"><a href="classQFbScreen.html#ab038cfefb768d552bde86c4312884f57">QFbScreen::depth</a></div><div class="ttdeci">virtual int depth() const</div><div class="ttdoc">Reimplement in subclass to return current depth of the screen. </div><div class="ttdef"><b>Definition:</b> <a href="fb__base_8h_source.html#l00163">fb_base.h:163</a></div></div>
<div class="ttc" id="classQString_html_a7219a82554025f226a2c36104c45b323afa92b85d1b85ada3bce561efa7e06e32"><div class="ttname"><a href="classQString.html#a7219a82554025f226a2c36104c45b323afa92b85d1b85ada3bce561efa7e06e32">QString::SkipEmptyParts</a></div><div class="ttdef"><b>Definition:</b> <a href="qstring_8h_source.html#l00299">qstring.h:299</a></div></div>
<div class="ttc" id="classQScreen_html_a1bbc5a9100e1a18f42764d6d4a4daa00"><div class="ttname"><a href="classQScreen.html#a1bbc5a9100e1a18f42764d6d4a4daa00">QScreen::linestep</a></div><div class="ttdeci">int linestep() const</div><div class="ttdoc">Returns the length of each scanline of the framebuffer in bytes. </div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00232">qscreen_qws.h:232</a></div></div>
<div class="ttc" id="classQImage_html_a810aa2990f23c8aa8dc82c59ba11bd8dad48c15a7a2720a113cbce93edc429252"><div class="ttname"><a href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dad48c15a7a2720a113cbce93edc429252">QImage::Format_RGB16</a></div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00099">qimage.h:99</a></div></div>
<div class="ttc" id="classQRfbPixelFormat_html_aa782930fc5835a59e4086d812943ffd8"><div class="ttname"><a href="classQRfbPixelFormat.html#aa782930fc5835a59e4086d812943ffd8">QRfbPixelFormat::read</a></div><div class="ttdeci">void read(QTcpSocket *s)</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00381">qscreenvnc_qws.cpp:381</a></div></div>
<div class="ttc" id="classQVNCScreen_html_a87b7e4cd6d9e42e54a1b56b3285d854e"><div class="ttname"><a href="classQVNCScreen.html#a87b7e4cd6d9e42e54a1b56b3285d854e">QVNCScreen::initDevice</a></div><div class="ttdeci">bool initDevice()</div><div class="ttdoc">Reimplemented Function </div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l02262">qscreenvnc_qws.cpp:2262</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8ada9f509c72934a1b678f5a8b2bb9e40d"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8ada9f509c72934a1b678f5a8b2bb9e40d">Qt::Key_F8</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00659">qnamespace.h:659</a></div></div>
<div class="ttc" id="classQVNCServer_html_a7fe1af22ce7c9e805a91086c66f44863"><div class="ttname"><a href="classQVNCServer.html#a7fe1af22ce7c9e805a91086c66f44863">QVNCServer::pixelConversionNeeded</a></div><div class="ttdeci">bool pixelConversionNeeded() const</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l01393">qscreenvnc_qws.cpp:1393</a></div></div>
<div class="ttc" id="classQVNCScreen_html"><div class="ttname"><a href="classQVNCScreen.html">QVNCScreen</a></div><div class="ttdoc">The QVNCScreen class implements a screen driver for VNC servers. </div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8h_source.html#l00057">qscreenvnc_qws.h:57</a></div></div>
<div class="ttc" id="classQVNCServer_html_ae57d7fdd861f490e5be9b6451e635fff"><div class="ttname"><a href="classQVNCServer.html#ae57d7fdd861f490e5be9b6451e635fff">QVNCServer::encodingsPending</a></div><div class="ttdeci">int encodingsPending</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00496">qscreenvnc_p.h:496</a></div></div>
<div class="ttc" id="classQString_html_a0a103dbfef13467b97ae5b7e4ec59b19"><div class="ttname"><a href="classQString.html#a0a103dbfef13467b97ae5b7e4ec59b19">QString::truncate</a></div><div class="ttdeci">void truncate(int pos)</div><div class="ttdoc">Truncates the string at the given position index. </div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l04603">qstring.cpp:4603</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a90b748f07a3007b99707296482310e59"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a90b748f07a3007b99707296482310e59">Qt::Key_Down</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00636">qnamespace.h:636</a></div></div>
<div class="ttc" id="classQRfbFrameBufferUpdateRequest_html_a3bde38836b9ca72b512bcba00f21fa96"><div class="ttname"><a href="classQRfbFrameBufferUpdateRequest.html#a3bde38836b9ca72b512bcba00f21fa96">QRfbFrameBufferUpdateRequest::incremental</a></div><div class="ttdeci">char incremental</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00209">qscreenvnc_p.h:209</a></div></div>
<div class="ttc" id="classQVarLengthArray_html"><div class="ttname"><a href="classQVarLengthArray.html">QVarLengthArray</a></div><div class="ttdef"><b>Definition:</b> <a href="qcontainerfwd_8h_source.html#l00064">qcontainerfwd.h:64</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a13b6b365b7ac89d6914303b5b03fc1d1"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a13b6b365b7ac89d6914303b5b03fc1d1">Qt::Key_Shift</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00645">qnamespace.h:645</a></div></div>
<div class="ttc" id="classQString_html_a8ac5c7669060295d274a0db1c9bcb5ca"><div class="ttname"><a href="classQString.html#a8ac5c7669060295d274a0db1c9bcb5ca">QString::left</a></div><div class="ttdeci">QString left(int n) const Q_REQUIRED_RESULT</div><div class="ttdoc">Returns a substring that contains the n leftmost characters of the string. </div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l03664">qstring.cpp:3664</a></div></div>
<div class="ttc" id="classQWSServer_html_ace7e17dd1221fde3399d43fab4dd7832"><div class="ttname"><a href="classQWSServer.html#ace7e17dd1221fde3399d43fab4dd7832">QWSServer::enablePainting</a></div><div class="ttdeci">void enablePainting(bool)</div><div class="ttdoc">Enables painting onto the screen if enable is true; otherwise painting is disabled. </div><div class="ttdef"><b>Definition:</b> <a href="qwindowsystem__qws_8cpp_source.html#l02169">qwindowsystem_qws.cpp:2169</a></div></div>
<div class="ttc" id="namespaceQt_html_a91d9133d2fd0cd5c315c13861497ddb2a056fddfb21947681b71951ea2dea479c"><div class="ttname"><a href="namespaceQt.html#a91d9133d2fd0cd5c315c13861497ddb2a056fddfb21947681b71951ea2dea479c">Qt::ControlModifier</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00130">qnamespace.h:130</a></div></div>
<div class="ttc" id="classQVNCCursor_html_a0a39bd63ae3d7eb02c99a02ee99fd6da"><div class="ttname"><a href="classQVNCCursor.html#a0a39bd63ae3d7eb02c99a02ee99fd6da">QVNCCursor::QVNCCursor</a></div><div class="ttdeci">QVNCCursor(QVNCScreen *s)</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00071">qscreenvnc_qws.cpp:71</a></div></div>
<div class="ttc" id="classQTcpServer_html_a9c407d6fcc602a2cf014db735127424f"><div class="ttname"><a href="classQTcpServer.html#a9c407d6fcc602a2cf014db735127424f">QTcpServer::nextPendingConnection</a></div><div class="ttdeci">virtual QTcpSocket * nextPendingConnection()</div><div class="ttdoc">Returns the next pending connection as a connected QTcpSocket object. </div><div class="ttdef"><b>Definition:</b> <a href="qtcpserver_8cpp_source.html#l00554">qtcpserver.cpp:554</a></div></div>
<div class="ttc" id="classQRfbPixelFormat_html_ad6b545d2e4d404e167dde3429cc96de3"><div class="ttname"><a href="classQRfbPixelFormat.html#ad6b545d2e4d404e167dde3429cc96de3">QRfbPixelFormat::blueBits</a></div><div class="ttdeci">int blueBits</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00172">qscreenvnc_p.h:172</a></div></div>
<div class="ttc" id="classQString_html_a90cf1487aabf630da694b3ad4b032fac"><div class="ttname"><a href="classQString.html#a90cf1487aabf630da694b3ad4b032fac">QString::size</a></div><div class="ttdeci">int size() const</div><div class="ttdoc">Returns the number of characters in this string. </div><div class="ttdef"><b>Definition:</b> <a href="qstring_8h_source.html#l00102">qstring.h:102</a></div></div>
<div class="ttc" id="classQWSServer_html_a4d6123379fa3b6e252182a9e20c145df"><div class="ttname"><a href="classQWSServer.html#a4d6123379fa3b6e252182a9e20c145df">QWSServer::sendKeyEvent</a></div><div class="ttdeci">static void sendKeyEvent(int unicode, int keycode, Qt::KeyboardModifiers modifiers, bool isPress, bool autoRepeat)</div><div class="ttdoc">Sends the given key event. </div><div class="ttdef"><b>Definition:</b> <a href="qwindowsystem__qws_8cpp_source.html#l02652">qwindowsystem_qws.cpp:2652</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a887cfb5d4fd1fa4d05d66481fcfb35bb"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a887cfb5d4fd1fa4d05d66481fcfb35bb">Qt::Key_Minus</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00709">qnamespace.h:709</a></div></div>
<div class="ttc" id="classQObject_html_a50a3042b8b8c872fcc9ed5af1544e3b9"><div class="ttname"><a href="classQObject.html#a50a3042b8b8c872fcc9ed5af1544e3b9">QObject::connect</a></div><div class="ttdeci">static bool connect(const QObject *sender, const char *signal, const QObject *receiver, const char *member, Qt::ConnectionType=Qt::AutoConnection)</div><div class="ttdoc">Creates a connection of the given type from the signal in the sender object to the method in the rece...</div><div class="ttdef"><b>Definition:</b> <a href="qobject_8cpp_source.html#l02580">qobject.cpp:2580</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8acc1f88162a16fb129ce16ddbda891564"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8acc1f88162a16fb129ce16ddbda891564">Qt::Key_F10</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00661">qnamespace.h:661</a></div></div>
<div class="ttc" id="classQVNCDirtyMap_html_affd8bdbf957fc11bef3fbacd09cc536a"><div class="ttname"><a href="classQVNCDirtyMap.html#affd8bdbf957fc11bef3fbacd09cc536a">QVNCDirtyMap::screen</a></div><div class="ttdeci">QScreen * screen</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00123">qscreenvnc_p.h:123</a></div></div>
<div class="ttc" id="classQRfbEncoder_html_acf96e14a4e0fd6e65bf7fcd94152ec6c"><div class="ttname"><a href="classQRfbEncoder.html#acf96e14a4e0fd6e65bf7fcd94152ec6c">QRfbEncoder::server</a></div><div class="ttdeci">QVNCServer * server</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00275">qscreenvnc_p.h:275</a></div></div>
<div class="ttc" id="classQRfbMultiColorHextile_html_aea6fa6f2a8e26d06f4b83a7bf3df6f03"><div class="ttname"><a href="classQRfbMultiColorHextile.html#aea6fa6f2a8e26d06f4b83a7bf3df6f03">QRfbMultiColorHextile::read</a></div><div class="ttdeci">bool read(const uchar *data, int width, int height, int stride)</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l01316">qscreenvnc_qws.cpp:1316</a></div></div>
<div class="ttc" id="qkeysequence_8cpp_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="qkeysequence_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="qkeysequence_8cpp_source.html#l00396">qkeysequence.cpp:396</a></div></div>
<div class="ttc" id="classQRfbClientCutText_html_a15c1c5546c7670afd9abfe3ea3727542"><div class="ttname"><a href="classQRfbClientCutText.html#a15c1c5546c7670afd9abfe3ea3727542">QRfbClientCutText::read</a></div><div class="ttdeci">bool read(QTcpSocket *s)</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00557">qscreenvnc_qws.cpp:557</a></div></div>
<div class="ttc" id="classQRfbPixelFormat_html_a42fd080d5261a7fd208062aec960f791"><div class="ttname"><a href="classQRfbPixelFormat.html#a42fd080d5261a7fd208062aec960f791">QRfbPixelFormat::trueColor</a></div><div class="ttdeci">bool trueColor</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00169">qscreenvnc_p.h:169</a></div></div>
<div class="ttc" id="classqrgb444_html"><div class="ttname"><a href="classqrgb444.html">qrgb444</a></div><div class="ttdef"><b>Definition:</b> <a href="qdrawhelper__p_8h_source.html#l01627">qdrawhelper_p.h:1627</a></div></div>
<div class="ttc" id="classQStringList_html"><div class="ttname"><a href="classQStringList.html">QStringList</a></div><div class="ttdoc">The QStringList class provides a list of strings. </div><div class="ttdef"><b>Definition:</b> <a href="qstringlist_8h_source.html#l00066">qstringlist.h:66</a></div></div>
<div class="ttc" id="namespaceQt_html_aa2ba2914e203bc3a4cad512b57cc7ab8a078e118cdbbf84fce6d89f68cc2c7e1b"><div class="ttname"><a href="namespaceQt.html#aa2ba2914e203bc3a4cad512b57cc7ab8a078e118cdbbf84fce6d89f68cc2c7e1b">Qt::CaseInsensitive</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l01452">qnamespace.h:1452</a></div></div>
<div class="ttc" id="classQRfbSingleColorHextile_html_ab27f992e3bf2ed166733adab6d13962e"><div class="ttname"><a href="classQRfbSingleColorHextile.html#ab27f992e3bf2ed166733adab6d13962e">QRfbSingleColorHextile::read</a></div><div class="ttdeci">bool read(const uchar *data, int width, int height, int stride)</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l01073">qscreenvnc_qws.cpp:1073</a></div></div>
<div class="ttc" id="classQScreen_html_ab9a6e6e35bc863e32b18e9f0eebfb689"><div class="ttname"><a href="classQScreen.html#ab9a6e6e35bc863e32b18e9f0eebfb689">QScreen::w</a></div><div class="ttdeci">int w</div><div class="ttdoc">the logical width of the screen. </div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00324">qscreen_qws.h:324</a></div></div>
<div class="ttc" id="classQImage_html_a810aa2990f23c8aa8dc82c59ba11bd8dab1aa35fb34158e02d1af6272303e3aae"><div class="ttname"><a href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dab1aa35fb34158e02d1af6272303e3aae">QImage::Format_Mono</a></div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00093">qimage.h:93</a></div></div>
<div class="ttc" id="classQVNCCursor_html_ad1f92de94687b6cf935fde7cbfb2283b"><div class="ttname"><a href="classQVNCCursor.html#ad1f92de94687b6cf935fde7cbfb2283b">QVNCCursor::show</a></div><div class="ttdeci">void show()</div><div class="ttdoc">Reimplemented Function </div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00098">qscreenvnc_qws.cpp:98</a></div></div>
<div class="ttc" id="classQVNCDirtyMap_html_a0a691fc548d6e86df5301815e7f4d54b"><div class="ttname"><a href="classQVNCDirtyMap.html#a0a691fc548d6e86df5301815e7f4d54b">QVNCDirtyMap::numDirty</a></div><div class="ttdeci">int numDirty</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00117">qscreenvnc_p.h:117</a></div></div>
<div class="ttc" id="classQVNCClientCursor_html"><div class="ttname"><a href="classQVNCClientCursor.html">QVNCClientCursor</a></div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00086">qscreenvnc_p.h:86</a></div></div>
<div class="ttc" id="qglobal_8h_html_a6f3b1e8a589d7539ac4f9592005da8b7"><div class="ttname"><a href="qglobal_8h.html#a6f3b1e8a589d7539ac4f9592005da8b7">quint16</a></div><div class="ttdeci">unsigned short quint16</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l00936">qglobal.h:936</a></div></div>
<div class="ttc" id="qglobal_8h_html_ac70e1c2698aa808d9baf4bda9e9ee891"><div class="ttname"><a href="qglobal_8h.html#ac70e1c2698aa808d9baf4bda9e9ee891">qWarning</a></div><div class="ttdeci">Q_CORE_EXPORT void qWarning(const char *,...)</div></div>
<div class="ttc" id="classQImage_html"><div class="ttname"><a href="classQImage.html">QImage</a></div><div class="ttdoc">The QImage class provides a hardware-independent image representation that allows direct access to th...</div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00087">qimage.h:87</a></div></div>
<div class="ttc" id="classQVNCServer_html_a0b39b234e25937d9d9a8cf365e111ce7"><div class="ttname"><a href="classQVNCServer.html#a0b39b234e25937d9d9a8cf365e111ce7">QVNCServer::dirtyCursor</a></div><div class="ttdeci">bool dirtyCursor</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00511">qscreenvnc_p.h:511</a></div></div>
<div class="ttc" id="qdbusmessage_8cpp_html_a4b86149e51ff4431f59ce6148820fb86"><div class="ttname"><a href="qdbusmessage_8cpp.html#a4b86149e51ff4431f59ce6148820fb86">data</a></div><div class="ttdeci">static const char * data(const QByteArray &amp;arr)</div><div class="ttdef"><b>Definition:</b> <a href="qdbusmessage_8cpp_source.html#l00060">qdbusmessage.cpp:60</a></div></div>
<div class="ttc" id="classQRfbPixelFormat_html_a3f5813ee79742f0fe2eb087b6605dece"><div class="ttname"><a href="classQRfbPixelFormat.html#a3f5813ee79742f0fe2eb087b6605dece">QRfbPixelFormat::depth</a></div><div class="ttdeci">int depth</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00167">qscreenvnc_p.h:167</a></div></div>
<div class="ttc" id="qglobal_8h_html_a91ad9478d81a7aaf2593e8d9c3d06a14"><div class="ttname"><a href="qglobal_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a></div><div class="ttdeci">unsigned int uint</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l00996">qglobal.h:996</a></div></div>
<div class="ttc" id="qscreendriverfactory__qws_8h_html"><div class="ttname"><a href="qscreendriverfactory__qws_8h.html">qscreendriverfactory_qws.h</a></div></div>
<div class="ttc" id="classQString_html_afffb887b72dd3ae599f1e6205c5248d9"><div class="ttname"><a href="classQString.html#afffb887b72dd3ae599f1e6205c5248d9">QString::indexOf</a></div><div class="ttdeci">int indexOf(QChar c, int from=0, Qt::CaseSensitivity cs=Qt::CaseSensitive) const</div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l02838">qstring.cpp:2838</a></div></div>
<div class="ttc" id="classQVNCScreenPrivate_html_ad14fca8f0e5f1821dd0a121940d8edde"><div class="ttname"><a href="classQVNCScreenPrivate.html#ad14fca8f0e5f1821dd0a121940d8edde">QVNCScreenPrivate::~QVNCScreenPrivate</a></div><div class="ttdeci">~QVNCScreenPrivate()</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00208">qscreenvnc_qws.cpp:208</a></div></div>
<div class="ttc" id="namespaceQt_html_a91d9133d2fd0cd5c315c13861497ddb2ae82e870ea88f375621ab32d97d44ff2a"><div class="ttname"><a href="namespaceQt.html#a91d9133d2fd0cd5c315c13861497ddb2ae82e870ea88f375621ab32d97d44ff2a">Qt::AltModifier</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00131">qnamespace.h:131</a></div></div>
<div class="ttc" id="classQLatin1String_html"><div class="ttname"><a href="classQLatin1String.html">QLatin1String</a></div><div class="ttdoc">The QLatin1String class provides a thin wrapper around an US-ASCII/Latin-1 encoded string literal...</div><div class="ttdef"><b>Definition:</b> <a href="qstring_8h_source.html#l00654">qstring.h:654</a></div></div>
<div class="ttc" id="classQVNCServer_html_a1f59308af5a50d4f4d6314a90bb296a6"><div class="ttname"><a href="classQVNCServer.html#a1f59308af5a50d4f4d6314a90bb296a6">QVNCServer::checkUpdate</a></div><div class="ttdeci">void checkUpdate()</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l02009">qscreenvnc_qws.cpp:2009</a></div></div>
<div class="ttc" id="classQTimer_html_abf993b735db2f5c7b3b3a182f289b31f"><div class="ttname"><a href="classQTimer.html#abf993b735db2f5c7b3b3a182f289b31f">QTimer::isActive</a></div><div class="ttdeci">bool isActive() const</div><div class="ttdoc">Returns true if the timer is running (pending); otherwise returns false. </div><div class="ttdef"><b>Definition:</b> <a href="qtimer_8h_source.html#l00069">qtimer.h:69</a></div></div>
<div class="ttc" id="namespaceQt_html_a16deb986715b604a7050b3b4c9beeaf7a0fa7aaf33b080b0a8702325aabdae7c4"><div class="ttname"><a href="namespaceQt.html#a16deb986715b604a7050b3b4c9beeaf7a0fa7aaf33b080b0a8702325aabdae7c4">Qt::LeftButton</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00152">qnamespace.h:152</a></div></div>
<div class="ttc" id="classQImage_html_a2203e354012fc6500a0d2c1855a03438"><div class="ttname"><a href="classQImage.html#a2203e354012fc6500a0d2c1855a03438">QImage::createAlphaMask</a></div><div class="ttdeci">QImage createAlphaMask(Qt::ImageConversionFlags flags=Qt::AutoColor) const</div><div class="ttdoc">Builds and returns a 1-bpp mask from the alpha buffer in this image. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l04720">qimage.cpp:4720</a></div></div>
<div class="ttc" id="classQRfbDualColorHextile_html_acc6c9c3a216b73366e18186eac128d4c"><div class="ttname"><a href="classQRfbDualColorHextile.html#acc6c9c3a216b73366e18186eac128d4c">QRfbDualColorHextile::read</a></div><div class="ttdeci">bool read(const uchar *data, int width, int height, int stride)</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l01150">qscreenvnc_qws.cpp:1150</a></div></div>
<div class="ttc" id="classQTcpSocket_html"><div class="ttname"><a href="classQTcpSocket.html">QTcpSocket</a></div><div class="ttdoc">The QTcpSocket class provides a TCP socket. </div><div class="ttdef"><b>Definition:</b> <a href="qtcpsocket_8h_source.html#l00056">qtcpsocket.h:56</a></div></div>
<div class="ttc" id="classQVNCServer_html_acdbbe806306a6d4c47a539ae88253a87"><div class="ttname"><a href="classQVNCServer.html#acdbbe806306a6d4c47a539ae88253a87">QVNCServer::newConnection</a></div><div class="ttdeci">void newConnection()</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00633">qscreenvnc_qws.cpp:633</a></div></div>
<div class="ttc" id="classQVNCServer_html_ada2b7c73e51e906b7920ac353c90dd8da83d13cd16d3532de2325bd056638d2fa"><div class="ttname"><a href="classQVNCServer.html#ada2b7c73e51e906b7920ac353c90dd8da83d13cd16d3532de2325bd056638d2fa">QVNCServer::Connected</a></div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00487">qscreenvnc_p.h:487</a></div></div>
<div class="ttc" id="classQProxyScreenCursor_html_a8629e7a11dbddf7e4c33178b7d8b77a4"><div class="ttname"><a href="classQProxyScreenCursor.html#a8629e7a11dbddf7e4c33178b7d8b77a4">QProxyScreenCursor::hide</a></div><div class="ttdeci">void hide()</div><div class="ttdoc">Reimplemented Function </div><div class="ttdef"><b>Definition:</b> <a href="qscreenproxy__qws_8cpp_source.html#l00143">qscreenproxy_qws.cpp:143</a></div></div>
<div class="ttc" id="classQStringList_html_a5ae9ca4dea38e854137506d5c93f03f4"><div class="ttname"><a href="classQStringList.html#a5ae9ca4dea38e854137506d5c93f03f4">QStringList::contains</a></div><div class="ttdeci">QBool contains(const QString &amp;str, Qt::CaseSensitivity cs=Qt::CaseSensitive) const</div><div class="ttdoc">Returns true if the list contains the string str; otherwise returns false. </div><div class="ttdef"><b>Definition:</b> <a href="qstringlist_8h_source.html#l00172">qstringlist.h:172</a></div></div>
<div class="ttc" id="classQRfbServerInit_html_a56c2278e465a9cf4c2f79c3d10ca3115"><div class="ttname"><a href="classQRfbServerInit.html#a56c2278e465a9cf4c2f79c3d10ca3115">QRfbServerInit::format</a></div><div class="ttdeci">QRfbPixelFormat format</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00192">qscreenvnc_p.h:192</a></div></div>
<div class="ttc" id="classQScreenCursor_html_a9c6633ae49e07c57b86659d11275f430"><div class="ttname"><a href="classQScreenCursor.html#a9c6633ae49e07c57b86659d11275f430">QScreenCursor::enable</a></div><div class="ttdeci">uint enable</div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00164">qscreen_qws.h:164</a></div></div>
<div class="ttc" id="classQRfbClientCutText_html_acc2f64791c4ccb25e836bcc4d47dce58"><div class="ttname"><a href="classQRfbClientCutText.html#acc2f64791c4ccb25e836bcc4d47dce58">QRfbClientCutText::length</a></div><div class="ttdeci">quint32 length</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00238">qscreenvnc_p.h:238</a></div></div>
<div class="ttc" id="classQRegion_html"><div class="ttname"><a href="classQRegion.html">QRegion</a></div><div class="ttdoc">The QRegion class specifies a clip region for a painter. </div><div class="ttdef"><b>Definition:</b> <a href="qregion_8h_source.html#l00068">qregion.h:68</a></div></div>
<div class="ttc" id="classQSharedMemory_html_a03c4d9b69c254433c77d5ab3c7a32363"><div class="ttname"><a href="classQSharedMemory.html#a03c4d9b69c254433c77d5ab3c7a32363">QSharedMemory::attach</a></div><div class="ttdeci">bool attach(AccessMode mode=ReadWrite)</div><div class="ttdoc">Attempts to attach the process to the shared memory segment identified by the key that was passed to ...</div><div class="ttdef"><b>Definition:</b> <a href="qsharedmemory_8cpp_source.html#l00425">qsharedmemory.cpp:425</a></div></div>
<div class="ttc" id="qdirectfbpaintengine_8cpp_html_ae34162c2bbf9e447cd557f139204b5e8"><div class="ttname"><a href="qdirectfbpaintengine_8cpp.html#ae34162c2bbf9e447cd557f139204b5e8">ptr</a></div><div class="ttdeci">const T * ptr(const T &amp;t)</div><div class="ttdef"><b>Definition:</b> <a href="qdirectfbpaintengine_8cpp_source.html#l01498">qdirectfbpaintengine.cpp:1498</a></div></div>
<div class="ttc" id="classQVNCScreenPrivate_html_acaf0e414a179f670db81280965dfb6ed"><div class="ttname"><a href="classQVNCScreenPrivate.html#acaf0e414a179f670db81280965dfb6ed">QVNCScreenPrivate::doOnScreenSurface</a></div><div class="ttdeci">bool doOnScreenSurface</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00252">qscreenvnc_p.h:252</a></div></div>
<div class="ttc" id="classQString_html_a9491884b49163344c4a03c738125f93d"><div class="ttname"><a href="classQString.html#a9491884b49163344c4a03c738125f93d">QString::toLatin1</a></div><div class="ttdeci">QByteArray toLatin1() const Q_REQUIRED_RESULT</div><div class="ttdoc">Returns a Latin-1 representation of the string as a QByteArray. </div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l03993">qstring.cpp:3993</a></div></div>
<div class="ttc" id="namespaceQt_html_a16deb986715b604a7050b3b4c9beeaf7ad6b5abb3c55380d26ce2d1fd00b00b9c"><div class="ttname"><a href="namespaceQt.html#a16deb986715b604a7050b3b4c9beeaf7ad6b5abb3c55380d26ce2d1fd00b00b9c">Qt::MidButton</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00154">qnamespace.h:154</a></div></div>
<div class="ttc" id="classQScreen_html_ab6a05c93e58c3228ddd60027b6207403"><div class="ttname"><a href="classQScreen.html#ab6a05c93e58c3228ddd60027b6207403">QScreen::displayId</a></div><div class="ttdeci">int displayId</div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00337">qscreen_qws.h:337</a></div></div>
<div class="ttc" id="classQImage_html_afa946f31315267065159774c4cce4124"><div class="ttname"><a href="classQImage.html#afa946f31315267065159774c4cce4124">QImage::depth</a></div><div class="ttdeci">int depth() const</div><div class="ttdoc">Returns the depth of the image. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l01620">qimage.cpp:1620</a></div></div>
<div class="ttc" id="classQVNCScreen_html_a2186b949b851a1d0110c0c56a690993a"><div class="ttname"><a href="classQVNCScreen.html#a2186b949b851a1d0110c0c56a690993a">QVNCScreen::QVNCCursor</a></div><div class="ttdeci">friend class QVNCCursor</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8h_source.html#l00071">qscreenvnc_qws.h:71</a></div></div>
<div class="ttc" id="classQScreenDriverFactory_html_a75cbf64e389fae4e50919a2e3b684146"><div class="ttname"><a href="classQScreenDriverFactory.html#a75cbf64e389fae4e50919a2e3b684146">QScreenDriverFactory::keys</a></div><div class="ttdeci">static QStringList keys()</div><div class="ttdoc">Returns the list of valid keys, i.e. </div><div class="ttdef"><b>Definition:</b> <a href="qscreendriverfactory__qws_8cpp_source.html#l00163">qscreendriverfactory_qws.cpp:163</a></div></div>
<div class="ttc" id="classQWSDisplay_html_a7191753408bd7aebf44040f544578699"><div class="ttname"><a href="classQWSDisplay.html#a7191753408bd7aebf44040f544578699">QWSDisplay::grab</a></div><div class="ttdeci">static void grab()</div><div class="ttdef"><b>Definition:</b> <a href="qapplication__qws_8cpp_source.html#l01312">qapplication_qws.cpp:1312</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8aa024365cbf4eef0db019e99e28f59590"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8aa024365cbf4eef0db019e99e28f59590">Qt::Key_Delete</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00626">qnamespace.h:626</a></div></div>
<div class="ttc" id="classQRfbPixelFormat_html_a4735f4b98092eb6c2eaad1ca675f1349"><div class="ttname"><a href="classQRfbPixelFormat.html#a4735f4b98092eb6c2eaad1ca675f1349">QRfbPixelFormat::bigEndian</a></div><div class="ttdeci">bool bigEndian</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00168">qscreenvnc_p.h:168</a></div></div>
<div class="ttc" id="classQVNCServer_html_a945beb0da927cbe7b0b2fdd03bf10157a5b5c2af8d21ca00aa2360aa82ec5c91b"><div class="ttname"><a href="classQVNCServer.html#a945beb0da927cbe7b0b2fdd03bf10157a5b5c2af8d21ca00aa2360aa82ec5c91b">QVNCServer::ClientCutText</a></div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00450">qscreenvnc_p.h:450</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a143b6b394b52c5e35dcb4487b15e2f51"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a143b6b394b52c5e35dcb4487b15e2f51">Qt::Key_Return</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00623">qnamespace.h:623</a></div></div>
<div class="ttc" id="classQVNCDirtyMap_html_aef2c00c67546edbae493a205ba4c8e31"><div class="ttname"><a href="classQVNCDirtyMap.html#aef2c00c67546edbae493a205ba4c8e31">QVNCDirtyMap::mapWidth</a></div><div class="ttdeci">int mapWidth</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00118">qscreenvnc_p.h:118</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a620892fbcc1bcfa0d0eba092c94aa435"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a620892fbcc1bcfa0d0eba092c94aa435">Qt::Key_0</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00712">qnamespace.h:712</a></div></div>
<div class="ttc" id="classQVNCServer_html_ada2b7c73e51e906b7920ac353c90dd8da76e595c5af09c13db7835652aafe0e64"><div class="ttname"><a href="classQVNCServer.html#ada2b7c73e51e906b7920ac353c90dd8da76e595c5af09c13db7835652aafe0e64">QVNCServer::Protocol</a></div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00487">qscreenvnc_p.h:487</a></div></div>
<div class="ttc" id="classQImage_html_a810aa2990f23c8aa8dc82c59ba11bd8dac6445f149ed0d446bd50b45f6e360b13"><div class="ttname"><a href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dac6445f149ed0d446bd50b45f6e360b13">QImage::Format_ARGB32_Premultiplied</a></div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00098">qimage.h:98</a></div></div>
<div class="ttc" id="qrgb_8h_html_a870f36c07aefb951cadeba3bbe24426c"><div class="ttname"><a href="qrgb_8h.html#a870f36c07aefb951cadeba3bbe24426c">qBlue</a></div><div class="ttdeci">Q_GUI_EXPORT_INLINE int qBlue(QRgb rgb)</div><div class="ttdef"><b>Definition:</b> <a href="qrgb_8h_source.html#l00063">qrgb.h:63</a></div></div>
<div class="ttc" id="classQVNCScreen_html_ae099ed9facfc13cf2355f993279bf43c"><div class="ttname"><a href="classQVNCScreen.html#ae099ed9facfc13cf2355f993279bf43c">QVNCScreen::QVNCServer</a></div><div class="ttdeci">friend class QVNCServer</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8h_source.html#l00073">qscreenvnc_qws.h:73</a></div></div>
<div class="ttc" id="classQRfbPixelFormat_html_adfcd1ac0d17e966532e8c1903eed5d1c"><div class="ttname"><a href="classQRfbPixelFormat.html#adfcd1ac0d17e966532e8c1903eed5d1c">QRfbPixelFormat::write</a></div><div class="ttdeci">void write(QTcpSocket *s)</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00407">qscreenvnc_qws.cpp:407</a></div></div>
<div class="ttc" id="classQVNCServer_html_ada2b7c73e51e906b7920ac353c90dd8da30279b9c46125ef4d1f4a8b17e7f1841"><div class="ttname"><a href="classQVNCServer.html#ada2b7c73e51e906b7920ac353c90dd8da30279b9c46125ef4d1f4a8b17e7f1841">QVNCServer::Init</a></div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00487">qscreenvnc_p.h:487</a></div></div>
<div class="ttc" id="classQScreenCursor_html_a99a1abb93313d6d34bcef1ca9f6ded35"><div class="ttname"><a href="classQScreenCursor.html#a99a1abb93313d6d34bcef1ca9f6ded35">QScreenCursor::hwaccel</a></div><div class="ttdeci">uint hwaccel</div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00165">qscreen_qws.h:165</a></div></div>
<div class="ttc" id="classQVNCClientCursor_html_af4fc8eb4252541c4a45722153d280780"><div class="ttname"><a href="classQVNCClientCursor.html#af4fc8eb4252541c4a45722153d280780">QVNCClientCursor::write</a></div><div class="ttdeci">void write() const</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00154">qscreenvnc_qws.cpp:154</a></div></div>
<div class="ttc" id="classQWSServer_html_a3ffec91d9fde21a59cb085a685e70bc1"><div class="ttname"><a href="classQWSServer.html#a3ffec91d9fde21a59cb085a685e70bc1">QWSServer::setDefaultKeyboard</a></div><div class="ttdeci">static void setDefaultKeyboard(const char *)</div><div class="ttdoc">Sets the keyboard driver that will be used if the QWS_KEYBOARD environment variable is not defined...</div><div class="ttdef"><b>Definition:</b> <a href="qwindowsystem__qws_8cpp_source.html#l02309">qwindowsystem_qws.cpp:2309</a></div></div>
<div class="ttc" id="classQVNCServer_html_aa8d596a7f5f82e5affeb5d5861cb2225"><div class="ttname"><a href="classQVNCServer.html#aa8d596a7f5f82e5affeb5d5861cb2225">QVNCServer::setDirtyCursor</a></div><div class="ttdeci">void setDirtyCursor()</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00440">qscreenvnc_p.h:440</a></div></div>
<div class="ttc" id="qscreen__qws_8h_html_a9aa1ad9c585348cd9d616d093f1dc0ad"><div class="ttname"><a href="qscreen__qws_8h.html#a9aa1ad9c585348cd9d616d093f1dc0ad">qt_conv16ToRgb</a></div><div class="ttdeci">QRgb qt_conv16ToRgb(ushort c)</div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00104">qscreen_qws.h:104</a></div></div>
<div class="ttc" id="qglobal_8h_html_a78167beda57daeaf5373d501fd492a02"><div class="ttname"><a href="qglobal_8h.html#a78167beda57daeaf5373d501fd492a02">qSwap</a></div><div class="ttdeci">void qSwap(T &amp;value1, T &amp;value2)</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l02181">qglobal.h:2181</a></div></div>
<div class="ttc" id="classQVector_html_a089ac11f22dec7de12a9ac819ab15175"><div class="ttname"><a href="classQVector.html#a089ac11f22dec7de12a9ac819ab15175">QVector::at</a></div><div class="ttdeci">const T &amp; at(int i) const</div><div class="ttdoc">Returns the item at index position i in the vector. </div><div class="ttdef"><b>Definition:</b> <a href="qvector_8h_source.html#l00350">qvector.h:350</a></div></div>
<div class="ttc" id="classQImage_html_a62d02eeb27b8f952f8567d3f2c015e32"><div class="ttname"><a href="classQImage.html#a62d02eeb27b8f952f8567d3f2c015e32">QImage::size</a></div><div class="ttdeci">QSize size() const</div><div class="ttdoc">Returns the size of the image, i. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l01587">qimage.cpp:1587</a></div></div>
<div class="ttc" id="classQRfbSetEncodings_html_a4628c342c1434cdeab1860d3f0ac160d"><div class="ttname"><a href="classQRfbSetEncodings.html#a4628c342c1434cdeab1860d3f0ac160d">QRfbSetEncodings::read</a></div><div class="ttdeci">bool read(QTcpSocket *s)</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00471">qscreenvnc_qws.cpp:471</a></div></div>
<div class="ttc" id="classQVNCServer_html_a32528cef6fe4bada4f6c3a566b9e670c"><div class="ttname"><a href="classQVNCServer.html#a32528cef6fe4bada4f6c3a566b9e670c">QVNCServer::discardClient</a></div><div class="ttdeci">void discardClient()</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l02031">qscreenvnc_qws.cpp:2031</a></div></div>
<div class="ttc" id="classQRfbHextileEncoder_html_a0fc12ab2bdc929c575576475c2c86d5d"><div class="ttname"><a href="classQRfbHextileEncoder.html#a0fc12ab2bdc929c575576475c2c86d5d">QRfbHextileEncoder::buffer</a></div><div class="ttdeci">QByteArray buffer</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00416">qscreenvnc_p.h:416</a></div></div>
<div class="ttc" id="classQVNCServer_html_a2c5a05bf04427d7c5981b9984e7273eb"><div class="ttname"><a href="classQVNCServer.html#a2c5a05bf04427d7c5981b9984e7273eb">QVNCServer::refreshRate</a></div><div class="ttdeci">int refreshRate</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00512">qscreenvnc_p.h:512</a></div></div>
<div class="ttc" id="qcolor__p_8cpp_html_a6fa7a1b0351d0bdbdf9fd5f882673d57"><div class="ttname"><a href="qcolor__p_8cpp.html#a6fa7a1b0351d0bdbdf9fd5f882673d57">rgb</a></div><div class="ttdeci">#define rgb(r, g, b)</div><div class="ttdef"><b>Definition:</b> <a href="qcolor__p_8cpp_source.html#l00130">qcolor_p.cpp:130</a></div></div>
<div class="ttc" id="classQRfbRect_html_aa600a2e3d5e5ed975a6ae146e20d00fc"><div class="ttname"><a href="classQRfbRect.html#aa600a2e3d5e5ed975a6ae146e20d00fc">QRfbRect::h</a></div><div class="ttdeci">quint16 h</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00155">qscreenvnc_p.h:155</a></div></div>
<div class="ttc" id="classQVNCDirtyMapOptimized_html"><div class="ttname"><a href="classQVNCDirtyMapOptimized.html">QVNCDirtyMapOptimized</a></div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00132">qscreenvnc_p.h:132</a></div></div>
<div class="ttc" id="classQVNCServer_html_abdc464085a73380566c22529df241a8a"><div class="ttname"><a href="classQVNCServer.html#abdc464085a73380566c22529df241a8a">QVNCServer::client</a></div><div class="ttdeci">QTcpSocket * client</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00490">qscreenvnc_p.h:490</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a24022a734eb3ef8b22da6a30f13f8e29"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a24022a734eb3ef8b22da6a30f13f8e29">Qt::Key_F7</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00658">qnamespace.h:658</a></div></div>
<div class="ttc" id="classQByteArray_html_adb3b4e935f60dd123b1b017894901937"><div class="ttname"><a href="classQByteArray.html#adb3b4e935f60dd123b1b017894901937">QByteArray::constData</a></div><div class="ttdeci">const char * constData() const</div><div class="ttdoc">Returns a pointer to the data stored in the byte array. </div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8h_source.html#l00433">qbytearray.h:433</a></div></div>
<div class="ttc" id="classQRect_html_a717b2580ff610d5aecf190c815b82ecd"><div class="ttname"><a href="classQRect.html#a717b2580ff610d5aecf190c815b82ecd">QRect::isEmpty</a></div><div class="ttdeci">bool isEmpty() const</div><div class="ttdoc">Returns true if the rectangle is empty, otherwise returns false. </div><div class="ttdef"><b>Definition:</b> <a href="qrect_8h_source.html#l00234">qrect.h:234</a></div></div>
<div class="ttc" id="classQVNCServer_html_a945beb0da927cbe7b0b2fdd03bf10157ab516ecfbc8ffcef10a9927b8e6182543"><div class="ttname"><a href="classQVNCServer.html#a945beb0da927cbe7b0b2fdd03bf10157ab516ecfbc8ffcef10a9927b8e6182543">QVNCServer::FramebufferUpdateRequest</a></div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00447">qscreenvnc_p.h:447</a></div></div>
<div class="ttc" id="classQVNCServer_html_a9a8c5e279fede3e64a3e1868e6031e73"><div class="ttname"><a href="classQVNCServer.html#a9a8c5e279fede3e64a3e1868e6031e73">QVNCServer::pointerEvent</a></div><div class="ttdeci">void pointerEvent()</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l01022">qscreenvnc_qws.cpp:1022</a></div></div>
<div class="ttc" id="classQRfbRect_html_aab4973da8c73ccb848e183e314be2d1c"><div class="ttname"><a href="classQRfbRect.html#aab4973da8c73ccb848e183e314be2d1c">QRfbRect::write</a></div><div class="ttdeci">void write(QTcpSocket *s) const</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00371">qscreenvnc_qws.cpp:371</a></div></div>
<div class="ttc" id="classQStringList_html_a4d14f4987725926a5c812991a27d0f91"><div class="ttname"><a href="classQStringList.html#a4d14f4987725926a5c812991a27d0f91">QStringList::join</a></div><div class="ttdeci">QString join(const QString &amp;sep) const</div><div class="ttdoc">Joins all the string list&amp;#39;s strings into a single string with each element separated by the given sep...</div><div class="ttdef"><b>Definition:</b> <a href="qstringlist_8h_source.html#l00162">qstringlist.h:162</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a1343b048eb08c41f03a9e28590ec8e04"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a1343b048eb08c41f03a9e28590ec8e04">Qt::Key_Plus</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00707">qnamespace.h:707</a></div></div>
<div class="ttc" id="classQString_html_a0e3c8883986091e3e82971b0574fd882"><div class="ttname"><a href="classQString.html#a0e3c8883986091e3e82971b0574fd882">QString::mid</a></div><div class="ttdeci">QString mid(int position, int n=-1) const Q_REQUIRED_RESULT</div><div class="ttdoc">Returns a string that contains n characters of this string, starting at the specified position index...</div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l03706">qstring.cpp:3706</a></div></div>
<div class="ttc" id="classQProxyScreenCursor_html_a58fef8f59a6800a2dc9bfa6c4eec5380"><div class="ttname"><a href="classQProxyScreenCursor.html#a58fef8f59a6800a2dc9bfa6c4eec5380">QProxyScreenCursor::show</a></div><div class="ttdeci">void show()</div><div class="ttdoc">Reimplemented Function </div><div class="ttdef"><b>Definition:</b> <a href="qscreenproxy__qws_8cpp_source.html#l00130">qscreenproxy_qws.cpp:130</a></div></div>
<div class="ttc" id="classQVNCClientCursor_html_ae021a3372a8ac7492bf4adad08086867"><div class="ttname"><a href="classQVNCClientCursor.html#ae021a3372a8ac7492bf4adad08086867">QVNCClientCursor::QVNCClientCursor</a></div><div class="ttdeci">QVNCClientCursor(QVNCServer *s)</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00133">qscreenvnc_qws.cpp:133</a></div></div>
<div class="ttc" id="classQScreen_html_a272eebfbf7ce0c93807d131559f75263"><div class="ttname"><a href="classQScreen.html#a272eebfbf7ce0c93807d131559f75263">QScreen::base</a></div><div class="ttdeci">uchar * base() const</div><div class="ttdoc">Returns a pointer to the beginning of the framebuffer. </div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00235">qscreen_qws.h:235</a></div></div>
<div class="ttc" id="classQImage_html_a73462e7ea76c229ccb77829986170388"><div class="ttname"><a href="classQImage.html#a73462e7ea76c229ccb77829986170388">QImage::bits</a></div><div class="ttdeci">uchar * bits()</div><div class="ttdoc">Returns a pointer to the first pixel data. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l01946">qimage.cpp:1946</a></div></div>
<div class="ttc" id="classQScreen_html_ab98233bd2b8397c202b4de4850cea487"><div class="ttname"><a href="classQScreen.html#ab98233bd2b8397c202b4de4850cea487">QScreen::dw</a></div><div class="ttdeci">int dw</div><div class="ttdoc">the device width </div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00331">qscreen_qws.h:331</a></div></div>
<div class="ttc" id="qglobal_8h_html_a2b6f45310c02f3da2696509cc8823bf9"><div class="ttname"><a href="qglobal_8h.html#a2b6f45310c02f3da2696509cc8823bf9">qFatal</a></div><div class="ttdeci">Q_CORE_EXPORT void qFatal(const char *,...)</div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a0c9b4f499f0387996a74da83393c343a"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a0c9b4f499f0387996a74da83393c343a">Qt::Key_Tab</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00614">qnamespace.h:614</a></div></div>
<div class="ttc" id="classQSharedMemory_html_ade1e8878f4987e5f37b247c7f6a00a9c"><div class="ttname"><a href="classQSharedMemory.html#ade1e8878f4987e5f37b247c7f6a00a9c">QSharedMemory::size</a></div><div class="ttdeci">int size() const</div><div class="ttdoc">Returns the size of the attached shared memory segment. </div><div class="ttdef"><b>Definition:</b> <a href="qsharedmemory_8cpp_source.html#l00395">qsharedmemory.cpp:395</a></div></div>
<div class="ttc" id="classQVNCServer_html_ae4405cfe82a107213940d701e0dd6cf8"><div class="ttname"><a href="classQVNCServer.html#ae4405cfe82a107213940d701e0dd6cf8">QVNCServer::init</a></div><div class="ttdeci">void init(uint port)</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00584">qscreenvnc_qws.cpp:584</a></div></div>
<div class="ttc" id="classQScreen_html_a3040e5639aee4129a4086e7c36fe9575"><div class="ttname"><a href="classQScreen.html#a3040e5639aee4129a4086e7c36fe9575">QScreen::dh</a></div><div class="ttdeci">int dh</div><div class="ttdoc">the device height </div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00332">qscreen_qws.h:332</a></div></div>
<div class="ttc" id="classQSharedMemory_html_aa9fc9ea106dab120da8143eb654de35b"><div class="ttname"><a href="classQSharedMemory.html#aa9fc9ea106dab120da8143eb654de35b">QSharedMemory::create</a></div><div class="ttdeci">bool create(int size, AccessMode mode=ReadWrite)</div><div class="ttdoc">Creates a shared memory segment of size bytes with the key passed to the constructor, set with setKey() or set with setNativeKey(), then attaches to the new shared memory segment with the given access mode and returns true. </div><div class="ttdef"><b>Definition:</b> <a href="qsharedmemory_8cpp_source.html#l00358">qsharedmemory.cpp:358</a></div></div>
<div class="ttc" id="classQImage_html_a6cbe8c964884b45cbf29f3a4901dd8b6"><div class="ttname"><a href="classQImage.html#a6cbe8c964884b45cbf29f3a4901dd8b6">QImage::width</a></div><div class="ttdeci">int width() const</div><div class="ttdoc">Returns the width of the image. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l01557">qimage.cpp:1557</a></div></div>
<div class="ttc" id="classQString_html_adf76a6e2b0ad1299026263e535325a60"><div class="ttname"><a href="classQString.html#adf76a6e2b0ad1299026263e535325a60">QString::arg</a></div><div class="ttdeci">QString arg(qlonglong a, int fieldwidth=0, int base=10, const QChar &amp;fillChar=QLatin1Char(' ')) const Q_REQUIRED_RESULT</div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l07186">qstring.cpp:7186</a></div></div>
<div class="ttc" id="classQVNCServer_html_a945beb0da927cbe7b0b2fdd03bf10157aa04094f7744fd034f2f754361519c945"><div class="ttname"><a href="classQVNCServer.html#a945beb0da927cbe7b0b2fdd03bf10157aa04094f7744fd034f2f754361519c945">QVNCServer::PointerEvent</a></div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00449">qscreenvnc_p.h:449</a></div></div>
<div class="ttc" id="classQImage_html_abb78d52192d06342711322505366f853"><div class="ttname"><a href="classQImage.html#abb78d52192d06342711322505366f853">QImage::convertToFormat</a></div><div class="ttdeci">QImage convertToFormat(Format f, Qt::ImageConversionFlags flags=Qt::AutoColor) const Q_REQUIRED_RESULT</div><div class="ttdoc">Returns a copy of the image in the given format. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l03966">qimage.cpp:3966</a></div></div>
<div class="ttc" id="classQVNCDirtyMap_html_a7d692c9ab639a79d57895ac525c0fe87"><div class="ttname"><a href="classQVNCDirtyMap.html#a7d692c9ab639a79d57895ac525c0fe87">QVNCDirtyMap::bufferHeight</a></div><div class="ttdeci">int bufferHeight</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00126">qscreenvnc_p.h:126</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8aece67a14d3853b7b0c6f76e4447b2ddf"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8aece67a14d3853b7b0c6f76e4447b2ddf">Qt::Key_F12</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00663">qnamespace.h:663</a></div></div>
<div class="ttc" id="classQVNCServer_html_a05236fa5dcb003df15b038b566071b85"><div class="ttname"><a href="classQVNCServer.html#a05236fa5dcb003df15b038b566071b85">QVNCServer::clientSocket</a></div><div class="ttdeci">QTcpSocket * clientSocket() const</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00463">qscreenvnc_p.h:463</a></div></div>
<div class="ttc" id="classQScreen_html_a53281995d29a0686ba3473264eea7aff"><div class="ttname"><a href="classQScreen.html#a53281995d29a0686ba3473264eea7aff">QScreen::pixelFormat</a></div><div class="ttdeci">QImage::Format pixelFormat() const</div><div class="ttdoc">Returns the pixel format of the screen, or QImage::Format_Invalid if the pixel format is not a suppor...</div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8cpp_source.html#l02225">qscreen_qws.cpp:2225</a></div></div>
<div class="ttc" id="classQString_html_ac679c7d23beb9bf676e58fc0a36528f1"><div class="ttname"><a href="classQString.html#ac679c7d23beb9bf676e58fc0a36528f1">QString::compare</a></div><div class="ttdeci">int compare(const QString &amp;s) const</div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l05037">qstring.cpp:5037</a></div></div>
<div class="ttc" id="classQRect_html_a2f1858b97266e2ba0be6210e3347f390"><div class="ttname"><a href="classQRect.html#a2f1858b97266e2ba0be6210e3347f390">QRect::right</a></div><div class="ttdeci">int right() const</div><div class="ttdoc">Returns the x-coordinate of the rectangle&amp;#39;s right edge. </div><div class="ttdef"><b>Definition:</b> <a href="qrect_8h_source.html#l00246">qrect.h:246</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a82dfe7a1b95dac74620e616ff4860b70"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a82dfe7a1b95dac74620e616ff4860b70">Qt::Key_1</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00713">qnamespace.h:713</a></div></div>
<div class="ttc" id="qprintengine__ps_8cpp_html_a387137c43ed9616d39ba90e890d181eb"><div class="ttname"><a href="qprintengine__ps_8cpp.html#a387137c43ed9616d39ba90e890d181eb">format</a></div><div class="ttdeci">format</div><div class="ttdef"><b>Definition:</b> <a href="qprintengine__ps_8cpp_source.html#l00286">qprintengine_ps.cpp:286</a></div></div>
<div class="ttc" id="classQRfbDualColorHextile_html_a60fcafd4a7f067fe1baaac1307b6ceeb"><div class="ttname"><a href="classQRfbDualColorHextile.html#a60fcafd4a7f067fe1baaac1307b6ceeb">QRfbDualColorHextile::write</a></div><div class="ttdeci">void write(QTcpSocket *socket) const</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l01246">qscreenvnc_qws.cpp:1246</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a1666fc497786a2f2d0f49eb5a1e3b272"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a1666fc497786a2f2d0f49eb5a1e3b272">Qt::Key_9</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00721">qnamespace.h:721</a></div></div>
<div class="ttc" id="classQVNCServer_html_a46eaae9c1821db3b687c507394db7de5"><div class="ttname"><a href="classQVNCServer.html#a46eaae9c1821db3b687c507394db7de5">QVNCServer::supportZRLE</a></div><div class="ttdeci">uint supportZRLE</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00502">qscreenvnc_p.h:502</a></div></div>
<div class="ttc" id="classQProxyScreenCursor_html_ad65ced870815b8965862ae90fc6c9bf5"><div class="ttname"><a href="classQProxyScreenCursor.html#ad65ced870815b8965862ae90fc6c9bf5">QProxyScreenCursor::set</a></div><div class="ttdeci">void set(const QImage &amp;image, int hotx, int hoty)</div><div class="ttdoc">Reimplemented Function </div><div class="ttdef"><b>Definition:</b> <a href="qscreenproxy__qws_8cpp_source.html#l00102">qscreenproxy_qws.cpp:102</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8acc00f27771cf2d305ce11aee3a1ed8b8"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8acc00f27771cf2d305ce11aee3a1ed8b8">Qt::Key_Home</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00631">qnamespace.h:631</a></div></div>
<div class="ttc" id="classQRfbPointerEvent_html_adf5eb0440848e9b2614e84ef228d3a2b"><div class="ttname"><a href="classQRfbPointerEvent.html#adf5eb0440848e9b2614e84ef228d3a2b">QRfbPointerEvent::x</a></div><div class="ttdeci">quint16 x</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00229">qscreenvnc_p.h:229</a></div></div>
<div class="ttc" id="classQRfbMultiColorHextile_html_abc1d54636c8d08945c7eb308dfbd3b69"><div class="ttname"><a href="classQRfbMultiColorHextile.html#abc1d54636c8d08945c7eb308dfbd3b69">QRfbMultiColorHextile::endRect</a></div><div class="ttdeci">void endRect()</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l01309">qscreenvnc_qws.cpp:1309</a></div></div>
<div class="ttc" id="classQScreen_html_af47d3ab178089e0fcb00c016d56dad4b"><div class="ttname"><a href="classQScreen.html#af47d3ab178089e0fcb00c016d56dad4b">QScreen::deviceHeight</a></div><div class="ttdeci">int deviceHeight() const</div><div class="ttdoc">Returns the full height of the framebuffer device in pixels. </div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00234">qscreen_qws.h:234</a></div></div>
<div class="ttc" id="qprintengine__ps_8cpp_html_a387137c43ed9616d39ba90e890d181eba5bdc2d0b1113f3630fc502864541fc23"><div class="ttname"><a href="qprintengine__ps_8cpp.html#a387137c43ed9616d39ba90e890d181eba5bdc2d0b1113f3630fc502864541fc23">Raw</a></div><div class="ttdef"><b>Definition:</b> <a href="qprintengine__ps_8cpp_source.html#l00287">qprintengine_ps.cpp:287</a></div></div>
<div class="ttc" id="classQRect_html_a884e817a08afca603c1c6c61b1e6bd87"><div class="ttname"><a href="classQRect.html#a884e817a08afca603c1c6c61b1e6bd87">QRect::y</a></div><div class="ttdeci">int y() const</div><div class="ttdoc">Returns the y-coordinate of the rectangle&amp;#39;s top edge. </div><div class="ttdef"><b>Definition:</b> <a href="qrect_8h_source.html#l00255">qrect.h:255</a></div></div>
<div class="ttc" id="classQVNCServer_html_a1b9ef43f1ce3ad45044997429e1b0a9b"><div class="ttname"><a href="classQVNCServer.html#a1b9ef43f1ce3ad45044997429e1b0a9b">QVNCServer::dirtyMap</a></div><div class="ttdeci">QVNCDirtyMap * dirtyMap() const</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00462">qscreenvnc_p.h:462</a></div></div>
<div class="ttc" id="classQVNCScreenPrivate_html_a85eef2dc19b7bc646e1778d6ca3105aa"><div class="ttname"><a href="classQVNCScreenPrivate.html#a85eef2dc19b7bc646e1778d6ca3105aa">QVNCScreenPrivate::shm</a></div><div class="ttdeci">QSharedMemory shm</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00258">qscreenvnc_p.h:258</a></div></div>
<div class="ttc" id="classQRfbKeyEvent_html"><div class="ttname"><a href="classQRfbKeyEvent.html">QRfbKeyEvent</a></div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00213">qscreenvnc_p.h:213</a></div></div>
<div class="ttc" id="classQRfbRawEncoder_html"><div class="ttname"><a href="classQRfbRawEncoder.html">QRfbRawEncoder</a></div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00278">qscreenvnc_p.h:278</a></div></div>
<div class="ttc" id="classQVNCDirtyMap_html"><div class="ttname"><a href="classQVNCDirtyMap.html">QVNCDirtyMap</a></div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00104">qscreenvnc_p.h:104</a></div></div>
<div class="ttc" id="classQScreen_html_acdd4a65e0f2ffc5fa498d25eaf1bd557"><div class="ttname"><a href="classQScreen.html#acdd4a65e0f2ffc5fa498d25eaf1bd557">QScreen::setFrameBufferLittleEndian</a></div><div class="ttdeci">void setFrameBufferLittleEndian(bool littleEndian)</div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8cpp_source.html#l03317">qscreen_qws.cpp:3317</a></div></div>
<div class="ttc" id="classQString_html_a09b8b144ffd130ce7d065bacf7cd495e"><div class="ttname"><a href="classQString.html#a09b8b144ffd130ce7d065bacf7cd495e">QString::fromLatin1</a></div><div class="ttdeci">static QString fromLatin1(const char *, int size=-1)</div><div class="ttdoc">Returns a QString initialized with the first size characters of the Latin-1 string str...</div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l04188">qstring.cpp:4188</a></div></div>
<div class="ttc" id="classQHostAddress_html_a19aaf15ec8753e65e4009179253144cca38cf9455ff8264e8a9ccaffe2610f822"><div class="ttname"><a href="classQHostAddress.html#a19aaf15ec8753e65e4009179253144cca38cf9455ff8264e8a9ccaffe2610f822">QHostAddress::Any</a></div><div class="ttdef"><b>Definition:</b> <a href="qhostaddress_8h_source.html#l00078">qhostaddress.h:78</a></div></div>
<div class="ttc" id="classQVNCServer_html_ab19b318384c6f477772c77b686c06093"><div class="ttname"><a href="classQVNCServer.html#ab19b318384c6f477772c77b686c06093">QVNCServer::supportCopyRect</a></div><div class="ttdeci">uint supportCopyRect</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00498">qscreenvnc_p.h:498</a></div></div>
<div class="ttc" id="classQVNCServer_html_ac3d033688554702a5d24a1b93be8f393"><div class="ttname"><a href="classQVNCServer.html#ac3d033688554702a5d24a1b93be8f393">QVNCServer::~QVNCServer</a></div><div class="ttdeci">~QVNCServer()</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00613">qscreenvnc_qws.cpp:613</a></div></div>
<div class="ttc" id="classQRfbDualColorHextile_html_a0cf76f82cf74f40a027c16d91bfd6fa5"><div class="ttname"><a href="classQRfbDualColorHextile.html#a0cf76f82cf74f40a027c16d91bfd6fa5">QRfbDualColorHextile::next</a></div><div class="ttdeci">void next()</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l01277">qscreenvnc_qws.cpp:1277</a></div></div>
<div class="ttc" id="classQRfbServerInit_html"><div class="ttname"><a href="classQRfbServerInit.html">QRfbServerInit</a></div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00178">qscreenvnc_p.h:178</a></div></div>
<div class="ttc" id="classQRfbServerInit_html_ace3014230336c5b24759bd34db17e83c"><div class="ttname"><a href="classQRfbServerInit.html#ace3014230336c5b24759bd34db17e83c">QRfbServerInit::write</a></div><div class="ttdeci">void write(QTcpSocket *s)</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00458">qscreenvnc_qws.cpp:458</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8ac2516f076e9e7ceeebb72b1a089958fe"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8ac2516f076e9e7ceeebb72b1a089958fe">Qt::Key_PageDown</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00641">qnamespace.h:641</a></div></div>
<div class="ttc" id="classQRect_html_a4746075c8a185043d53828c0eacbb18e"><div class="ttname"><a href="classQRect.html#a4746075c8a185043d53828c0eacbb18e">QRect::x</a></div><div class="ttdeci">int x() const</div><div class="ttdoc">Returns the x-coordinate of the rectangle&amp;#39;s left edge. </div><div class="ttdef"><b>Definition:</b> <a href="qrect_8h_source.html#l00252">qrect.h:252</a></div></div>
<div class="ttc" id="classQRfbRect_html_a85629daa2f0dbe84fd43225358fdf07b"><div class="ttname"><a href="classQRfbRect.html#a85629daa2f0dbe84fd43225358fdf07b">QRfbRect::w</a></div><div class="ttdeci">quint16 w</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00154">qscreenvnc_p.h:154</a></div></div>
<div class="ttc" id="structmap_html"><div class="ttname"><a href="structmap.html">map</a></div><div class="ttdef"><b>Definition:</b> <a href="qeuckrcodec_8cpp_source.html#l00711">qeuckrcodec.cpp:711</a></div></div>
<div class="ttc" id="classQScreenCursor_html_a380ffb14991f03e598770ef5cca5130e"><div class="ttname"><a href="classQScreenCursor.html#a380ffb14991f03e598770ef5cca5130e">QScreenCursor::boundingRect</a></div><div class="ttdeci">QRect boundingRect() const</div><div class="ttdoc">Returns the cursor&amp;#39;s bounding rectangle. </div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00150">qscreen_qws.h:150</a></div></div>
<div class="ttc" id="classQByteArray_html_a186c634dc462f478fd2a45ee713f2c58"><div class="ttname"><a href="classQByteArray.html#a186c634dc462f478fd2a45ee713f2c58">QByteArray::toInt</a></div><div class="ttdeci">int toInt(bool *ok=0, int base=10) const</div><div class="ttdoc">Returns the byte array converted to an int using base base, which is 10 by default and must be betwee...</div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8cpp_source.html#l03576">qbytearray.cpp:3576</a></div></div>
<div class="ttc" id="classQSharedMemory_html_a2375e68156ccd70310369580692648e4"><div class="ttname"><a href="classQSharedMemory.html#a2375e68156ccd70310369580692648e4">QSharedMemory::data</a></div><div class="ttdeci">void * data()</div><div class="ttdoc">Returns a pointer to the contents of the shared memory segment, if one is attached. </div><div class="ttdef"><b>Definition:</b> <a href="qsharedmemory_8cpp_source.html#l00489">qsharedmemory.cpp:489</a></div></div>
<div class="ttc" id="qrgb_8h_html_ad893ba1106079f0892fc33504a2879bd"><div class="ttname"><a href="qrgb_8h.html#ad893ba1106079f0892fc33504a2879bd">qRgb</a></div><div class="ttdeci">Q_GUI_EXPORT_INLINE QRgb qRgb(int r, int g, int b)</div><div class="ttdef"><b>Definition:</b> <a href="qrgb_8h_source.html#l00069">qrgb.h:69</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8abe07e6b2461eae70e7335c18b4cf3e9f"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8abe07e6b2461eae70e7335c18b4cf3e9f">Qt::Key_Period</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00710">qnamespace.h:710</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a31f1dee5d47ffcbdff45e1981375efab"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a31f1dee5d47ffcbdff45e1981375efab">Qt::Key_4</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00716">qnamespace.h:716</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a853e9a529a239db820a76f02d674feb7"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a853e9a529a239db820a76f02d674feb7">Qt::Key_Up</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00634">qnamespace.h:634</a></div></div>
<div class="ttc" id="classQScreen_html_ac016623039b477a5a8914e49d381a026"><div class="ttname"><a href="classQScreen.html#ac016623039b477a5a8914e49d381a026">QScreen::clut</a></div><div class="ttdeci">QRgb * clut()</div><div class="ttdoc">Returns a pointer to the screen&amp;#39;s color lookup table (i. </div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00245">qscreen_qws.h:245</a></div></div>
<div class="ttc" id="qkeysequence_8cpp_html_a35af0be900467fedbb610bd6ea65ed78"><div class="ttname"><a href="qkeysequence_8cpp.html#a35af0be900467fedbb610bd6ea65ed78">key</a></div><div class="ttdeci">int key</div><div class="ttdef"><b>Definition:</b> <a href="qkeysequence_8cpp_source.html#l00395">qkeysequence.cpp:395</a></div></div>
<div class="ttc" id="classQPoint_html"><div class="ttname"><a href="classQPoint.html">QPoint</a></div><div class="ttdoc">The QPoint class defines a point in the plane using integer precision. </div><div class="ttdef"><b>Definition:</b> <a href="qpoint_8h_source.html#l00053">qpoint.h:53</a></div></div>
<div class="ttc" id="classQRegion_html_ae957459f7642af2accb0212e59e0bd97"><div class="ttname"><a href="classQRegion.html#ae957459f7642af2accb0212e59e0bd97">QRegion::rects</a></div><div class="ttdeci">QVector&lt; QRect &gt; rects() const</div><div class="ttdoc">Returns an array of non-overlapping rectangles that make up the region. </div><div class="ttdef"><b>Definition:</b> <a href="qregion_8cpp_source.html#l04412">qregion.cpp:4412</a></div></div>
<div class="ttc" id="classQRfbMultiColorHextile_html_a9059923a4d8fdd7e56be8b3d7cf1aeef"><div class="ttname"><a href="classQRfbMultiColorHextile.html#a9059923a4d8fdd7e56be8b3d7cf1aeef">QRfbMultiColorHextile::write</a></div><div class="ttdeci">void write(QTcpSocket *socket) const</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l01365">qscreenvnc_qws.cpp:1365</a></div></div>
<div class="ttc" id="classQVNCCursor_html_aad355a91c539907c17b78ca4046d33d4"><div class="ttname"><a href="classQVNCCursor.html#aad355a91c539907c17b78ca4046d33d4">QVNCCursor::hide</a></div><div class="ttdeci">void hide()</div><div class="ttdoc">Reimplemented Function </div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00091">qscreenvnc_qws.cpp:91</a></div></div>
<div class="ttc" id="classQVNCServer_html_a01d7c8be485ff993d9c96bd2fe2f0679"><div class="ttname"><a href="classQVNCServer.html#a01d7c8be485ff993d9c96bd2fe2f0679">QVNCServer::clientCutText</a></div><div class="ttdeci">void clientCutText()</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l01052">qscreenvnc_qws.cpp:1052</a></div></div>
<div class="ttc" id="classQByteArray_html_a554ff306a31cd244e2e4181125ea0e05"><div class="ttname"><a href="classQByteArray.html#a554ff306a31cd244e2e4181125ea0e05">QByteArray::resize</a></div><div class="ttdeci">void resize(int size)</div><div class="ttdoc">Sets the size of the byte array to size bytes. </div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8cpp_source.html#l01508">qbytearray.cpp:1508</a></div></div>
<div class="ttc" id="classQVNCCursor_html_a835d5be65719426e616eea80e920b104"><div class="ttname"><a href="classQVNCCursor.html#a835d5be65719426e616eea80e920b104">QVNCCursor::server</a></div><div class="ttdeci">QVNCServer * server</div><div class="ttdef"><b>Definition:</b> <a href="qvnccursor_8h_source.html#l00071">qvnccursor.h:71</a></div></div>
<div class="ttc" id="classqrgb888_html"><div class="ttname"><a href="classqrgb888.html">qrgb888</a></div><div class="ttdef"><b>Definition:</b> <a href="qdrawhelper__p_8h_source.html#l01407">qdrawhelper_p.h:1407</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a8a7bcab45169ce082a13edd8ba595a17"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a8a7bcab45169ce082a13edd8ba595a17">Qt::Key_F3</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00654">qnamespace.h:654</a></div></div>
<div class="ttc" id="qglobal_8h_html_a29bedad345d15459d2e629fd6dc14956"><div class="ttname"><a href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a></div><div class="ttdeci">unsigned int quint32</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l00938">qglobal.h:938</a></div></div>
<div class="ttc" id="classQTcpServer_html"><div class="ttname"><a href="classQTcpServer.html">QTcpServer</a></div><div class="ttdoc">The QTcpServer class provides a TCP-based server. </div><div class="ttdef"><b>Definition:</b> <a href="qtcpserver_8h_source.html#l00061">qtcpserver.h:61</a></div></div>
<div class="ttc" id="classQRfbHextileEncoder_html"><div class="ttname"><a href="classQRfbHextileEncoder.html">QRfbHextileEncoder</a></div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00289">qscreenvnc_p.h:289</a></div></div>
<div class="ttc" id="classQVNCServer_html_a1bee0c1e9a064b5cfd3bee7d5300c044"><div class="ttname"><a href="classQVNCServer.html#a1bee0c1e9a064b5cfd3bee7d5300c044">QVNCServer::needConversion</a></div><div class="ttdeci">bool needConversion</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00507">qscreenvnc_p.h:507</a></div></div>
<div class="ttc" id="classQRfbRect_html_ae6e18984a23b1acdb438ccc135d3a1b2"><div class="ttname"><a href="classQRfbRect.html#ae6e18984a23b1acdb438ccc135d3a1b2">QRfbRect::y</a></div><div class="ttdeci">quint16 y</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00153">qscreenvnc_p.h:153</a></div></div>
<div class="ttc" id="classQRect_html"><div class="ttname"><a href="classQRect.html">QRect</a></div><div class="ttdoc">The QRect class defines a rectangle in the plane using integer precision. </div><div class="ttdef"><b>Definition:</b> <a href="qrect_8h_source.html#l00058">qrect.h:58</a></div></div>
<div class="ttc" id="classQAbstractSocket_html_a0e0649c2321bf5789b2539a02c0a3c7ead45d2f0afb20236d07b77a7a7a03ff61"><div class="ttname"><a href="classQAbstractSocket.html#a0e0649c2321bf5789b2539a02c0a3c7ead45d2f0afb20236d07b77a7a7a03ff61">QAbstractSocket::UnconnectedState</a></div><div class="ttdef"><b>Definition:</b> <a href="qabstractsocket_8h_source.html#l00103">qabstractsocket.h:103</a></div></div>
<div class="ttc" id="namespaceQt_html"><div class="ttname"><a href="namespaceQt.html">Qt</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00054">qnamespace.h:54</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a6b124e6b6c2f6cc7684725abf353f7cb"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a6b124e6b6c2f6cc7684725abf353f7cb">Qt::Key_Alt</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00648">qnamespace.h:648</a></div></div>
<div class="ttc" id="classQVNCServer_html"><div class="ttname"><a href="classQVNCServer.html">QVNCServer</a></div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00431">qscreenvnc_p.h:431</a></div></div>
<div class="ttc" id="classQScreen_html"><div class="ttname"><a href="classQScreen.html">QScreen</a></div><div class="ttdoc">The QScreen class is a base class for screen drivers in Qt for Embedded Linux. </div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00191">qscreen_qws.h:191</a></div></div>
<div class="ttc" id="classQImage_html_a7a7199866132ff7f39efeb83aca128dc"><div class="ttname"><a href="classQImage.html#a7a7199866132ff7f39efeb83aca128dc">QImage::height</a></div><div class="ttdeci">int height() const</div><div class="ttdoc">Returns the height of the image. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l01572">qimage.cpp:1572</a></div></div>
<div class="ttc" id="classQVNCScreen_html_a14bb249891c3faf4f3ae83972b4e53d8"><div class="ttname"><a href="classQVNCScreen.html#a14bb249891c3faf4f3ae83972b4e53d8">QVNCScreen::setDirty</a></div><div class="ttdeci">void setDirty(const QRect &amp;)</div><div class="ttdoc">Reimplemented Function </div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l02103">qscreenvnc_qws.cpp:2103</a></div></div>
<div class="ttc" id="classQByteArray_html_a0cd331ee1b05147f3173fb85dfcd0ccd"><div class="ttname"><a href="classQByteArray.html#a0cd331ee1b05147f3173fb85dfcd0ccd">QByteArray::size</a></div><div class="ttdeci">int size() const</div><div class="ttdoc">Returns the number of bytes in this byte array. </div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8h_source.html#l00402">qbytearray.h:402</a></div></div>
<div class="ttc" id="classQVNCDirtyMap_html_accbf1cddd9e3a3615e8f2b51f0fb14fe"><div class="ttname"><a href="classQVNCDirtyMap.html#accbf1cddd9e3a3615e8f2b51f0fb14fe">QVNCDirtyMap::bufferWidth</a></div><div class="ttdeci">int bufferWidth</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00125">qscreenvnc_p.h:125</a></div></div>
<div class="ttc" id="classQPoint_html_aa241cfaf926eef9a0710bffcbc086219"><div class="ttname"><a href="classQPoint.html#aa241cfaf926eef9a0710bffcbc086219">QPoint::y</a></div><div class="ttdeci">int y() const</div><div class="ttdoc">Returns the y coordinate of this point. </div><div class="ttdef"><b>Definition:</b> <a href="qpoint_8h_source.html#l00131">qpoint.h:131</a></div></div>
<div class="ttc" id="qscreenvnc__qws_8cpp_html_ab8fc2ec473af89f581ae861bef440612"><div class="ttname"><a href="qscreenvnc__qws_8cpp.html#ab8fc2ec473af89f581ae861bef440612">blendCursor</a></div><div class="ttdeci">static void blendCursor(QImage &amp;image, const QRect &amp;imageRect)</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l01651">qscreenvnc_qws.cpp:1651</a></div></div>
<div class="ttc" id="classQPainter_html_a926f7fa79734f3c97ea3720bd9ed00fc"><div class="ttname"><a href="classQPainter.html#a926f7fa79734f3c97ea3720bd9ed00fc">QPainter::drawImage</a></div><div class="ttdeci">void drawImage(const QRectF &amp;targetRect, const QImage &amp;image, const QRectF &amp;sourceRect, Qt::ImageConversionFlags flags=Qt::AutoColor)</div><div class="ttdef"><b>Definition:</b> <a href="qpainter_8cpp_source.html#l05936">qpainter.cpp:5936</a></div></div>
<div class="ttc" id="classQVNCDirtyMap_html_aa65a22175023c343bcf722cbc99bc765"><div class="ttname"><a href="classQVNCDirtyMap.html#aa65a22175023c343bcf722cbc99bc765">QVNCDirtyMap::bytesPerPixel</a></div><div class="ttdeci">int bytesPerPixel</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00115">qscreenvnc_p.h:115</a></div></div>
<div class="ttc" id="classQProxyScreen_html_accac439a1505ebb694f33c7c72c40c9d"><div class="ttname"><a href="classQProxyScreen.html#accac439a1505ebb694f33c7c72c40c9d">QProxyScreen::shutdownDevice</a></div><div class="ttdeci">void shutdownDevice()</div><div class="ttdoc">Reimplemented Function </div><div class="ttdef"><b>Definition:</b> <a href="qscreenproxy__qws_8cpp_source.html#l00441">qscreenproxy_qws.cpp:441</a></div></div>
<div class="ttc" id="qfontsubset_8cpp_html_a83028518b8b40ed14c1c522b71d2eaa4"><div class="ttname"><a href="qfontsubset_8cpp.html#a83028518b8b40ed14c1c522b71d2eaa4">index</a></div><div class="ttdeci">quint16 index</div><div class="ttdef"><b>Definition:</b> <a href="qfontsubset_8cpp_source.html#l00116">qfontsubset.cpp:116</a></div></div>
<div class="ttc" id="qrgb_8h_html_a089780d47442a31aefd726ae9f9ad5a9"><div class="ttname"><a href="qrgb_8h.html#a089780d47442a31aefd726ae9f9ad5a9">qGreen</a></div><div class="ttdeci">Q_GUI_EXPORT_INLINE int qGreen(QRgb rgb)</div><div class="ttdef"><b>Definition:</b> <a href="qrgb_8h_source.html#l00060">qrgb.h:60</a></div></div>
<div class="ttc" id="classQScreen_html_ada6915e87739f626ab6e65e044c7ff42"><div class="ttname"><a href="classQScreen.html#ada6915e87739f626ab6e65e044c7ff42">QScreen::lstep</a></div><div class="ttdeci">int lstep</div><div class="ttdoc">the number of bytes representing a line in the frame buffer. </div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00325">qscreen_qws.h:325</a></div></div>
<div class="ttc" id="classQRfbServerInit_html_a534613a4f320d9ab48e812da5c58037f"><div class="ttname"><a href="classQRfbServerInit.html#a534613a4f320d9ab48e812da5c58037f">QRfbServerInit::width</a></div><div class="ttdeci">quint16 width</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00190">qscreenvnc_p.h:190</a></div></div>
<div class="ttc" id="classQRfbClientCutText_html"><div class="ttname"><a href="classQRfbClientCutText.html">QRfbClientCutText</a></div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00233">qscreenvnc_p.h:233</a></div></div>
<div class="ttc" id="classQRfbPixelFormat_html_a3108030d9fcaa55adcfb3106449b7e39"><div class="ttname"><a href="classQRfbPixelFormat.html#a3108030d9fcaa55adcfb3106449b7e39">QRfbPixelFormat::greenShift</a></div><div class="ttdeci">int greenShift</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00174">qscreenvnc_p.h:174</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a51f3e260439310e36877901a7b736fb4"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a51f3e260439310e36877901a7b736fb4">Qt::Key_Insert</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00625">qnamespace.h:625</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8ab64e7feca9c2ca95db9a5b74f862bffc"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8ab64e7feca9c2ca95db9a5b74f862bffc">Qt::Key_F1</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00652">qnamespace.h:652</a></div></div>
<div class="ttc" id="classQRfbRawEncoder_html_a7d80aad11d95346ed2528a0627fb33c4"><div class="ttname"><a href="classQRfbRawEncoder.html#a7d80aad11d95346ed2528a0627fb33c4">QRfbRawEncoder::write</a></div><div class="ttdeci">void write()</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l01898">qscreenvnc_qws.cpp:1898</a></div></div>
<div class="ttc" id="classQByteArray_html_a060e3866557ed4b6d98984316f7d700e"><div class="ttname"><a href="classQByteArray.html#a060e3866557ed4b6d98984316f7d700e">QByteArray::isEmpty</a></div><div class="ttdeci">bool isEmpty() const</div><div class="ttdoc">Returns true if the byte array has size 0; otherwise returns false. </div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8h_source.html#l00421">qbytearray.h:421</a></div></div>
<div class="ttc" id="classQSharedMemory_html_aecf486fa03ba4b39b868f43584f2328a"><div class="ttname"><a href="classQSharedMemory.html#aecf486fa03ba4b39b868f43584f2328a">QSharedMemory::setKey</a></div><div class="ttdeci">void setKey(const QString &amp;key)</div><div class="ttdoc">Sets the platform independent key for this shared memory object. </div><div class="ttdef"><b>Definition:</b> <a href="qsharedmemory_8cpp_source.html#l00223">qsharedmemory.cpp:223</a></div></div>
<div class="ttc" id="classQString_html_a523a85a2871b7d22ea87afc82c0733ed"><div class="ttname"><a href="classQString.html#a523a85a2871b7d22ea87afc82c0733ed">QString::split</a></div><div class="ttdeci">QStringList split(const QString &amp;sep, SplitBehavior behavior=KeepEmptyParts, Qt::CaseSensitivity cs=Qt::CaseSensitive) const Q_REQUIRED_RESULT</div><div class="ttdoc">Splits the string into substrings wherever sep occurs, and returns the list of those strings...</div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l06526">qstring.cpp:6526</a></div></div>
<div class="ttc" id="classQVNCServer_html_a0d0ecb85cf3efd13206d05b1903e0a3f"><div class="ttname"><a href="classQVNCServer.html#a0d0ecb85cf3efd13206d05b1903e0a3f">QVNCServer::screenImage</a></div><div class="ttdeci">QImage screenImage() const</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l02002">qscreenvnc_qws.cpp:2002</a></div></div>
<div class="ttc" id="classQRect_html_ae4d9c85f59251952aa006448ba0cbe2b"><div class="ttname"><a href="classQRect.html#ae4d9c85f59251952aa006448ba0cbe2b">QRect::intersects</a></div><div class="ttdeci">bool intersects(const QRect &amp;r) const</div><div class="ttdoc">Returns true if this rectangle intersects with the given rectangle (i. </div><div class="ttdef"><b>Definition:</b> <a href="qrect_8cpp_source.html#l01429">qrect.cpp:1429</a></div></div>
<div class="ttc" id="classQVNCDirtyMap_html_ac223a4c00cef63ebc62c5fae63e68694"><div class="ttname"><a href="classQVNCDirtyMap.html#ac223a4c00cef63ebc62c5fae63e68694">QVNCDirtyMap::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l01685">qscreenvnc_qws.cpp:1685</a></div></div>
<div class="ttc" id="classQPoint_html_a14861329ac9e84a82ab0049e497fe267"><div class="ttname"><a href="classQPoint.html#a14861329ac9e84a82ab0049e497fe267">QPoint::x</a></div><div class="ttdeci">int x() const</div><div class="ttdoc">Returns the x coordinate of this point. </div><div class="ttdef"><b>Definition:</b> <a href="qpoint_8h_source.html#l00128">qpoint.h:128</a></div></div>
<div class="ttc" id="classQSharedMemory_html_a2f4648afd9e2eec1dc573074da70f7f2"><div class="ttname"><a href="classQSharedMemory.html#a2f4648afd9e2eec1dc573074da70f7f2">QSharedMemory::errorString</a></div><div class="ttdeci">QString errorString() const</div><div class="ttdoc">Returns a text description of the last error that occurred. </div><div class="ttdef"><b>Definition:</b> <a href="qsharedmemory_8cpp_source.html#l00620">qsharedmemory.cpp:620</a></div></div>
<div class="ttc" id="classQPlatformSoftwareCursor_html_abcb28f201787862e885707ffc862520f"><div class="ttname"><a href="classQPlatformSoftwareCursor.html#abcb28f201787862e885707ffc862520f">QPlatformSoftwareCursor::dirty</a></div><div class="ttdeci">bool dirty</div><div class="ttdef"><b>Definition:</b> <a href="fb__base_8h_source.html#l00088">fb_base.h:88</a></div></div>
<div class="ttc" id="classQImage_html_a810aa2990f23c8aa8dc82c59ba11bd8da966846823361b4e2574c34763085a1c7"><div class="ttname"><a href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8da966846823361b4e2574c34763085a1c7">QImage::Format_RGB444</a></div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00106">qimage.h:106</a></div></div>
<div class="ttc" id="structQRfbDualColorHextile_1_1Rect_html"><div class="ttname"><a href="structQRfbDualColorHextile_1_1Rect.html">QRfbDualColorHextile::Rect</a></div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00312">qscreenvnc_p.h:312</a></div></div>
<div class="ttc" id="classQVNCDirtyMap_html_a32a13a8c94ae5886f9e183906ada2ddb"><div class="ttname"><a href="classQVNCDirtyMap.html#a32a13a8c94ae5886f9e183906ada2ddb">QVNCDirtyMap::numTiles</a></div><div class="ttdeci">int numTiles</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00128">qscreenvnc_p.h:128</a></div></div>
<div class="ttc" id="classQScreen_html_a71472bcc73bb7f27c8b285787fbdae68"><div class="ttname"><a href="classQScreen.html#a71472bcc73bb7f27c8b285787fbdae68">QScreen::h</a></div><div class="ttdeci">int h</div><div class="ttdoc">the logical height of the screen. </div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00326">qscreen_qws.h:326</a></div></div>
<div class="ttc" id="classQProxyScreen_html_a4fce56ac727f603c2442930bdde0cc0c"><div class="ttname"><a href="classQProxyScreen.html#a4fce56ac727f603c2442930bdde0cc0c">QProxyScreen::screen</a></div><div class="ttdeci">QScreen * screen() const</div><div class="ttdoc">Returns the real screen used by the proxy screen. </div><div class="ttdef"><b>Definition:</b> <a href="qscreenproxy__qws_8cpp_source.html#l00217">qscreenproxy_qws.cpp:217</a></div></div>
<div class="ttc" id="classQVNCScreenPrivate_html_abae65ba08fde6921676aebf336f11b18"><div class="ttname"><a href="classQVNCScreenPrivate.html#abae65ba08fde6921676aebf336f11b18">QVNCScreenPrivate::QVNCScreenPrivate</a></div><div class="ttdeci">QVNCScreenPrivate(QVNCScreen *parent)</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00196">qscreenvnc_qws.cpp:196</a></div></div>
<div class="ttc" id="classQRfbFrameBufferUpdateRequest_html_ae6ca5b1ca73324ab6b66d17e0c077a20"><div class="ttname"><a href="classQRfbFrameBufferUpdateRequest.html#ae6ca5b1ca73324ab6b66d17e0c077a20">QRfbFrameBufferUpdateRequest::rect</a></div><div class="ttdeci">QRfbRect rect</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00210">qscreenvnc_p.h:210</a></div></div>
<div class="ttc" id="qscreen__qws_8cpp_html_ad95a3323df4ce8090adbdf624efc1efe"><div class="ttname"><a href="qscreen__qws_8cpp.html#ad95a3323df4ce8090adbdf624efc1efe">qt_screencursor</a></div><div class="ttdeci">Q_GUI_EXPORT QScreenCursor * qt_screencursor</div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8cpp_source.html#l00067">qscreen_qws.cpp:67</a></div></div>
<div class="ttc" id="classQVNCScreen_html_a3c50caefd970e34929cd7ab962104f99"><div class="ttname"><a href="classQVNCScreen.html#a3c50caefd970e34929cd7ab962104f99">QVNCScreen::shutdownDevice</a></div><div class="ttdeci">void shutdownDevice()</div><div class="ttdoc">Reimplemented Function </div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l02335">qscreenvnc_qws.cpp:2335</a></div></div>
<div class="ttc" id="classQTimer_html"><div class="ttname"><a href="classQTimer.html">QTimer</a></div><div class="ttdoc">The QTimer class provides repetitive and single-shot timers. </div><div class="ttdef"><b>Definition:</b> <a href="qtimer_8h_source.html#l00056">qtimer.h:56</a></div></div>
<div class="ttc" id="classQVNCCursor_html_ab67227b991269313a039ba773a80bc1d"><div class="ttname"><a href="classQVNCCursor.html#ab67227b991269313a039ba773a80bc1d">QVNCCursor::move</a></div><div class="ttdeci">void move(int x, int y)</div><div class="ttdoc">Reimplemented Function </div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00117">qscreenvnc_qws.cpp:117</a></div></div>
<div class="ttc" id="classQVNCCursor_html_a5b929adae8d21ad02ef1642c88c6604c"><div class="ttname"><a href="classQVNCCursor.html#a5b929adae8d21ad02ef1642c88c6604c">QVNCCursor::~QVNCCursor</a></div><div class="ttdeci">~QVNCCursor()</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00080">qscreenvnc_qws.cpp:80</a></div></div>
<div class="ttc" id="classQWSDisplay_html_a00d0c5440d4cba3c54d4fe3e019863cf"><div class="ttname"><a href="classQWSDisplay.html#a00d0c5440d4cba3c54d4fe3e019863cf">QWSDisplay::ungrab</a></div><div class="ttdeci">static void ungrab()</div><div class="ttdef"><b>Definition:</b> <a href="qapplication__qws_8cpp_source.html#l01322">qapplication_qws.cpp:1322</a></div></div>
<div class="ttc" id="classQVNCDirtyMap_html_a256bffb30576deb3d2470ec7ec563980"><div class="ttname"><a href="classQVNCDirtyMap.html#a256bffb30576deb3d2470ec7ec563980">QVNCDirtyMap::~QVNCDirtyMap</a></div><div class="ttdeci">virtual ~QVNCDirtyMap()</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l01679">qscreenvnc_qws.cpp:1679</a></div></div>
<div class="ttc" id="classQIODevice_html_a70a53a0abd1961e2a9e1906623b70d57"><div class="ttname"><a href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">QIODevice::write</a></div><div class="ttdeci">qint64 write(const char *data, qint64 len)</div><div class="ttdoc">Writes at most maxSize bytes of data from data to the device. </div><div class="ttdef"><b>Definition:</b> <a href="qiodevice_8cpp_source.html#l01342">qiodevice.cpp:1342</a></div></div>
<div class="ttc" id="classQRfbKeyEvent_html_a719fa310339010f1456aff4859820163"><div class="ttname"><a href="classQRfbKeyEvent.html#a719fa310339010f1456aff4859820163">QRfbKeyEvent::keycode</a></div><div class="ttdeci">int keycode</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00219">qscreenvnc_p.h:219</a></div></div>
<div class="ttc" id="classQVNCServer_html_adcaa4c3ce4d58d41f9a3c0a784c678c7"><div class="ttname"><a href="classQVNCServer.html#adcaa4c3ce4d58d41f9a3c0a784c678c7">QVNCServer::supportCoRRE</a></div><div class="ttdeci">uint supportCoRRE</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00500">qscreenvnc_p.h:500</a></div></div>
<div class="ttc" id="classQVNCScreenPrivate_html_a6048b8a0d4fc77ec24f13a6f464f204d"><div class="ttname"><a href="classQVNCScreenPrivate.html#a6048b8a0d4fc77ec24f13a6f464f204d">QVNCScreenPrivate::dpiY</a></div><div class="ttdeci">qreal dpiY</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00251">qscreenvnc_p.h:251</a></div></div>
<div class="ttc" id="classQVNCDirtyMap_html_aea6397e930ae1812ed4c76c8d79f0335"><div class="ttname"><a href="classQVNCDirtyMap.html#aea6397e930ae1812ed4c76c8d79f0335">QVNCDirtyMap::setClean</a></div><div class="ttdeci">void setClean(int x, int y)</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l01697">qscreenvnc_qws.cpp:1697</a></div></div>
<div class="ttc" id="classQString_html_a9ff009a9f16492af5556d13a4e7ac5ef"><div class="ttname"><a href="classQString.html#a9ff009a9f16492af5556d13a4e7ac5ef">QString::endsWith</a></div><div class="ttdeci">bool endsWith(const QString &amp;s, Qt::CaseSensitivity cs=Qt::CaseSensitive) const</div><div class="ttdoc">Returns true if the string ends with s; otherwise returns false. </div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l03796">qstring.cpp:3796</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a3541d18f021b3c116b4ba96b60a3100b"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a3541d18f021b3c116b4ba96b60a3100b">Qt::Key_2</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00714">qnamespace.h:714</a></div></div>
<div class="ttc" id="classQRfbPixelFormat_html"><div class="ttname"><a href="classQRfbPixelFormat.html">QRfbPixelFormat</a></div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00158">qscreenvnc_p.h:158</a></div></div>
<div class="ttc" id="classQScreenCursor_html_a6649624f08a3186a8bccbe282adfc683"><div class="ttname"><a href="classQScreenCursor.html#a6649624f08a3186a8bccbe282adfc683">QScreenCursor::cursor</a></div><div class="ttdeci">QImage cursor</div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00159">qscreen_qws.h:159</a></div></div>
<div class="ttc" id="classQRect_html_a8b66af437458bad051a615f27326ecbd"><div class="ttname"><a href="classQRect.html#a8b66af437458bad051a615f27326ecbd">QRect::translate</a></div><div class="ttdeci">void translate(int dx, int dy)</div><div class="ttdoc">Moves the rectangle dx along the x axis and dy along the y axis, relative to the current position...</div><div class="ttdef"><b>Definition:</b> <a href="qrect_8h_source.html#l00312">qrect.h:312</a></div></div>
<div class="ttc" id="classQRfbSetEncodings_html"><div class="ttname"><a href="classQRfbSetEncodings.html">QRfbSetEncodings</a></div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00196">qscreenvnc_p.h:196</a></div></div>
<div class="ttc" id="classQScreen_html_a4a335c67c91673ce6164701ccd970042"><div class="ttname"><a href="classQScreen.html#a4a335c67c91673ce6164701ccd970042">QScreen::mapsize</a></div><div class="ttdeci">int mapsize</div><div class="ttdoc">the total number of bytes in the frame buffer </div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00335">qscreen_qws.h:335</a></div></div>
<div class="ttc" id="classQRfbHextileEncoder_html_ab238e5e315899418c4dddb2db1500f19"><div class="ttname"><a href="classQRfbHextileEncoder.html#ab238e5e315899418c4dddb2db1500f19">QRfbHextileEncoder::singleColorHextile</a></div><div class="ttdeci">QRfbSingleColorHextile&lt; SRC &gt; singleColorHextile</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00417">qscreenvnc_p.h:417</a></div></div>
<div class="ttc" id="classQTimer_html_a3b4fd7191bc2ebd5a19c74a1ebbe53eb"><div class="ttname"><a href="classQTimer.html#a3b4fd7191bc2ebd5a19c74a1ebbe53eb">QTimer::start</a></div><div class="ttdeci">void start(int msec)</div><div class="ttdoc">Starts or restarts the timer with a timeout interval of msec milliseconds. </div><div class="ttdef"><b>Definition:</b> <a href="qtimer_8cpp_source.html#l00249">qtimer.cpp:249</a></div></div>
<div class="ttc" id="classQRfbHextileEncoder_html_a33f5fc4836aae2024597318f605431cb"><div class="ttname"><a href="classQRfbHextileEncoder.html#a33f5fc4836aae2024597318f605431cb">QRfbHextileEncoder::multiColorHextile</a></div><div class="ttdeci">QRfbMultiColorHextile&lt; SRC &gt; multiColorHextile</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00419">qscreenvnc_p.h:419</a></div></div>
<div class="ttc" id="classQVNCServer_html_a773ed472f7b48ce66b055a6d2a4fcc36"><div class="ttname"><a href="classQVNCServer.html#a773ed472f7b48ce66b055a6d2a4fcc36">QVNCServer::handleMsg</a></div><div class="ttdeci">bool handleMsg</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00493">qscreenvnc_p.h:493</a></div></div>
<div class="ttc" id="classQApplication_html_a8a6a78e70fb097aa97ce61d9366d7c2b"><div class="ttname"><a href="classQApplication.html#a8a6a78e70fb097aa97ce61d9366d7c2b">QApplication::type</a></div><div class="ttdeci">static Type type()</div><div class="ttdoc">Returns the type of application (Tty , GuiClient, or GuiServer). </div><div class="ttdef"><b>Definition:</b> <a href="qapplication_8cpp_source.html#l01050">qapplication.cpp:1050</a></div></div>
<div class="ttc" id="classQRfbHextileEncoder_html_a4a368e0de5baa1ff92ab7ff37f62b31a"><div class="ttname"><a href="classQRfbHextileEncoder.html#a4a368e0de5baa1ff92ab7ff37f62b31a">QRfbHextileEncoder::dualColorHextile</a></div><div class="ttdeci">QRfbDualColorHextile&lt; SRC &gt; dualColorHextile</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00418">qscreenvnc_p.h:418</a></div></div>
<div class="ttc" id="classQVNCScreenPrivate_html_addc84e23f2b86445c11a3d44a2bee677"><div class="ttname"><a href="classQVNCScreenPrivate.html#addc84e23f2b86445c11a3d44a2bee677">QVNCScreenPrivate::dirty</a></div><div class="ttdeci">QVNCDirtyMap * dirty</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00253">qscreenvnc_p.h:253</a></div></div>
<div class="ttc" id="classQPlatformSoftwareCursor_html_a2fd188360c6f7dff8d921e4e65cfa1fd"><div class="ttname"><a href="classQPlatformSoftwareCursor.html#a2fd188360c6f7dff8d921e4e65cfa1fd">QPlatformSoftwareCursor::setDirty</a></div><div class="ttdeci">virtual void setDirty()</div><div class="ttdef"><b>Definition:</b> <a href="fb__base_8h_source.html#l00073">fb_base.h:73</a></div></div>
<div class="ttc" id="classQVector_html_a3b40ac78d8377b150a0467a7fe139eef"><div class="ttname"><a href="classQVector.html#a3b40ac78d8377b150a0467a7fe139eef">QVector::size</a></div><div class="ttdeci">int size() const</div><div class="ttdoc">Returns the number of items in the vector. </div><div class="ttdef"><b>Definition:</b> <a href="qvector_8h_source.html#l00137">qvector.h:137</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a2a469d4b6c1bf0d38b2dc64cb0690f76"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a2a469d4b6c1bf0d38b2dc64cb0690f76">Qt::Key_Space</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00695">qnamespace.h:695</a></div></div>
<div class="ttc" id="classQVNCScreen_html_a7fe8cdb734a67dc33bf959c26219a14d"><div class="ttname"><a href="classQVNCScreen.html#a7fe8cdb734a67dc33bf959c26219a14d">QVNCScreen::d_ptr</a></div><div class="ttdeci">QVNCScreenPrivate * d_ptr</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8h_source.html#l00080">qscreenvnc_qws.h:80</a></div></div>
<div class="ttc" id="classQVNCServer_html_aa4822bbe58c09024700e332470c42b91"><div class="ttname"><a href="classQVNCServer.html#aa4822bbe58c09024700e332470c42b91">QVNCServer::readClient</a></div><div class="ttdeci">void readClient()</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00659">qscreenvnc_qws.cpp:659</a></div></div>
<div class="ttc" id="classQProxyScreenCursor_html_a0283998020dd403783b107e922304350"><div class="ttname"><a href="classQProxyScreenCursor.html#a0283998020dd403783b107e922304350">QProxyScreenCursor::move</a></div><div class="ttdeci">void move(int x, int y)</div><div class="ttdoc">Reimplemented Function </div><div class="ttdef"><b>Definition:</b> <a href="qscreenproxy__qws_8cpp_source.html#l00117">qscreenproxy_qws.cpp:117</a></div></div>
<div class="ttc" id="structQLatin1Char_html"><div class="ttname"><a href="structQLatin1Char.html">QLatin1Char</a></div><div class="ttdoc">The QLatin1Char class provides an 8-bit ASCII/Latin-1 character. </div><div class="ttdef"><b>Definition:</b> <a href="qchar_8h_source.html#l00055">qchar.h:55</a></div></div>
<div class="ttc" id="classQRfbMultiColorHextile_html_a4c9803fd3ea694219da6600f91e659da"><div class="ttname"><a href="classQRfbMultiColorHextile.html#a4c9803fd3ea694219da6600f91e659da">QRfbMultiColorHextile::setColor</a></div><div class="ttdeci">void setColor(SRC color)</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l01293">qscreenvnc_qws.cpp:1293</a></div></div>
<div class="ttc" id="classQVNCScreenPrivate_html_a1db739aab20a1e2eea9706878be9a7a3"><div class="ttname"><a href="classQVNCScreenPrivate.html#a1db739aab20a1e2eea9706878be9a7a3">QVNCScreenPrivate::dpiX</a></div><div class="ttdeci">qreal dpiX</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00250">qscreenvnc_p.h:250</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a4b8276374ddce509556353f3cf20dbca"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a4b8276374ddce509556353f3cf20dbca">Qt::Key_8</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00720">qnamespace.h:720</a></div></div>
<div class="ttc" id="qglobal_8h_html_a5dc6913d1018db45dc5fe236724d71c9"><div class="ttname"><a href="qglobal_8h.html#a5dc6913d1018db45dc5fe236724d71c9">qRound</a></div><div class="ttdeci">Q_DECL_CONSTEXPR int qRound(qreal d)</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l01203">qglobal.h:1203</a></div></div>
<div class="ttc" id="classQScreenCursor_html_af20b7bb70db6be41443bad575e5f709a"><div class="ttname"><a href="classQScreenCursor.html#af20b7bb70db6be41443bad575e5f709a">QScreenCursor::set</a></div><div class="ttdeci">virtual void set(const QImage &amp;image, int hotx, int hoty)</div><div class="ttdoc">Sets the cursor&amp;#39;s image to be the given image. </div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8cpp_source.html#l00180">qscreen_qws.cpp:180</a></div></div>
<div class="ttc" id="classQVNCServer_html_a5fd2d259d00c66f6ca410081c4bf7d81"><div class="ttname"><a href="classQVNCServer.html#a5fd2d259d00c66f6ca410081c4bf7d81">QVNCServer::msgType</a></div><div class="ttdeci">quint8 msgType</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00492">qscreenvnc_p.h:492</a></div></div>
<div class="ttc" id="classQVNCDirtyMap_html_ac7122800166c1e8f3d48a3dbe4860bc7"><div class="ttname"><a href="classQVNCDirtyMap.html#ac7122800166c1e8f3d48a3dbe4860bc7">QVNCDirtyMap::bufferStride</a></div><div class="ttdeci">int bufferStride</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00127">qscreenvnc_p.h:127</a></div></div>
<div class="ttc" id="classQPainter_html_abce409fef1929e0b232e937e3b2c67da"><div class="ttname"><a href="classQPainter.html#abce409fef1929e0b232e937e3b2c67da">QPainter::end</a></div><div class="ttdeci">bool end()</div><div class="ttdoc">Ends painting. </div><div class="ttdef"><b>Definition:</b> <a href="qpainter_8cpp_source.html#l01929">qpainter.cpp:1929</a></div></div>
<div class="ttc" id="classQImage_html_a3eaa287aa9c14f2620734479a1e9ddb1"><div class="ttname"><a href="classQImage.html#a3eaa287aa9c14f2620734479a1e9ddb1">QImage::scanLine</a></div><div class="ttdeci">uchar * scanLine(int)</div><div class="ttdoc">Returns a pointer to the pixel data at the scanline with index i. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l01886">qimage.cpp:1886</a></div></div>
<div class="ttc" id="classQAbstractSocket_html_ac7e611d92bd1f4936a6d4a391df74c06"><div class="ttname"><a href="classQAbstractSocket.html#ac7e611d92bd1f4936a6d4a391df74c06">QAbstractSocket::state</a></div><div class="ttdeci">SocketState state() const</div><div class="ttdoc">Returns the state of the socket. </div><div class="ttdef"><b>Definition:</b> <a href="qabstractsocket_8cpp_source.html#l02773">qabstractsocket.cpp:2773</a></div></div>
<div class="ttc" id="classQScreen_html_aac4624b38dd6934976d02c2de0d30fd4"><div class="ttname"><a href="classQScreen.html#aac4624b38dd6934976d02c2de0d30fd4">QScreen::offset</a></div><div class="ttdeci">QPoint offset() const</div><div class="ttdoc">Returns the logical offset of the screen, i. </div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8cpp_source.html#l03311">qscreen_qws.cpp:3311</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a9f2b171077972d1b23cd90d8143aedb4"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a9f2b171077972d1b23cd90d8143aedb4">Qt::Key_F2</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00653">qnamespace.h:653</a></div></div>
<div class="ttc" id="qobjectdefs_8h_html_a1144b296168b3bd3f9c04d75f4d5b94c"><div class="ttname"><a href="qobjectdefs_8h.html#a1144b296168b3bd3f9c04d75f4d5b94c">text</a></div><div class="ttdeci">#define text</div><div class="ttdef"><b>Definition:</b> <a href="qobjectdefs_8h_source.html#l00080">qobjectdefs.h:80</a></div></div>
<div class="ttc" id="classQScreen_html_a7a86703b88f42ff6b31a680d7c23d692"><div class="ttname"><a href="classQScreen.html#a7a86703b88f42ff6b31a680d7c23d692">QScreen::depth</a></div><div class="ttdeci">int depth() const</div><div class="ttdoc">Returns the depth of the framebuffer, in bits per pixel. </div><div class="ttdef"><b>Definition:</b> <a href="qscreen__qws_8h_source.html#l00229">qscreen_qws.h:229</a></div></div>
<div class="ttc" id="classQVNCServer_html_a58981b4991647063f4dddec3e0b8c42b"><div class="ttname"><a href="classQVNCServer.html#a58981b4991647063f4dddec3e0b8c42b">QVNCServer::clientBytesPerPixel</a></div><div class="ttdeci">int clientBytesPerPixel() const</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00457">qscreenvnc_p.h:457</a></div></div>
<div class="ttc" id="classQVNCServer_html_ab62b222061e707fef2990d4c7faf7c34"><div class="ttname"><a href="classQVNCServer.html#ab62b222061e707fef2990d4c7faf7c34">QVNCServer::sameEndian</a></div><div class="ttdeci">bool sameEndian</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00506">qscreenvnc_p.h:506</a></div></div>
<div class="ttc" id="qwsdisplay__qws_8h_html"><div class="ttname"><a href="qwsdisplay__qws_8h.html">qwsdisplay_qws.h</a></div></div>
<div class="ttc" id="classQVNCScreen_html_a5dd9c9f63a24115a07e8ab1f982abfee"><div class="ttname"><a href="classQVNCScreen.html#a5dd9c9f63a24115a07e8ab1f982abfee">QVNCScreen::disconnect</a></div><div class="ttdeci">void disconnect()</div><div class="ttdoc">Reimplemented Function </div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l02251">qscreenvnc_qws.cpp:2251</a></div></div>
<div class="ttc" id="classQVNCServer_html_ad5c39ad8935f64edecaa5b2bb8bfaec5"><div class="ttname"><a href="classQVNCServer.html#ad5c39ad8935f64edecaa5b2bb8bfaec5">QVNCServer::qvnc_cursor</a></div><div class="ttdeci">QVNCClientCursor * qvnc_cursor</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00515">qscreenvnc_p.h:515</a></div></div>
<div class="ttc" id="classQVNCDirtyMapOptimized_html_adcd3cfaa4c3328d4db2fdc01eba2499a"><div class="ttname"><a href="classQVNCDirtyMapOptimized.html#adcd3cfaa4c3328d4db2fdc01eba2499a">QVNCDirtyMapOptimized::setDirty</a></div><div class="ttdeci">void setDirty(int x, int y, bool force=false)</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l01704">qscreenvnc_qws.cpp:1704</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a778b978416b363dc8ecaa487c92a34f6"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a778b978416b363dc8ecaa487c92a34f6">Qt::Key_F11</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00662">qnamespace.h:662</a></div></div>
<div class="ttc" id="classQRect_html_a05339fd3904518eb58dcd9d21453325e"><div class="ttname"><a href="classQRect.html#a05339fd3904518eb58dcd9d21453325e">QRect::topLeft</a></div><div class="ttdeci">QPoint topLeft() const</div><div class="ttdoc">Returns the position of the rectangle&amp;#39;s top-left corner. </div><div class="ttdef"><b>Definition:</b> <a href="qrect_8h_source.html#l00288">qrect.h:288</a></div></div>
<div class="ttc" id="classQRfbPixelFormat_html_adb7a4836d3fe11bb8f8c8422bdf47412"><div class="ttname"><a href="classQRfbPixelFormat.html#adb7a4836d3fe11bb8f8c8422bdf47412">QRfbPixelFormat::bitsPerPixel</a></div><div class="ttdeci">int bitsPerPixel</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00166">qscreenvnc_p.h:166</a></div></div>
<div class="ttc" id="classQVNCScreenPrivate_html_ac2f135e3dd823b71609f3f0e8a0ca15b"><div class="ttname"><a href="classQVNCScreenPrivate.html#ac2f135e3dd823b71609f3f0e8a0ca15b">QVNCScreenPrivate::vncServer</a></div><div class="ttdeci">QVNCServer * vncServer</div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__p_8h_source.html#l00255">qscreenvnc_p.h:255</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a578d2be4b693cb921be6eb5b8e6022c8"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a578d2be4b693cb921be6eb5b8e6022c8">Qt::Key_Left</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00633">qnamespace.h:633</a></div></div>
<div class="ttc" id="classQVNCCursor_html_a3cbc88e2c3c759666a37bc3cf4954b46"><div class="ttname"><a href="classQVNCCursor.html#a3cbc88e2c3c759666a37bc3cf4954b46">QVNCCursor::set</a></div><div class="ttdeci">void set(const QImage &amp;image, int hotx, int hoty)</div><div class="ttdoc">Reimplemented Function </div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l00105">qscreenvnc_qws.cpp:105</a></div></div>
<div class="ttc" id="classQList_html_a318a24dd49568516ad82cc341fe1aada"><div class="ttname"><a href="classQList.html#a318a24dd49568516ad82cc341fe1aada">QList::removeAt</a></div><div class="ttdeci">void removeAt(int i)</div><div class="ttdoc">Removes the item at index position i. </div><div class="ttdef"><b>Definition:</b> <a href="qlist_8h_source.html#l00480">qlist.h:480</a></div></div>
<div class="ttc" id="classQVNCScreen_html_af37051542d694de955150ec4e4ecfd5e"><div class="ttname"><a href="classQVNCScreen.html#af37051542d694de955150ec4e4ecfd5e">QVNCScreen::QVNCScreen</a></div><div class="ttdeci">QVNCScreen(int display_id)</div><div class="ttdoc">Constructs a QVNCScreen object. </div><div class="ttdef"><b>Definition:</b> <a href="qscreenvnc__qws_8cpp_source.html#l02086">qscreenvnc_qws.cpp:2086</a></div></div>
</div><!-- fragment --></div><!-- contents -->

<hr class="footer"/><address class="footer"><small><a href="https://dreamswork.github.io/qt4/">Qt 4.8 Source Code Browser</a></small></address>
</body>
</html>
