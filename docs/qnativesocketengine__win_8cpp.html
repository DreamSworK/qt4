<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Qt 4.8: /src/network/socket/qnativesocketengine_win.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="qt_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Qt 4.8
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0"
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_1427e6b9e14483d8a13b4ea1c69420e3.html">qt-4.8.6</a></li><li class="navelem"><a class="el" href="dir_42c0970699667688278d00b1a5e7112e.html">src</a></li><li class="navelem"><a class="el" href="dir_735fc7b37b0ae9332e079420f59340ca.html">network</a></li><li class="navelem"><a class="el" href="dir_a4f44f8295613b0822019ffe42f6f94e.html">socket</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">qnativesocketengine_win.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;winsock2.h&gt;</code><br />
<code>#include &lt;ws2tcpip.h&gt;</code><br />
<code>#include &quot;<a class="el" href="qnativesocketengine__p_8h_source.html">qnativesocketengine_p.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="qabstracteventdispatcher_8h_source.html">qabstracteventdispatcher.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="qsocketnotifier_8h_source.html">qsocketnotifier.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="qdebug_8h_source.html">qdebug.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="qdatetime_8h_source.html">qdatetime.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="qnetworkinterface_8h_source.html">qnetworkinterface.h</a>&gt;</code><br />
</div>
<p><a href="qnativesocketengine__win_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a2202dc3b598d5feb36a9a740f48b04d0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qnativesocketengine__win_8cpp.html#a2202dc3b598d5feb36a9a740f48b04d0">_WSAIOW</a>(x,  y)&#160;&#160;&#160;(IOC_IN|(x)|(y))</td></tr>
<tr class="separator:a2202dc3b598d5feb36a9a740f48b04d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa03706b2738b9a58d4985dfbe99e1bac"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qnativesocketengine__win_8cpp.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a>&#160;&#160;&#160;23              /* Internetwork Version 6 */</td></tr>
<tr class="separator:aa03706b2738b9a58d4985dfbe99e1bac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad124b03dd22c86ff365e7527e501ad71"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qnativesocketengine__win_8cpp.html#ad124b03dd22c86ff365e7527e501ad71">IOC_VENDOR</a>&#160;&#160;&#160;0x18000000</td></tr>
<tr class="separator:ad124b03dd22c86ff365e7527e501ad71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe512672695ebcdacba0af3511cf8501"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qnativesocketengine__win_8cpp.html#abe512672695ebcdacba0af3511cf8501">QT_SOCKLEN_T</a>&#160;&#160;&#160;int</td></tr>
<tr class="separator:abe512672695ebcdacba0af3511cf8501"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5c43af32678fc1626cc6c988afdcf0c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qnativesocketengine__win_8cpp.html#ac5c43af32678fc1626cc6c988afdcf0c">QT_SOCKOPTLEN_T</a>&#160;&#160;&#160;int</td></tr>
<tr class="separator:ac5c43af32678fc1626cc6c988afdcf0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a403340f0d24de144ba88d722b84cb4c9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qnativesocketengine__win_8cpp.html#a403340f0d24de144ba88d722b84cb4c9">SIO_UDP_CONNRESET</a>&#160;&#160;&#160;<a class="el" href="qnativesocketengine__win_8cpp.html#a2202dc3b598d5feb36a9a740f48b04d0">_WSAIOW</a>(<a class="el" href="qnativesocketengine__win_8cpp.html#ad124b03dd22c86ff365e7527e501ad71">IOC_VENDOR</a>,12)</td></tr>
<tr class="separator:a403340f0d24de144ba88d722b84cb4c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08d008d32fd39e2ba5bd575a0ddb59cd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qnativesocketengine__win_8cpp.html#a08d008d32fd39e2ba5bd575a0ddb59cd">SO_EXCLUSIVEADDRUSE</a>&#160;&#160;&#160;((int)(~SO_REUSEADDR)) /* disallow local address reuse */</td></tr>
<tr class="separator:a08d008d32fd39e2ba5bd575a0ddb59cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a730d84a01a95366579c02ae546631b8b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qnativesocketengine__win_8cpp.html#a730d84a01a95366579c02ae546631b8b">WS_ERROR_DEBUG</a>(x)&#160;&#160;&#160;<a class="el" href="qglobal_8h.html#ab50b9ec9f8efb4c169cbd1a13b1fe2b1">Q_UNUSED</a>(x)</td></tr>
<tr class="separator:a730d84a01a95366579c02ae546631b8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3377f1204b60922bb54764376756dfe2"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qnativesocketengine__win_8cpp.html#a3377f1204b60922bb54764376756dfe2">multicastMembershipHelper</a> (<a class="el" href="classQNativeSocketEnginePrivate.html">QNativeSocketEnginePrivate</a> *<a class="el" href="qnumeric__p_8h.html#a873684cefeb665f3d5e6b495de57fc0d">d</a>, int how6, int how4, const <a class="el" href="classQHostAddress.html">QHostAddress</a> &amp;groupAddress, const <a class="el" href="classQNetworkInterface.html">QNetworkInterface</a> &amp;iface)</td></tr>
<tr class="separator:a3377f1204b60922bb54764376756dfe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31e04db06e7ddb642a180bd9c9c02c3f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qnativesocketengine__win_8cpp.html#a31e04db06e7ddb642a180bd9c9c02c3f">qt_socket_getMaxMsgSize</a> (int socketDescriptor)</td></tr>
<tr class="separator:a31e04db06e7ddb642a180bd9c9c02c3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e78ecc5f76c541d9affb96625146e5a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qnativesocketengine__win_8cpp.html#a0e78ecc5f76c541d9affb96625146e5a">qt_socket_getPortAndAddress</a> (SOCKET socketDescriptor, const <a class="el" href="unionqt__sockaddr.html">qt_sockaddr</a> *sa, <a class="el" href="qglobal_8h.html#a6f3b1e8a589d7539ac4f9592005da8b7">quint16</a> *port, <a class="el" href="classQHostAddress.html">QHostAddress</a> *address)</td></tr>
<tr class="separator:a0e78ecc5f76c541d9affb96625146e5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af35ae2f90ed36dc9daef51723877426d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classQAbstractSocket.html#ad5ac7b88a4fc10c5519e3dde68da1bd6">QAbstractSocket::SocketType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qnativesocketengine__win_8cpp.html#af35ae2f90ed36dc9daef51723877426d">qt_socket_getType</a> (int socketDescriptor)</td></tr>
<tr class="separator:af35ae2f90ed36dc9daef51723877426d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88793f004e213d8cea64eff3e195ce24"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qnativesocketengine__win_8cpp.html#a88793f004e213d8cea64eff3e195ce24">qt_socket_setPortAndAddress</a> (SOCKET socketDescriptor, sockaddr_in *sockAddrIPv4, <a class="el" href="structqt__sockaddr__in6.html">qt_sockaddr_in6</a> *sockAddrIPv6, <a class="el" href="qglobal_8h.html#a6f3b1e8a589d7539ac4f9592005da8b7">quint16</a> port, const <a class="el" href="classQHostAddress.html">QHostAddress</a> &amp;address, sockaddr **sockAddrPtr, <a class="el" href="qnativesocketengine__win_8cpp.html#abe512672695ebcdacba0af3511cf8501">QT_SOCKLEN_T</a> *sockAddrSize)</td></tr>
<tr class="memdesc:a88793f004e213d8cea64eff3e195ce24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the port and address to a sockaddr.  <a href="#a88793f004e213d8cea64eff3e195ce24">More...</a><br /></td></tr>
<tr class="separator:a88793f004e213d8cea64eff3e195ce24"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a2202dc3b598d5feb36a9a740f48b04d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2202dc3b598d5feb36a9a740f48b04d0">&#9670;&nbsp;</a></span>_WSAIOW</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _WSAIOW</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">y&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(IOC_IN|(x)|(y))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qnativesocketengine__win_8cpp_source.html#l00298">298</a> of file <a class="el" href="qnativesocketengine__win_8cpp_source.html">qnativesocketengine_win.cpp</a>.</p>

</div>
</div>
<a id="aa03706b2738b9a58d4985dfbe99e1bac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa03706b2738b9a58d4985dfbe99e1bac">&#9670;&nbsp;</a></span>AF_INET6</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AF_INET6&#160;&#160;&#160;23              /* Internetwork Version 6 */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qnativesocketengine__win_8cpp_source.html#l00155">155</a> of file <a class="el" href="qnativesocketengine__win_8cpp_source.html">qnativesocketengine_win.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qnativesocketengine__win_8cpp_source.html#l00171">qt_socket_getPortAndAddress()</a>, and <a class="el" href="qnativesocketengine__win_8cpp_source.html#l00210">qt_socket_setPortAndAddress()</a>.</p>

</div>
</div>
<a id="ad124b03dd22c86ff365e7527e501ad71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad124b03dd22c86ff365e7527e501ad71">&#9670;&nbsp;</a></span>IOC_VENDOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IOC_VENDOR&#160;&#160;&#160;0x18000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qnativesocketengine__win_8cpp_source.html#l00295">295</a> of file <a class="el" href="qnativesocketengine__win_8cpp_source.html">qnativesocketengine_win.cpp</a>.</p>

</div>
</div>
<a id="abe512672695ebcdacba0af3511cf8501"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe512672695ebcdacba0af3511cf8501">&#9670;&nbsp;</a></span>QT_SOCKLEN_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define QT_SOCKLEN_T&#160;&#160;&#160;int</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qnativesocketengine__win_8cpp_source.html#l00163">163</a> of file <a class="el" href="qnativesocketengine__win_8cpp_source.html">qnativesocketengine_win.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qnativesocketengine__win_8cpp_source.html#l00840">multicastMembershipHelper()</a>, <a class="el" href="qnativesocketengine__win_8cpp_source.html#l00259">qt_socket_getMaxMsgSize()</a>, and <a class="el" href="qnativesocketengine__win_8cpp_source.html#l00241">qt_socket_getType()</a>.</p>

</div>
</div>
<a id="ac5c43af32678fc1626cc6c988afdcf0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5c43af32678fc1626cc6c988afdcf0c">&#9670;&nbsp;</a></span>QT_SOCKOPTLEN_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define QT_SOCKOPTLEN_T&#160;&#160;&#160;int</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qnativesocketengine__win_8cpp_source.html#l00164">164</a> of file <a class="el" href="qnativesocketengine__win_8cpp_source.html">qnativesocketengine_win.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qnativesocketengine__win_8cpp_source.html#l00840">multicastMembershipHelper()</a>.</p>

</div>
</div>
<a id="a403340f0d24de144ba88d722b84cb4c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a403340f0d24de144ba88d722b84cb4c9">&#9670;&nbsp;</a></span>SIO_UDP_CONNRESET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SIO_UDP_CONNRESET&#160;&#160;&#160;<a class="el" href="qnativesocketengine__win_8cpp.html#a2202dc3b598d5feb36a9a740f48b04d0">_WSAIOW</a>(<a class="el" href="qnativesocketengine__win_8cpp.html#ad124b03dd22c86ff365e7527e501ad71">IOC_VENDOR</a>,12)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qnativesocketengine__win_8cpp_source.html#l00300">300</a> of file <a class="el" href="qnativesocketengine__win_8cpp_source.html">qnativesocketengine_win.cpp</a>.</p>

</div>
</div>
<a id="a08d008d32fd39e2ba5bd575a0ddb59cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08d008d32fd39e2ba5bd575a0ddb59cd">&#9670;&nbsp;</a></span>SO_EXCLUSIVEADDRUSE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SO_EXCLUSIVEADDRUSE&#160;&#160;&#160;((int)(~SO_REUSEADDR)) /* disallow local address reuse */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qnativesocketengine__win_8cpp_source.html#l00159">159</a> of file <a class="el" href="qnativesocketengine__win_8cpp_source.html">qnativesocketengine_win.cpp</a>.</p>

</div>
</div>
<a id="a730d84a01a95366579c02ae546631b8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a730d84a01a95366579c02ae546631b8b">&#9670;&nbsp;</a></span>WS_ERROR_DEBUG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WS_ERROR_DEBUG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="qglobal_8h.html#ab50b9ec9f8efb4c169cbd1a13b1fe2b1">Q_UNUSED</a>(x)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qnativesocketengine__win_8cpp_source.html#l00150">150</a> of file <a class="el" href="qnativesocketengine__win_8cpp_source.html">qnativesocketengine_win.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qnativesocketengine__win_8cpp_source.html#l00840">multicastMembershipHelper()</a>, <a class="el" href="qnativesocketengine__win_8cpp_source.html#l00259">qt_socket_getMaxMsgSize()</a>, and <a class="el" href="qnativesocketengine__win_8cpp_source.html#l00241">qt_socket_getType()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3377f1204b60922bb54764376756dfe2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3377f1204b60922bb54764376756dfe2">&#9670;&nbsp;</a></span>multicastMembershipHelper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool multicastMembershipHelper </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQNativeSocketEnginePrivate.html">QNativeSocketEnginePrivate</a> *&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>how6</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>how4</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classQHostAddress.html">QHostAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>groupAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classQNetworkInterface.html">QNetworkInterface</a> &amp;&#160;</td>
          <td class="paramname"><em>iface</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qnativesocketengine__win_8cpp_source.html#l00840">840</a> of file <a class="el" href="qnativesocketengine__win_8cpp_source.html">qnativesocketengine_win.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;{</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keywordtype">int</span> level = 0;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="keywordtype">int</span> sockOpt = 0;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="keywordtype">char</span> *sockArg;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keywordtype">int</span> sockArgSize;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="keyword">struct </span>ip_mreq mreq4;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="preprocessor">#ifndef QT_NO_IPV6</span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <span class="keyword">struct </span>ipv6_mreq mreq6;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="keywordflow">if</span> (groupAddress.<a class="code" href="classQHostAddress.html#a52b18e45955b91dac156b5a1e07c0c67">protocol</a>() == <a class="code" href="classQAbstractSocket.html#a455874240fe227db36eb6118b4af6a20a61b60aa5aca4f3414a6b05e3d6ab0bee">QAbstractSocket::IPv6Protocol</a>) {</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        level = IPPROTO_IPV6;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        sockOpt = how6;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        sockArg = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span> *<span class="keyword">&gt;</span>(&amp;mreq6);</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        sockArgSize = <span class="keyword">sizeof</span>(mreq6);</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        memset(&amp;mreq6, 0, <span class="keyword">sizeof</span>(mreq6));</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        <a class="code" href="classQIPv6Address.html">Q_IPV6ADDR</a> ip6 = groupAddress.<a class="code" href="classQHostAddress.html#abe46dac63184376a40ba898e1abd5701">toIPv6Address</a>();</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        memcpy(&amp;mreq6.ipv6mr_multiaddr, &amp;ip6, <span class="keyword">sizeof</span>(ip6));</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        mreq6.ipv6mr_interface = iface.<a class="code" href="classQNetworkInterface.html#a567cf5a008d8234b71c11706b60075d9">index</a>();</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    } <span class="keywordflow">else</span></div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="keywordflow">if</span> (groupAddress.<a class="code" href="classQHostAddress.html#a52b18e45955b91dac156b5a1e07c0c67">protocol</a>() == <a class="code" href="classQAbstractSocket.html#a455874240fe227db36eb6118b4af6a20a030ef88a1c6ac39ea02322d75fdf17dd">QAbstractSocket::IPv4Protocol</a>) {</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        level = IPPROTO_IP;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        sockOpt = how4;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        sockArg = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span> *<span class="keyword">&gt;</span>(&amp;mreq4);</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        sockArgSize = <span class="keyword">sizeof</span>(mreq4);</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        memset(&amp;mreq4, 0, <span class="keyword">sizeof</span>(mreq4));</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        mreq4.imr_multiaddr.s_addr = htonl(groupAddress.<a class="code" href="classQHostAddress.html#a8df09aecc742c23d14c8b22f6ee0b4c7">toIPv4Address</a>());</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        <span class="keywordflow">if</span> (iface.<a class="code" href="classQNetworkInterface.html#aba5996e1245532f9828817f34767cedc">isValid</a>()) {</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;            <a class="code" href="classQList.html">QList&lt;QNetworkAddressEntry&gt;</a> addressEntries = iface.<a class="code" href="classQNetworkInterface.html#ab0373c1d02acaae059f9184f9a6d8724">addressEntries</a>();</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;            <span class="keywordflow">if</span> (!addressEntries.<a class="code" href="classQList.html#ac273be8d520f0df354c17f126e9134f7">isEmpty</a>()) {</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                <a class="code" href="classQHostAddress.html">QHostAddress</a> firstIP = addressEntries.<a class="code" href="classQList.html#a0d91b8dcfdf240b85c2349f339021cfa">first</a>().<a class="code" href="classQNetworkAddressEntry.html#a842a32651e1b5cac96561ed5b7e40b75">ip</a>();</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                mreq4.imr_interface.s_addr = htonl(firstIP.<a class="code" href="classQHostAddress.html#a8df09aecc742c23d14c8b22f6ee0b4c7">toIPv4Address</a>());</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                d-&gt;<a class="code" href="classQNativeSocketEnginePrivate.html#a702e23901c8dbb2e840d8ca24523d1f4">setError</a>(<a class="code" href="classQAbstractSocket.html#acecc50185857fb890476d5b86484feb7ad3ef1669e8ba49c1562dfcd2fd42a62e">QAbstractSocket::NetworkError</a>,</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                            <a class="code" href="classQNativeSocketEnginePrivate.html#af2e68eaeedabe8222ddb59c4f64ed312a102a651b3708f11fdbdf041b2fa50342">QNativeSocketEnginePrivate::NetworkUnreachableErrorString</a>);</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;            }</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;            mreq4.imr_interface.s_addr = INADDR_ANY;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        }</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        <span class="comment">// unreachable</span></div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        d-&gt;<a class="code" href="classQNativeSocketEnginePrivate.html#a702e23901c8dbb2e840d8ca24523d1f4">setError</a>(<a class="code" href="classQAbstractSocket.html#acecc50185857fb890476d5b86484feb7ac203525df430d60c4a6d4331a7e09b41">QAbstractSocket::UnsupportedSocketOperationError</a>,</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                    <a class="code" href="classQNativeSocketEnginePrivate.html#af2e68eaeedabe8222ddb59c4f64ed312abfc1760f1536161f416ec31ab32a0456">QNativeSocketEnginePrivate::ProtocolUnsupportedErrorString</a>);</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    }</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <span class="keywordtype">int</span> res = setsockopt(d-&gt;<a class="code" href="classQNativeSocketEnginePrivate.html#aa99c0a8ba75716aabb4f705d08df80d3">socketDescriptor</a>, level, sockOpt, sockArg, sockArgSize);</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <span class="keywordflow">if</span> (res == -1) {</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        d-&gt;<a class="code" href="classQNativeSocketEnginePrivate.html#a702e23901c8dbb2e840d8ca24523d1f4">setError</a>(<a class="code" href="classQAbstractSocket.html#acecc50185857fb890476d5b86484feb7ac203525df430d60c4a6d4331a7e09b41">QAbstractSocket::UnsupportedSocketOperationError</a>,</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                    <a class="code" href="classQNativeSocketEnginePrivate.html#af2e68eaeedabe8222ddb59c4f64ed312a254482a542ec220bc57b92ebddb5614b">QNativeSocketEnginePrivate::OperationUnsupportedErrorString</a>);</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    }</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;}</div><div class="ttc" id="classQHostAddress_html_abe46dac63184376a40ba898e1abd5701"><div class="ttname"><a href="classQHostAddress.html#abe46dac63184376a40ba898e1abd5701">QHostAddress::toIPv6Address</a></div><div class="ttdeci">Q_IPV6ADDR toIPv6Address() const</div><div class="ttdoc">Returns the IPv6 address as a Q_IPV6ADDR structure. </div><div class="ttdef"><b>Definition:</b> <a href="qhostaddress_8cpp_source.html#l00730">qhostaddress.cpp:730</a></div></div>
<div class="ttc" id="classQNetworkAddressEntry_html_a842a32651e1b5cac96561ed5b7e40b75"><div class="ttname"><a href="classQNetworkAddressEntry.html#a842a32651e1b5cac96561ed5b7e40b75">QNetworkAddressEntry::ip</a></div><div class="ttdeci">QHostAddress ip() const</div><div class="ttdoc">This function returns one IPv4 or IPv6 address found, that was found in a network interface...</div><div class="ttdef"><b>Definition:</b> <a href="qnetworkinterface_8cpp_source.html#l00223">qnetworkinterface.cpp:223</a></div></div>
<div class="ttc" id="classQNativeSocketEnginePrivate_html_aa99c0a8ba75716aabb4f705d08df80d3"><div class="ttname"><a href="classQNativeSocketEnginePrivate.html#aa99c0a8ba75716aabb4f705d08df80d3">QNativeSocketEnginePrivate::socketDescriptor</a></div><div class="ttdeci">int socketDescriptor</div><div class="ttdef"><b>Definition:</b> <a href="qnativesocketengine__p_8h_source.html#l00197">qnativesocketengine_p.h:197</a></div></div>
<div class="ttc" id="classQHostAddress_html_a8df09aecc742c23d14c8b22f6ee0b4c7"><div class="ttname"><a href="classQHostAddress.html#a8df09aecc742c23d14c8b22f6ee0b4c7">QHostAddress::toIPv4Address</a></div><div class="ttdeci">quint32 toIPv4Address() const</div><div class="ttdoc">Returns the IPv4 address as a number. </div><div class="ttdef"><b>Definition:</b> <a href="qhostaddress_8cpp_source.html#l00704">qhostaddress.cpp:704</a></div></div>
<div class="ttc" id="classQAbstractSocket_html_acecc50185857fb890476d5b86484feb7ac203525df430d60c4a6d4331a7e09b41"><div class="ttname"><a href="classQAbstractSocket.html#acecc50185857fb890476d5b86484feb7ac203525df430d60c4a6d4331a7e09b41">QAbstractSocket::UnsupportedSocketOperationError</a></div><div class="ttdef"><b>Definition:</b> <a href="qabstractsocket_8h_source.html#l00090">qabstractsocket.h:90</a></div></div>
<div class="ttc" id="classQList_html_ac273be8d520f0df354c17f126e9134f7"><div class="ttname"><a href="classQList.html#ac273be8d520f0df354c17f126e9134f7">QList::isEmpty</a></div><div class="ttdeci">bool isEmpty() const</div><div class="ttdoc">Returns true if the list contains no items; otherwise returns false. </div><div class="ttdef"><b>Definition:</b> <a href="qlist_8h_source.html#l00152">qlist.h:152</a></div></div>
<div class="ttc" id="classQNativeSocketEnginePrivate_html_af2e68eaeedabe8222ddb59c4f64ed312a254482a542ec220bc57b92ebddb5614b"><div class="ttname"><a href="classQNativeSocketEnginePrivate.html#af2e68eaeedabe8222ddb59c4f64ed312a254482a542ec220bc57b92ebddb5614b">QNativeSocketEnginePrivate::OperationUnsupportedErrorString</a></div><div class="ttdef"><b>Definition:</b> <a href="qnativesocketengine__p_8h_source.html#l00212">qnativesocketengine_p.h:212</a></div></div>
<div class="ttc" id="classQNativeSocketEnginePrivate_html_af2e68eaeedabe8222ddb59c4f64ed312a102a651b3708f11fdbdf041b2fa50342"><div class="ttname"><a href="classQNativeSocketEnginePrivate.html#af2e68eaeedabe8222ddb59c4f64ed312a102a651b3708f11fdbdf041b2fa50342">QNativeSocketEnginePrivate::NetworkUnreachableErrorString</a></div><div class="ttdef"><b>Definition:</b> <a href="qnativesocketengine__p_8h_source.html#l00216">qnativesocketengine_p.h:216</a></div></div>
<div class="ttc" id="classQNativeSocketEnginePrivate_html_af2e68eaeedabe8222ddb59c4f64ed312abfc1760f1536161f416ec31ab32a0456"><div class="ttname"><a href="classQNativeSocketEnginePrivate.html#af2e68eaeedabe8222ddb59c4f64ed312abfc1760f1536161f416ec31ab32a0456">QNativeSocketEnginePrivate::ProtocolUnsupportedErrorString</a></div><div class="ttdef"><b>Definition:</b> <a href="qnativesocketengine__p_8h_source.html#l00213">qnativesocketengine_p.h:213</a></div></div>
<div class="ttc" id="classQNetworkInterface_html_aba5996e1245532f9828817f34767cedc"><div class="ttname"><a href="classQNetworkInterface.html#aba5996e1245532f9828817f34767cedc">QNetworkInterface::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdoc">Returns true if this QNetworkInterface object contains valid information about a network interface...</div><div class="ttdef"><b>Definition:</b> <a href="qnetworkinterface_8cpp_source.html#l00439">qnetworkinterface.cpp:439</a></div></div>
<div class="ttc" id="classQIPv6Address_html"><div class="ttname"><a href="classQIPv6Address.html">QIPv6Address</a></div><div class="ttdef"><b>Definition:</b> <a href="qhostaddress_8h_source.html#l00060">qhostaddress.h:60</a></div></div>
<div class="ttc" id="classQList_html_a0d91b8dcfdf240b85c2349f339021cfa"><div class="ttname"><a href="classQList.html#a0d91b8dcfdf240b85c2349f339021cfa">QList::first</a></div><div class="ttdeci">T &amp; first()</div><div class="ttdoc">Returns a reference to the first item in the list. </div><div class="ttdef"><b>Definition:</b> <a href="qlist_8h_source.html#l00282">qlist.h:282</a></div></div>
<div class="ttc" id="classQAbstractSocket_html_a455874240fe227db36eb6118b4af6a20a030ef88a1c6ac39ea02322d75fdf17dd"><div class="ttname"><a href="classQAbstractSocket.html#a455874240fe227db36eb6118b4af6a20a030ef88a1c6ac39ea02322d75fdf17dd">QAbstractSocket::IPv4Protocol</a></div><div class="ttdef"><b>Definition:</b> <a href="qabstractsocket_8h_source.html#l00075">qabstractsocket.h:75</a></div></div>
<div class="ttc" id="classQAbstractSocket_html_a455874240fe227db36eb6118b4af6a20a61b60aa5aca4f3414a6b05e3d6ab0bee"><div class="ttname"><a href="classQAbstractSocket.html#a455874240fe227db36eb6118b4af6a20a61b60aa5aca4f3414a6b05e3d6ab0bee">QAbstractSocket::IPv6Protocol</a></div><div class="ttdef"><b>Definition:</b> <a href="qabstractsocket_8h_source.html#l00076">qabstractsocket.h:76</a></div></div>
<div class="ttc" id="classQHostAddress_html_a52b18e45955b91dac156b5a1e07c0c67"><div class="ttname"><a href="classQHostAddress.html#a52b18e45955b91dac156b5a1e07c0c67">QHostAddress::protocol</a></div><div class="ttdeci">QAbstractSocket::NetworkLayerProtocol protocol() const</div><div class="ttdoc">Returns the network layer protocol of the host address. </div><div class="ttdef"><b>Definition:</b> <a href="qhostaddress_8cpp_source.html#l00713">qhostaddress.cpp:713</a></div></div>
<div class="ttc" id="classQAbstractSocket_html_acecc50185857fb890476d5b86484feb7ad3ef1669e8ba49c1562dfcd2fd42a62e"><div class="ttname"><a href="classQAbstractSocket.html#acecc50185857fb890476d5b86484feb7ad3ef1669e8ba49c1562dfcd2fd42a62e">QAbstractSocket::NetworkError</a></div><div class="ttdef"><b>Definition:</b> <a href="qabstractsocket_8h_source.html#l00087">qabstractsocket.h:87</a></div></div>
<div class="ttc" id="classQNativeSocketEnginePrivate_html_a702e23901c8dbb2e840d8ca24523d1f4"><div class="ttname"><a href="classQNativeSocketEnginePrivate.html#a702e23901c8dbb2e840d8ca24523d1f4">QNativeSocketEnginePrivate::setError</a></div><div class="ttdeci">void setError(QAbstractSocket::SocketError error, ErrorString errorString) const</div><div class="ttdoc">Sets the error and error string if not set already. </div><div class="ttdef"><b>Definition:</b> <a href="qnativesocketengine_8cpp_source.html#l00194">qnativesocketengine.cpp:194</a></div></div>
<div class="ttc" id="classQNetworkInterface_html_a567cf5a008d8234b71c11706b60075d9"><div class="ttname"><a href="classQNetworkInterface.html#a567cf5a008d8234b71c11706b60075d9">QNetworkInterface::index</a></div><div class="ttdeci">int index() const</div><div class="ttdoc">Returns the interface system index, if known. </div><div class="ttdef"><b>Definition:</b> <a href="qnetworkinterface_8cpp_source.html#l00456">qnetworkinterface.cpp:456</a></div></div>
<div class="ttc" id="classQHostAddress_html"><div class="ttname"><a href="classQHostAddress.html">QHostAddress</a></div><div class="ttdoc">The QHostAddress class provides an IP address. </div><div class="ttdef"><b>Definition:</b> <a href="qhostaddress_8h_source.html#l00070">qhostaddress.h:70</a></div></div>
<div class="ttc" id="classQNetworkInterface_html_ab0373c1d02acaae059f9184f9a6d8724"><div class="ttname"><a href="classQNetworkInterface.html#ab0373c1d02acaae059f9184f9a6d8724">QNetworkInterface::addressEntries</a></div><div class="ttdeci">QList&lt; QNetworkAddressEntry &gt; addressEntries() const</div><div class="ttdoc">Returns the list of IP addresses that this interface possesses along with their associated netmasks a...</div><div class="ttdef"><b>Definition:</b> <a href="qnetworkinterface_8cpp_source.html#l00524">qnetworkinterface.cpp:524</a></div></div>
<div class="ttc" id="classQList_html"><div class="ttname"><a href="classQList.html">QList&lt; QNetworkAddressEntry &gt;</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a31e04db06e7ddb642a180bd9c9c02c3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31e04db06e7ddb642a180bd9c9c02c3f">&#9670;&nbsp;</a></span>qt_socket_getMaxMsgSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int qt_socket_getMaxMsgSize </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>socketDescriptor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section warning"><dt>Warning</dt><dd>This function is not part of the public interface. </dd></dl>

<p class="definition">Definition at line <a class="el" href="qnativesocketengine__win_8cpp_source.html#l00259">259</a> of file <a class="el" href="qnativesocketengine__win_8cpp_source.html">qnativesocketengine_win.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;{</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordtype">int</span> value = 0;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <a class="code" href="qnativesocketengine__win_8cpp.html#abe512672695ebcdacba0af3511cf8501">QT_SOCKLEN_T</a> valueSize = <span class="keyword">sizeof</span>(value);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">if</span> (::getsockopt(socketDescriptor, SOL_SOCKET, SO_MAX_MSG_SIZE, (<span class="keywordtype">char</span> *) &amp;value, &amp;valueSize) != 0) {</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <a class="code" href="qnativesocketengine__win_8cpp.html#a730d84a01a95366579c02ae546631b8b">WS_ERROR_DEBUG</a>(WSAGetLastError());</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    }</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">return</span> value;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;}</div><div class="ttc" id="qnativesocketengine__win_8cpp_html_a730d84a01a95366579c02ae546631b8b"><div class="ttname"><a href="qnativesocketengine__win_8cpp.html#a730d84a01a95366579c02ae546631b8b">WS_ERROR_DEBUG</a></div><div class="ttdeci">#define WS_ERROR_DEBUG(x)</div><div class="ttdef"><b>Definition:</b> <a href="qnativesocketengine__win_8cpp_source.html#l00150">qnativesocketengine_win.cpp:150</a></div></div>
<div class="ttc" id="qnativesocketengine__win_8cpp_html_abe512672695ebcdacba0af3511cf8501"><div class="ttname"><a href="qnativesocketengine__win_8cpp.html#abe512672695ebcdacba0af3511cf8501">QT_SOCKLEN_T</a></div><div class="ttdeci">#define QT_SOCKLEN_T</div><div class="ttdef"><b>Definition:</b> <a href="qnativesocketengine__win_8cpp_source.html#l00163">qnativesocketengine_win.cpp:163</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0e78ecc5f76c541d9affb96625146e5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e78ecc5f76c541d9affb96625146e5a">&#9670;&nbsp;</a></span>qt_socket_getPortAndAddress()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void qt_socket_getPortAndAddress </td>
          <td>(</td>
          <td class="paramtype">SOCKET&#160;</td>
          <td class="paramname"><em>socketDescriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="unionqt__sockaddr.html">qt_sockaddr</a> *&#160;</td>
          <td class="paramname"><em>sa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qglobal_8h.html#a6f3b1e8a589d7539ac4f9592005da8b7">quint16</a> *&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classQHostAddress.html">QHostAddress</a> *&#160;</td>
          <td class="paramname"><em>address</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qnativesocketengine__win_8cpp_source.html#l00171">171</a> of file <a class="el" href="qnativesocketengine__win_8cpp_source.html">qnativesocketengine_win.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qnativesocketengine__win_8cpp_source.html#l00840">multicastMembershipHelper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;{</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="preprocessor">#if !defined (QT_NO_IPV6)</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">if</span> (sa-&gt;<a class="code" href="unionqt__sockaddr.html#ad224a6246c4be5bcebc65fb9288c09ca">a</a>.sa_family == <a class="code" href="qnativesocketengine__win_8cpp.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a>) {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="keyword">const</span> <a class="code" href="structqt__sockaddr__in6.html">qt_sockaddr_in6</a> *sa6 = &amp;sa-&gt;<a class="code" href="unionqt__sockaddr.html#af1283c609188297fdb75b686bd1f89b0">a6</a>;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <a class="code" href="classQIPv6Address.html">Q_IPV6ADDR</a> tmp;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 16; ++i)</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            tmp.<a class="code" href="classQIPv6Address.html#a834ef58887b59e29a3f8ffa01b31eb45">c</a>[i] = sa6-&gt;<a class="code" href="structqt__sockaddr__in6.html#a8e1718fda5bd1c8105d032fabce381bc">sin6_addr</a>.<a class="code" href="structqt__in6__addr.html#a7791b9475911ae240cfbe157397d9eb6">qt_s6_addr</a>[i];</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <a class="code" href="qcocoasharedwindowmethods__mac__p_8h.html#a4bcf1ca8433d12097b8bbf9e3d75c334">if</a> (address) {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <a class="code" href="classQHostAddress.html">QHostAddress</a> <a class="code" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            a.<a class="code" href="classQHostAddress.html#aab521e9479971e12d117bd24b26efbb3">setAddress</a>(tmp);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            a.<a class="code" href="classQHostAddress.html#adaeeb8b69115e83bde2c2c9d4dc36d6b">setScopeId</a>(<a class="code" href="classQString.html#ac00103ffd860cbe3448ace2b490800cf">QString::number</a>(sa6-&gt;<a class="code" href="structqt__sockaddr__in6.html#aa4459a374ab78ac1982112e41006b74e">sin6_scope_id</a>));</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            *address = <a class="code" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a>;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keywordflow">if</span> (port)</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        WSANtohs(socketDescriptor, sa6-&gt;<a class="code" href="structqt__sockaddr__in6.html#a5899773c831a88d5c3738bbf16025539">sin6_port</a>, port);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    } <span class="keywordflow">else</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">if</span> (sa-&gt;<a class="code" href="unionqt__sockaddr.html#ad224a6246c4be5bcebc65fb9288c09ca">a</a>.sa_family == AF_INET) {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keyword">const</span> sockaddr_in *sa4 = &amp;sa-&gt;<a class="code" href="unionqt__sockaddr.html#a2bd91c6346e0353be25e1e2cfeddb8ba">a4</a>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> addr;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        WSANtohl(socketDescriptor, sa4-&gt;sin_addr.s_addr, &amp;addr);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <a class="code" href="classQHostAddress.html">QHostAddress</a> <a class="code" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    a.<a class="code" href="classQHostAddress.html#aab521e9479971e12d117bd24b26efbb3">setAddress</a>(addr);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">if</span> (address)</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        *address = <a class="code" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a>;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordflow">if</span> (port)</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        WSANtohs(socketDescriptor, sa4-&gt;sin_port, port);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    }</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div><div class="ttc" id="classQString_html_ac00103ffd860cbe3448ace2b490800cf"><div class="ttname"><a href="classQString.html#ac00103ffd860cbe3448ace2b490800cf">QString::number</a></div><div class="ttdeci">static QString number(int, int base=10)</div><div class="ttdoc">This is an overloaded member function, provided for convenience. It differs from the above function o...</div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l06448">qstring.cpp:6448</a></div></div>
<div class="ttc" id="classQHostAddress_html_adaeeb8b69115e83bde2c2c9d4dc36d6b"><div class="ttname"><a href="classQHostAddress.html#adaeeb8b69115e83bde2c2c9d4dc36d6b">QHostAddress::setScopeId</a></div><div class="ttdeci">void setScopeId(const QString &amp;id)</div><div class="ttdoc">Sets the IPv6 scope ID of the address to id. </div><div class="ttdef"><b>Definition:</b> <a href="qhostaddress_8cpp_source.html#l00855">qhostaddress.cpp:855</a></div></div>
<div class="ttc" id="classQIPv6Address_html_a834ef58887b59e29a3f8ffa01b31eb45"><div class="ttname"><a href="classQIPv6Address.html#a834ef58887b59e29a3f8ffa01b31eb45">QIPv6Address::c</a></div><div class="ttdeci">quint8 c[16]</div><div class="ttdef"><b>Definition:</b> <a href="qhostaddress_8h_source.html#l00065">qhostaddress.h:65</a></div></div>
<div class="ttc" id="structqt__sockaddr__in6_html_aa4459a374ab78ac1982112e41006b74e"><div class="ttname"><a href="structqt__sockaddr__in6.html#aa4459a374ab78ac1982112e41006b74e">qt_sockaddr_in6::sin6_scope_id</a></div><div class="ttdeci">u_long sin6_scope_id</div><div class="ttdef"><b>Definition:</b> <a href="qhostaddress_8cpp_source.html#l00091">qhostaddress.cpp:91</a></div></div>
<div class="ttc" id="structqt__sockaddr__in6_html_a8e1718fda5bd1c8105d032fabce381bc"><div class="ttname"><a href="structqt__sockaddr__in6.html#a8e1718fda5bd1c8105d032fabce381bc">qt_sockaddr_in6::sin6_addr</a></div><div class="ttdeci">struct qt_in6_addr sin6_addr</div><div class="ttdef"><b>Definition:</b> <a href="qhostaddress_8cpp_source.html#l00090">qhostaddress.cpp:90</a></div></div>
<div class="ttc" id="qsslsocket__openssl__symbols_8cpp_html_abc0559ca5bd02e98c3e33a2db3f27fc2"><div class="ttname"><a href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a></div><div class="ttdeci">long ASN1_INTEGER_get ASN1_INTEGER * a</div><div class="ttdef"><b>Definition:</b> <a href="qsslsocket__openssl__symbols_8cpp_source.html#l00104">qsslsocket_openssl_symbols.cpp:104</a></div></div>
<div class="ttc" id="structqt__sockaddr__in6_html_a5899773c831a88d5c3738bbf16025539"><div class="ttname"><a href="structqt__sockaddr__in6.html#a5899773c831a88d5c3738bbf16025539">qt_sockaddr_in6::sin6_port</a></div><div class="ttdeci">u_short sin6_port</div><div class="ttdef"><b>Definition:</b> <a href="qhostaddress_8cpp_source.html#l00088">qhostaddress.cpp:88</a></div></div>
<div class="ttc" id="structqt__sockaddr__in6_html"><div class="ttname"><a href="structqt__sockaddr__in6.html">qt_sockaddr_in6</a></div><div class="ttdef"><b>Definition:</b> <a href="qhostaddress_8cpp_source.html#l00086">qhostaddress.cpp:86</a></div></div>
<div class="ttc" id="classQIPv6Address_html"><div class="ttname"><a href="classQIPv6Address.html">QIPv6Address</a></div><div class="ttdef"><b>Definition:</b> <a href="qhostaddress_8h_source.html#l00060">qhostaddress.h:60</a></div></div>
<div class="ttc" id="qnativesocketengine__win_8cpp_html_aa03706b2738b9a58d4985dfbe99e1bac"><div class="ttname"><a href="qnativesocketengine__win_8cpp.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a></div><div class="ttdeci">#define AF_INET6</div><div class="ttdef"><b>Definition:</b> <a href="qnativesocketengine__win_8cpp_source.html#l00155">qnativesocketengine_win.cpp:155</a></div></div>
<div class="ttc" id="classQHostAddress_html_aab521e9479971e12d117bd24b26efbb3"><div class="ttname"><a href="classQHostAddress.html#aab521e9479971e12d117bd24b26efbb3">QHostAddress::setAddress</a></div><div class="ttdeci">void setAddress(quint32 ip4Addr)</div><div class="ttdoc">Set the IPv4 address specified by ip4Addr. </div><div class="ttdef"><b>Definition:</b> <a href="qhostaddress_8cpp_source.html#l00623">qhostaddress.cpp:623</a></div></div>
<div class="ttc" id="structqt__in6__addr_html_a7791b9475911ae240cfbe157397d9eb6"><div class="ttname"><a href="structqt__in6__addr.html#a7791b9475911ae240cfbe157397d9eb6">qt_in6_addr::qt_s6_addr</a></div><div class="ttdeci">u_char qt_s6_addr[16]</div><div class="ttdef"><b>Definition:</b> <a href="qhostaddress_8cpp_source.html#l00084">qhostaddress.cpp:84</a></div></div>
<div class="ttc" id="unionqt__sockaddr_html_af1283c609188297fdb75b686bd1f89b0"><div class="ttname"><a href="unionqt__sockaddr.html#af1283c609188297fdb75b686bd1f89b0">qt_sockaddr::a6</a></div><div class="ttdeci">qt_sockaddr_in6 a6</div><div class="ttdef"><b>Definition:</b> <a href="qnativesocketengine__p_8h_source.html#l00094">qnativesocketengine_p.h:94</a></div></div>
<div class="ttc" id="qcocoasharedwindowmethods__mac__p_8h_html_a4bcf1ca8433d12097b8bbf9e3d75c334"><div class="ttname"><a href="qcocoasharedwindowmethods__mac__p_8h.html#a4bcf1ca8433d12097b8bbf9e3d75c334">if</a></div><div class="ttdeci">if(void) toggleToolbarShown</div><div class="ttdef"><b>Definition:</b> <a href="qcocoasharedwindowmethods__mac__p_8h_source.html#l00220">qcocoasharedwindowmethods_mac_p.h:220</a></div></div>
<div class="ttc" id="unionqt__sockaddr_html_a2bd91c6346e0353be25e1e2cfeddb8ba"><div class="ttname"><a href="unionqt__sockaddr.html#a2bd91c6346e0353be25e1e2cfeddb8ba">qt_sockaddr::a4</a></div><div class="ttdeci">sockaddr_in a4</div><div class="ttdef"><b>Definition:</b> <a href="qnativesocketengine__p_8h_source.html#l00093">qnativesocketengine_p.h:93</a></div></div>
<div class="ttc" id="classQHostAddress_html"><div class="ttname"><a href="classQHostAddress.html">QHostAddress</a></div><div class="ttdoc">The QHostAddress class provides an IP address. </div><div class="ttdef"><b>Definition:</b> <a href="qhostaddress_8h_source.html#l00070">qhostaddress.h:70</a></div></div>
<div class="ttc" id="unionqt__sockaddr_html_ad224a6246c4be5bcebc65fb9288c09ca"><div class="ttname"><a href="unionqt__sockaddr.html#ad224a6246c4be5bcebc65fb9288c09ca">qt_sockaddr::a</a></div><div class="ttdeci">sockaddr a</div><div class="ttdef"><b>Definition:</b> <a href="qnativesocketengine__p_8h_source.html#l00092">qnativesocketengine_p.h:92</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af35ae2f90ed36dc9daef51723877426d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af35ae2f90ed36dc9daef51723877426d">&#9670;&nbsp;</a></span>qt_socket_getType()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classQAbstractSocket.html#ad5ac7b88a4fc10c5519e3dde68da1bd6">QAbstractSocket::SocketType</a> qt_socket_getType </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>socketDescriptor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section warning"><dt>Warning</dt><dd>This function is not part of the public interface. </dd></dl>

<p class="definition">Definition at line <a class="el" href="qnativesocketengine__win_8cpp_source.html#l00241">241</a> of file <a class="el" href="qnativesocketengine__win_8cpp_source.html">qnativesocketengine_win.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;{</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordtype">int</span> value = 0;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <a class="code" href="qnativesocketengine__win_8cpp.html#abe512672695ebcdacba0af3511cf8501">QT_SOCKLEN_T</a> valueSize = <span class="keyword">sizeof</span>(value);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">if</span> (::getsockopt(socketDescriptor, SOL_SOCKET, SO_TYPE, (<span class="keywordtype">char</span> *) &amp;value, &amp;valueSize) != 0) {</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <a class="code" href="qnativesocketengine__win_8cpp.html#a730d84a01a95366579c02ae546631b8b">WS_ERROR_DEBUG</a>(WSAGetLastError());</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <span class="keywordflow">if</span> (value == SOCK_STREAM)</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classQAbstractSocket.html#ad5ac7b88a4fc10c5519e3dde68da1bd6accea807c41d2a6d088a17a7945f7371f">QAbstractSocket::TcpSocket</a>;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (value == SOCK_DGRAM)</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classQAbstractSocket.html#ad5ac7b88a4fc10c5519e3dde68da1bd6a924bbbe09b4a9f68cb1e70a1ea9026ed">QAbstractSocket::UdpSocket</a>;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    }</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classQAbstractSocket.html#ad5ac7b88a4fc10c5519e3dde68da1bd6a05c4764ed7cd63fe098ef4b96384984e">QAbstractSocket::UnknownSocketType</a>;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;}</div><div class="ttc" id="qnativesocketengine__win_8cpp_html_a730d84a01a95366579c02ae546631b8b"><div class="ttname"><a href="qnativesocketengine__win_8cpp.html#a730d84a01a95366579c02ae546631b8b">WS_ERROR_DEBUG</a></div><div class="ttdeci">#define WS_ERROR_DEBUG(x)</div><div class="ttdef"><b>Definition:</b> <a href="qnativesocketengine__win_8cpp_source.html#l00150">qnativesocketengine_win.cpp:150</a></div></div>
<div class="ttc" id="classQAbstractSocket_html_ad5ac7b88a4fc10c5519e3dde68da1bd6a05c4764ed7cd63fe098ef4b96384984e"><div class="ttname"><a href="classQAbstractSocket.html#ad5ac7b88a4fc10c5519e3dde68da1bd6a05c4764ed7cd63fe098ef4b96384984e">QAbstractSocket::UnknownSocketType</a></div><div class="ttdef"><b>Definition:</b> <a href="qabstractsocket_8h_source.html#l00072">qabstractsocket.h:72</a></div></div>
<div class="ttc" id="classQAbstractSocket_html_ad5ac7b88a4fc10c5519e3dde68da1bd6accea807c41d2a6d088a17a7945f7371f"><div class="ttname"><a href="classQAbstractSocket.html#ad5ac7b88a4fc10c5519e3dde68da1bd6accea807c41d2a6d088a17a7945f7371f">QAbstractSocket::TcpSocket</a></div><div class="ttdef"><b>Definition:</b> <a href="qabstractsocket_8h_source.html#l00070">qabstractsocket.h:70</a></div></div>
<div class="ttc" id="classQAbstractSocket_html_ad5ac7b88a4fc10c5519e3dde68da1bd6a924bbbe09b4a9f68cb1e70a1ea9026ed"><div class="ttname"><a href="classQAbstractSocket.html#ad5ac7b88a4fc10c5519e3dde68da1bd6a924bbbe09b4a9f68cb1e70a1ea9026ed">QAbstractSocket::UdpSocket</a></div><div class="ttdef"><b>Definition:</b> <a href="qabstractsocket_8h_source.html#l00071">qabstractsocket.h:71</a></div></div>
<div class="ttc" id="qnativesocketengine__win_8cpp_html_abe512672695ebcdacba0af3511cf8501"><div class="ttname"><a href="qnativesocketengine__win_8cpp.html#abe512672695ebcdacba0af3511cf8501">QT_SOCKLEN_T</a></div><div class="ttdeci">#define QT_SOCKLEN_T</div><div class="ttdef"><b>Definition:</b> <a href="qnativesocketengine__win_8cpp_source.html#l00163">qnativesocketengine_win.cpp:163</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a88793f004e213d8cea64eff3e195ce24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88793f004e213d8cea64eff3e195ce24">&#9670;&nbsp;</a></span>qt_socket_setPortAndAddress()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void qt_socket_setPortAndAddress </td>
          <td>(</td>
          <td class="paramtype">SOCKET&#160;</td>
          <td class="paramname"><em>socketDescriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sockaddr_in *&#160;</td>
          <td class="paramname"><em>sockAddrIPv4</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structqt__sockaddr__in6.html">qt_sockaddr_in6</a> *&#160;</td>
          <td class="paramname"><em>sockAddrIPv6</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qglobal_8h.html#a6f3b1e8a589d7539ac4f9592005da8b7">quint16</a>&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classQHostAddress.html">QHostAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sockaddr **&#160;</td>
          <td class="paramname"><em>sockAddrPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qnativesocketengine__win_8cpp.html#abe512672695ebcdacba0af3511cf8501">QT_SOCKLEN_T</a> *&#160;</td>
          <td class="paramname"><em>sockAddrSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the port and address to a sockaddr. </p>
<dl class="section warning"><dt>Warning</dt><dd>This function is not part of the public interface.</dd></dl>
<p>Requires that sa point to the IPv6 struct if the address is IPv6. </p>

<p class="definition">Definition at line <a class="el" href="qnativesocketengine__win_8cpp_source.html#l00210">210</a> of file <a class="el" href="qnativesocketengine__win_8cpp_source.html">qnativesocketengine_win.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qnativesocketengine__win_8cpp_source.html#l00840">multicastMembershipHelper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;{</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="preprocessor">#if !defined(QT_NO_IPV6)</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">if</span> (address.<a class="code" href="classQHostAddress.html#a52b18e45955b91dac156b5a1e07c0c67">protocol</a>() == <a class="code" href="classQAbstractSocket.html#a455874240fe227db36eb6118b4af6a20a61b60aa5aca4f3414a6b05e3d6ab0bee">QAbstractSocket::IPv6Protocol</a>) {</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        memset(sockAddrIPv6, 0, <span class="keyword">sizeof</span>(<a class="code" href="structqt__sockaddr__in6.html">qt_sockaddr_in6</a>));</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        sockAddrIPv6-&gt;<a class="code" href="structqt__sockaddr__in6.html#a522d9580f8e7597392600c56760ed3bf">sin6_family</a> = <a class="code" href="qnativesocketengine__win_8cpp.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a>;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        sockAddrIPv6-&gt;<a class="code" href="structqt__sockaddr__in6.html#aa4459a374ab78ac1982112e41006b74e">sin6_scope_id</a> = address.<a class="code" href="classQHostAddress.html#a0f58a048d38dac5b6bcb1fdc81a785e2">scopeId</a>().<a class="code" href="classQString.html#a98f691fb039c264a986142c833223efc">toInt</a>();</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        WSAHtons(socketDescriptor, port, &amp;(sockAddrIPv6-&gt;<a class="code" href="structqt__sockaddr__in6.html#a5899773c831a88d5c3738bbf16025539">sin6_port</a>));</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <a class="code" href="classQIPv6Address.html">Q_IPV6ADDR</a> tmp = address.<a class="code" href="classQHostAddress.html#abe46dac63184376a40ba898e1abd5701">toIPv6Address</a>();</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        memcpy(&amp;(sockAddrIPv6-&gt;<a class="code" href="structqt__sockaddr__in6.html#a8e1718fda5bd1c8105d032fabce381bc">sin6_addr</a>.<a class="code" href="structqt__in6__addr.html#a7791b9475911ae240cfbe157397d9eb6">qt_s6_addr</a>), &amp;tmp, <span class="keyword">sizeof</span>(tmp));</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        *sockAddrSize = <span class="keyword">sizeof</span>(<a class="code" href="structqt__sockaddr__in6.html">qt_sockaddr_in6</a>);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        *sockAddrPtr = (<span class="keyword">struct </span>sockaddr *) sockAddrIPv6;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    } <span class="keywordflow">else</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">if</span> (address.<a class="code" href="classQHostAddress.html#a52b18e45955b91dac156b5a1e07c0c67">protocol</a>() == <a class="code" href="classQAbstractSocket.html#a455874240fe227db36eb6118b4af6a20a030ef88a1c6ac39ea02322d75fdf17dd">QAbstractSocket::IPv4Protocol</a></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        || address.<a class="code" href="classQHostAddress.html#a52b18e45955b91dac156b5a1e07c0c67">protocol</a>() == <a class="code" href="classQAbstractSocket.html#a455874240fe227db36eb6118b4af6a20a836911cee8ee96e21286cb225647eb6d">QAbstractSocket::UnknownNetworkLayerProtocol</a>) {</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        memset(sockAddrIPv4, 0, <span class="keyword">sizeof</span>(sockaddr_in));</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        sockAddrIPv4-&gt;sin_family = AF_INET;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        WSAHtons(socketDescriptor, port, &amp;(sockAddrIPv4-&gt;sin_port));</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        WSAHtonl(socketDescriptor, address.<a class="code" href="classQHostAddress.html#a8df09aecc742c23d14c8b22f6ee0b4c7">toIPv4Address</a>(), &amp;(sockAddrIPv4-&gt;sin_addr.s_addr));</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        *sockAddrSize = <span class="keyword">sizeof</span>(sockaddr_in);</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        *sockAddrPtr = (<span class="keyword">struct </span>sockaddr *) sockAddrIPv4;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <span class="comment">// unreachable</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    }</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;}</div><div class="ttc" id="classQHostAddress_html_a0f58a048d38dac5b6bcb1fdc81a785e2"><div class="ttname"><a href="classQHostAddress.html#a0f58a048d38dac5b6bcb1fdc81a785e2">QHostAddress::scopeId</a></div><div class="ttdeci">QString scopeId() const</div><div class="ttdoc">Returns the scope ID of an IPv6 address. </div><div class="ttdef"><b>Definition:</b> <a href="qhostaddress_8cpp_source.html#l00840">qhostaddress.cpp:840</a></div></div>
<div class="ttc" id="classQHostAddress_html_abe46dac63184376a40ba898e1abd5701"><div class="ttname"><a href="classQHostAddress.html#abe46dac63184376a40ba898e1abd5701">QHostAddress::toIPv6Address</a></div><div class="ttdeci">Q_IPV6ADDR toIPv6Address() const</div><div class="ttdoc">Returns the IPv6 address as a Q_IPV6ADDR structure. </div><div class="ttdef"><b>Definition:</b> <a href="qhostaddress_8cpp_source.html#l00730">qhostaddress.cpp:730</a></div></div>
<div class="ttc" id="classQString_html_a98f691fb039c264a986142c833223efc"><div class="ttname"><a href="classQString.html#a98f691fb039c264a986142c833223efc">QString::toInt</a></div><div class="ttdeci">int toInt(bool *ok=0, int base=10) const</div><div class="ttdoc">Returns the string converted to an int using base base, which is 10 by default and must be between 2 ...</div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l06090">qstring.cpp:6090</a></div></div>
<div class="ttc" id="classQAbstractSocket_html_a455874240fe227db36eb6118b4af6a20a836911cee8ee96e21286cb225647eb6d"><div class="ttname"><a href="classQAbstractSocket.html#a455874240fe227db36eb6118b4af6a20a836911cee8ee96e21286cb225647eb6d">QAbstractSocket::UnknownNetworkLayerProtocol</a></div><div class="ttdef"><b>Definition:</b> <a href="qabstractsocket_8h_source.html#l00077">qabstractsocket.h:77</a></div></div>
<div class="ttc" id="structqt__sockaddr__in6_html_aa4459a374ab78ac1982112e41006b74e"><div class="ttname"><a href="structqt__sockaddr__in6.html#aa4459a374ab78ac1982112e41006b74e">qt_sockaddr_in6::sin6_scope_id</a></div><div class="ttdeci">u_long sin6_scope_id</div><div class="ttdef"><b>Definition:</b> <a href="qhostaddress_8cpp_source.html#l00091">qhostaddress.cpp:91</a></div></div>
<div class="ttc" id="structqt__sockaddr__in6_html_a8e1718fda5bd1c8105d032fabce381bc"><div class="ttname"><a href="structqt__sockaddr__in6.html#a8e1718fda5bd1c8105d032fabce381bc">qt_sockaddr_in6::sin6_addr</a></div><div class="ttdeci">struct qt_in6_addr sin6_addr</div><div class="ttdef"><b>Definition:</b> <a href="qhostaddress_8cpp_source.html#l00090">qhostaddress.cpp:90</a></div></div>
<div class="ttc" id="classQHostAddress_html_a8df09aecc742c23d14c8b22f6ee0b4c7"><div class="ttname"><a href="classQHostAddress.html#a8df09aecc742c23d14c8b22f6ee0b4c7">QHostAddress::toIPv4Address</a></div><div class="ttdeci">quint32 toIPv4Address() const</div><div class="ttdoc">Returns the IPv4 address as a number. </div><div class="ttdef"><b>Definition:</b> <a href="qhostaddress_8cpp_source.html#l00704">qhostaddress.cpp:704</a></div></div>
<div class="ttc" id="structqt__sockaddr__in6_html_a5899773c831a88d5c3738bbf16025539"><div class="ttname"><a href="structqt__sockaddr__in6.html#a5899773c831a88d5c3738bbf16025539">qt_sockaddr_in6::sin6_port</a></div><div class="ttdeci">u_short sin6_port</div><div class="ttdef"><b>Definition:</b> <a href="qhostaddress_8cpp_source.html#l00088">qhostaddress.cpp:88</a></div></div>
<div class="ttc" id="structqt__sockaddr__in6_html"><div class="ttname"><a href="structqt__sockaddr__in6.html">qt_sockaddr_in6</a></div><div class="ttdef"><b>Definition:</b> <a href="qhostaddress_8cpp_source.html#l00086">qhostaddress.cpp:86</a></div></div>
<div class="ttc" id="classQIPv6Address_html"><div class="ttname"><a href="classQIPv6Address.html">QIPv6Address</a></div><div class="ttdef"><b>Definition:</b> <a href="qhostaddress_8h_source.html#l00060">qhostaddress.h:60</a></div></div>
<div class="ttc" id="structqt__sockaddr__in6_html_a522d9580f8e7597392600c56760ed3bf"><div class="ttname"><a href="structqt__sockaddr__in6.html#a522d9580f8e7597392600c56760ed3bf">qt_sockaddr_in6::sin6_family</a></div><div class="ttdeci">short sin6_family</div><div class="ttdef"><b>Definition:</b> <a href="qhostaddress_8cpp_source.html#l00087">qhostaddress.cpp:87</a></div></div>
<div class="ttc" id="classQAbstractSocket_html_a455874240fe227db36eb6118b4af6a20a030ef88a1c6ac39ea02322d75fdf17dd"><div class="ttname"><a href="classQAbstractSocket.html#a455874240fe227db36eb6118b4af6a20a030ef88a1c6ac39ea02322d75fdf17dd">QAbstractSocket::IPv4Protocol</a></div><div class="ttdef"><b>Definition:</b> <a href="qabstractsocket_8h_source.html#l00075">qabstractsocket.h:75</a></div></div>
<div class="ttc" id="classQAbstractSocket_html_a455874240fe227db36eb6118b4af6a20a61b60aa5aca4f3414a6b05e3d6ab0bee"><div class="ttname"><a href="classQAbstractSocket.html#a455874240fe227db36eb6118b4af6a20a61b60aa5aca4f3414a6b05e3d6ab0bee">QAbstractSocket::IPv6Protocol</a></div><div class="ttdef"><b>Definition:</b> <a href="qabstractsocket_8h_source.html#l00076">qabstractsocket.h:76</a></div></div>
<div class="ttc" id="qnativesocketengine__win_8cpp_html_aa03706b2738b9a58d4985dfbe99e1bac"><div class="ttname"><a href="qnativesocketengine__win_8cpp.html#aa03706b2738b9a58d4985dfbe99e1bac">AF_INET6</a></div><div class="ttdeci">#define AF_INET6</div><div class="ttdef"><b>Definition:</b> <a href="qnativesocketengine__win_8cpp_source.html#l00155">qnativesocketengine_win.cpp:155</a></div></div>
<div class="ttc" id="classQHostAddress_html_a52b18e45955b91dac156b5a1e07c0c67"><div class="ttname"><a href="classQHostAddress.html#a52b18e45955b91dac156b5a1e07c0c67">QHostAddress::protocol</a></div><div class="ttdeci">QAbstractSocket::NetworkLayerProtocol protocol() const</div><div class="ttdoc">Returns the network layer protocol of the host address. </div><div class="ttdef"><b>Definition:</b> <a href="qhostaddress_8cpp_source.html#l00713">qhostaddress.cpp:713</a></div></div>
<div class="ttc" id="structqt__in6__addr_html_a7791b9475911ae240cfbe157397d9eb6"><div class="ttname"><a href="structqt__in6__addr.html#a7791b9475911ae240cfbe157397d9eb6">qt_in6_addr::qt_s6_addr</a></div><div class="ttdeci">u_char qt_s6_addr[16]</div><div class="ttdef"><b>Definition:</b> <a href="qhostaddress_8cpp_source.html#l00084">qhostaddress.cpp:84</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->

<hr class="footer"/><address class="footer"><small><a href="https://dreamswork.github.io/qt4/">Qt 4.8 Source Code Browser</a></small></address>
</body>
</html>
