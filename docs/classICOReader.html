<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Qt 4.8: ICOReader Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="qt_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Qt 4.8
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0"
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Functions</a> &#124;
<a href="#pub-static-methods">Static Public Functions</a> &#124;
<a href="#pri-methods">Private Functions</a> &#124;
<a href="#pri-attribs">Properties</a> &#124;
<a href="classICOReader-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ICOReader Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structICOReader_1_1IcoAttrib.html">IcoAttrib</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Functions</h2></td></tr>
<tr class="memitem:a74e2c1c3fb7f38589e3731f23f18eddc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICOReader.html#a74e2c1c3fb7f38589e3731f23f18eddc">count</a> ()</td></tr>
<tr class="separator:a74e2c1c3fb7f38589e3731f23f18eddc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07ad043b9e5d132015fc7bbc0b8adb9e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classQImage.html">QImage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICOReader.html#a07ad043b9e5d132015fc7bbc0b8adb9e">iconAt</a> (int <a class="el" href="qfontsubset_8cpp.html#a83028518b8b40ed14c1c522b71d2eaa4">index</a>)</td></tr>
<tr class="separator:a07ad043b9e5d132015fc7bbc0b8adb9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7acadd84f83f5c1335a1c98bf1edf0a8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICOReader.html#a7acadd84f83f5c1335a1c98bf1edf0a8">ICOReader</a> (<a class="el" href="classQIODevice.html">QIODevice</a> *iodevice)</td></tr>
<tr class="separator:a7acadd84f83f5c1335a1c98bf1edf0a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Functions</h2></td></tr>
<tr class="memitem:aa3d012df0e320f66766b0abff2e39449"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICOReader.html#aa3d012df0e320f66766b0abff2e39449">canRead</a> (<a class="el" href="classQIODevice.html">QIODevice</a> *iodev)</td></tr>
<tr class="separator:aa3d012df0e320f66766b0abff2e39449"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d8fc1562dcc04cbed8ac5e895b9b90d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classQList.html">QList</a>&lt; <a class="el" href="classQImage.html">QImage</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICOReader.html#a1d8fc1562dcc04cbed8ac5e895b9b90d">read</a> (<a class="el" href="classQIODevice.html">QIODevice</a> *device)</td></tr>
<tr class="memdesc:a1d8fc1562dcc04cbed8ac5e895b9b90d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads all the icons from the given <em>device</em>, and returns them as a list of <a class="el" href="classQImage.html" title="The QImage class provides a hardware-independent image representation that allows direct access to th...">QImage</a> objects.  <a href="#a1d8fc1562dcc04cbed8ac5e895b9b90d">More...</a><br /></td></tr>
<tr class="separator:a1d8fc1562dcc04cbed8ac5e895b9b90d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa07a0c952ff4f9af1d84801cf72c25a5"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICOReader.html#aa07a0c952ff4f9af1d84801cf72c25a5">write</a> (<a class="el" href="classQIODevice.html">QIODevice</a> *device, const <a class="el" href="classQList.html">QList</a>&lt; <a class="el" href="classQImage.html">QImage</a> &gt; &amp;images)</td></tr>
<tr class="memdesc:aa07a0c952ff4f9af1d84801cf72c25a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes all the QImages in the <em>images</em> list to the given <em>device</em>.  <a href="#aa07a0c952ff4f9af1d84801cf72c25a5">More...</a><br /></td></tr>
<tr class="separator:aa07a0c952ff4f9af1d84801cf72c25a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Functions</h2></td></tr>
<tr class="memitem:ad564500fd9a7f4284a3b606c9c1a3f0c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICOReader.html#ad564500fd9a7f4284a3b606c9c1a3f0c">findColorInfo</a> (<a class="el" href="classQImage.html">QImage</a> &amp;image)</td></tr>
<tr class="separator:ad564500fd9a7f4284a3b606c9c1a3f0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b34123ad07ada00ac9a7901fb69fa6f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICOReader.html#a2b34123ad07ada00ac9a7901fb69fa6f">read16_24_32BMP</a> (<a class="el" href="classQImage.html">QImage</a> &amp;image)</td></tr>
<tr class="separator:a2b34123ad07ada00ac9a7901fb69fa6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea99149fae9023aa80e00f3fa7e5eb27"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICOReader.html#aea99149fae9023aa80e00f3fa7e5eb27">read1BitBMP</a> (<a class="el" href="classQImage.html">QImage</a> &amp;image)</td></tr>
<tr class="separator:aea99149fae9023aa80e00f3fa7e5eb27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80d8d0976d85db40e58305bdc31042a6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICOReader.html#a80d8d0976d85db40e58305bdc31042a6">read4BitBMP</a> (<a class="el" href="classQImage.html">QImage</a> &amp;image)</td></tr>
<tr class="separator:a80d8d0976d85db40e58305bdc31042a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae697e548107fca669e945c3fe6b7101e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICOReader.html#ae697e548107fca669e945c3fe6b7101e">read8BitBMP</a> (<a class="el" href="classQImage.html">QImage</a> &amp;image)</td></tr>
<tr class="separator:ae697e548107fca669e945c3fe6b7101e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e9a184e4f482da2d7596b492154707e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICOReader.html#a4e9a184e4f482da2d7596b492154707e">readBMP</a> (<a class="el" href="classQImage.html">QImage</a> &amp;image)</td></tr>
<tr class="separator:a4e9a184e4f482da2d7596b492154707e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ec95eae26995ef27991119afe8e67dd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICOReader.html#a3ec95eae26995ef27991119afe8e67dd">readBMPHeader</a> (<a class="el" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a> imageOffset, <a class="el" href="structBMP__INFOHDR.html">BMP_INFOHDR</a> *header)</td></tr>
<tr class="separator:a3ec95eae26995ef27991119afe8e67dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5f73c4a23ff595f0265a9cf8a184ccd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICOReader.html#ab5f73c4a23ff595f0265a9cf8a184ccd">readColorTable</a> (<a class="el" href="classQImage.html">QImage</a> &amp;image)</td></tr>
<tr class="separator:ab5f73c4a23ff595f0265a9cf8a184ccd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72e288a3c7c1ade2a237786923c1d61d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICOReader.html#a72e288a3c7c1ade2a237786923c1d61d">readHeader</a> ()</td></tr>
<tr class="separator:a72e288a3c7c1ade2a237786923c1d61d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a415dc165223b1fa5221813ac26e2c8c2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICOReader.html#a415dc165223b1fa5221813ac26e2c8c2">readIconEntry</a> (int <a class="el" href="qfontsubset_8cpp.html#a83028518b8b40ed14c1c522b71d2eaa4">index</a>, <a class="el" href="structICONDIRENTRY.html">ICONDIRENTRY</a> *iconEntry)</td></tr>
<tr class="separator:a415dc165223b1fa5221813ac26e2c8c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Properties</h2></td></tr>
<tr class="memitem:ab752af88e4766feefda24e78731770f2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICOReader.html#ab752af88e4766feefda24e78731770f2">headerRead</a></td></tr>
<tr class="separator:ab752af88e4766feefda24e78731770f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bcf4fb31970d4c213c7e3214947b139"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structICOReader_1_1IcoAttrib.html">ICOReader::IcoAttrib</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a></td></tr>
<tr class="separator:a5bcf4fb31970d4c213c7e3214947b139"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac04bdb838a00691d0b2e507925465b56"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structICONDIR.html">ICONDIR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICOReader.html#ac04bdb838a00691d0b2e507925465b56">iconDir</a></td></tr>
<tr class="separator:ac04bdb838a00691d0b2e507925465b56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1a13c68500cad978e3694ba937ce621"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classQIODevice.html">QIODevice</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">iod</a></td></tr>
<tr class="separator:af1a13c68500cad978e3694ba937ce621"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04136a8f7e53cdcf33490f2561383254"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qglobal_8h.html#a7813502f9b491fb6716cbb80ea25a92d">qint64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICOReader.html#a04136a8f7e53cdcf33490f2561383254">startpos</a></td></tr>
<tr class="separator:a04136a8f7e53cdcf33490f2561383254"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="qicohandler_8cpp_source.html#l00102">102</a> of file <a class="el" href="qicohandler_8cpp_source.html">qicohandler.cpp</a>.</p>
</div><h2 class="groupheader">Constructors and Destructors</h2>
<a id="a7acadd84f83f5c1335a1c98bf1edf0a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7acadd84f83f5c1335a1c98bf1edf0a8">&#9670;&nbsp;</a></span>ICOReader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ICOReader::ICOReader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQIODevice.html">QIODevice</a> *&#160;</td>
          <td class="paramname"><em>iodevice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qicohandler_8cpp_source.html#l00253">253</a> of file <a class="el" href="qicohandler_8cpp_source.html">qicohandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qicohandler_8cpp_source.html#l00769">QtIcoHandler::QtIcoHandler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;: <a class="code" href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">iod</a>(iodevice)</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;, <a class="code" href="classICOReader.html#a04136a8f7e53cdcf33490f2561383254">startpos</a>(0)</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;, <a class="code" href="classICOReader.html#ab752af88e4766feefda24e78731770f2">headerRead</a>(<span class="keyword">false</span>)</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;{</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;}</div><div class="ttc" id="classICOReader_html_a04136a8f7e53cdcf33490f2561383254"><div class="ttname"><a href="classICOReader.html#a04136a8f7e53cdcf33490f2561383254">ICOReader::startpos</a></div><div class="ttdeci">qint64 startpos</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00138">qicohandler.cpp:138</a></div></div>
<div class="ttc" id="classICOReader_html_ab752af88e4766feefda24e78731770f2"><div class="ttname"><a href="classICOReader.html#ab752af88e4766feefda24e78731770f2">ICOReader::headerRead</a></div><div class="ttdeci">bool headerRead</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00139">qicohandler.cpp:139</a></div></div>
<div class="ttc" id="classICOReader_html_af1a13c68500cad978e3694ba937ce621"><div class="ttname"><a href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">ICOReader::iod</a></div><div class="ttdeci">QIODevice * iod</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00137">qicohandler.cpp:137</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Functions</h2>
<a id="aa3d012df0e320f66766b0abff2e39449"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3d012df0e320f66766b0abff2e39449">&#9670;&nbsp;</a></span>canRead()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ICOReader::canRead </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQIODevice.html">QIODevice</a> *&#160;</td>
          <td class="paramname"><em>iodev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qicohandler_8cpp_source.html#l00268">268</a> of file <a class="el" href="qicohandler_8cpp_source.html">qicohandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qicohandler_8cpp_source.html#l00812">QtIcoHandler::canRead()</a>.</p>
<div class="fragment"><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;{</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordtype">bool</span> isProbablyICO = <span class="keyword">false</span>;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">if</span> (iodev) {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <a class="code" href="qglobal_8h.html#a7813502f9b491fb6716cbb80ea25a92d">qint64</a> oldPos = iodev-&gt;<a class="code" href="classQIODevice.html#a1537dd2eaacf74faa074694ee0ccb6b7">pos</a>();</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <a class="code" href="structICONDIR.html">ICONDIR</a> ikonDir;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="qicohandler_8cpp.html#a5dd49176ca5cf6a9cad2d43669c8d8ee">readIconDir</a>(iodev, &amp;ikonDir)) {</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            <a class="code" href="qglobal_8h.html#a7813502f9b491fb6716cbb80ea25a92d">qint64</a> readBytes = <a class="code" href="qicohandler_8cpp.html#af538c9a4301afd362a33348647fba0a5">ICONDIR_SIZE</a>;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="qicohandler_8cpp.html#a77981e66c71ffeba652feba8987b3b32">readIconDirEntry</a>(iodev, &amp;ikonDir.<a class="code" href="structICONDIR.html#a2842f4d19b494533dccb0a76b9f7d9eb">idEntries</a>[0])) {</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                readBytes += <a class="code" href="qicohandler_8cpp.html#a1b156ebee9b5ee0c45ad11aab86221e3">ICONDIRENTRY_SIZE</a>;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                <span class="comment">// ICO format does not have a magic identifier, so we read 6 different values, which will hopefully be enough to identify the file.</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                <span class="keywordflow">if</span> (   ikonDir.<a class="code" href="structICONDIR.html#a0e0381325148ec5422dd7cd4360f07e0">idReserved</a> == 0</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                    &amp;&amp; ikonDir.<a class="code" href="structICONDIR.html#a6be5af4fee58188c9efa5cf33a70a389">idType</a> == 1</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                    &amp;&amp; ikonDir.<a class="code" href="structICONDIR.html#a2842f4d19b494533dccb0a76b9f7d9eb">idEntries</a>[0].<a class="code" href="structICONDIRENTRY.html#a21172c248dedc54c31267c13a9bef5eb">bReserved</a> == 0</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                    &amp;&amp; ikonDir.<a class="code" href="structICONDIR.html#a2842f4d19b494533dccb0a76b9f7d9eb">idEntries</a>[0].<a class="code" href="structICONDIRENTRY.html#a75ab31af43663eb9320e17539b3346f6">wPlanes</a> &lt;= 1</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                    &amp;&amp; ikonDir.<a class="code" href="structICONDIR.html#a2842f4d19b494533dccb0a76b9f7d9eb">idEntries</a>[0].<a class="code" href="structICONDIRENTRY.html#a3bfa26e325e237b53fa5e65b1e612935">wBitCount</a> &lt;= 32     <span class="comment">// Bits per pixel</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                    &amp;&amp; ikonDir.<a class="code" href="structICONDIR.html#a2842f4d19b494533dccb0a76b9f7d9eb">idEntries</a>[0].<a class="code" href="structICONDIRENTRY.html#affae99410b622cb9a6960520f920345d">dwBytesInRes</a> &gt;= 40  <span class="comment">// Must be over 40, since sizeof (infoheader) == 40</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                    ) {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                    isProbablyICO = <span class="keyword">true</span>;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                }</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                <span class="keywordflow">if</span> (iodev-&gt;<a class="code" href="classQIODevice.html#a1a3ea1b8b339d7fdb8e675fe48579f56">isSequential</a>()) {</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                    <span class="comment">// Our structs might be padded due to alignment, so we need to fetch each member before we ungetChar() !</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                    <a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a> tmp = ikonDir.<a class="code" href="structICONDIR.html#a2842f4d19b494533dccb0a76b9f7d9eb">idEntries</a>[0].<a class="code" href="structICONDIRENTRY.html#ab93d7a18973de56c36c8ed3f9b57fd40">dwImageOffset</a>;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                    iodev-&gt;<a class="code" href="classQIODevice.html#ad5dca99379dc398ef073a49d2b52c6c6">ungetChar</a>((tmp &gt;&gt; 24) &amp; 0xff);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                    iodev-&gt;<a class="code" href="classQIODevice.html#ad5dca99379dc398ef073a49d2b52c6c6">ungetChar</a>((tmp &gt;&gt; 16) &amp; 0xff);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                    iodev-&gt;<a class="code" href="classQIODevice.html#ad5dca99379dc398ef073a49d2b52c6c6">ungetChar</a>((tmp &gt;&gt;  8) &amp; 0xff);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                    iodev-&gt;<a class="code" href="classQIODevice.html#ad5dca99379dc398ef073a49d2b52c6c6">ungetChar</a>(tmp &amp; 0xff);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                    tmp = ikonDir.<a class="code" href="structICONDIR.html#a2842f4d19b494533dccb0a76b9f7d9eb">idEntries</a>[0].<a class="code" href="structICONDIRENTRY.html#affae99410b622cb9a6960520f920345d">dwBytesInRes</a>;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                    iodev-&gt;<a class="code" href="classQIODevice.html#ad5dca99379dc398ef073a49d2b52c6c6">ungetChar</a>((tmp &gt;&gt; 24) &amp; 0xff);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                    iodev-&gt;<a class="code" href="classQIODevice.html#ad5dca99379dc398ef073a49d2b52c6c6">ungetChar</a>((tmp &gt;&gt; 16) &amp; 0xff);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                    iodev-&gt;<a class="code" href="classQIODevice.html#ad5dca99379dc398ef073a49d2b52c6c6">ungetChar</a>((tmp &gt;&gt;  8) &amp; 0xff);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                    iodev-&gt;<a class="code" href="classQIODevice.html#ad5dca99379dc398ef073a49d2b52c6c6">ungetChar</a>(tmp &amp; 0xff);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                    tmp = ikonDir.<a class="code" href="structICONDIR.html#a2842f4d19b494533dccb0a76b9f7d9eb">idEntries</a>[0].<a class="code" href="structICONDIRENTRY.html#a3bfa26e325e237b53fa5e65b1e612935">wBitCount</a>;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                    iodev-&gt;<a class="code" href="classQIODevice.html#ad5dca99379dc398ef073a49d2b52c6c6">ungetChar</a>((tmp &gt;&gt;  8) &amp; 0xff);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                    iodev-&gt;<a class="code" href="classQIODevice.html#ad5dca99379dc398ef073a49d2b52c6c6">ungetChar</a>(tmp &amp; 0xff);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                    tmp = ikonDir.<a class="code" href="structICONDIR.html#a2842f4d19b494533dccb0a76b9f7d9eb">idEntries</a>[0].<a class="code" href="structICONDIRENTRY.html#a75ab31af43663eb9320e17539b3346f6">wPlanes</a>;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                    iodev-&gt;<a class="code" href="classQIODevice.html#ad5dca99379dc398ef073a49d2b52c6c6">ungetChar</a>((tmp &gt;&gt;  8) &amp; 0xff);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                    iodev-&gt;<a class="code" href="classQIODevice.html#ad5dca99379dc398ef073a49d2b52c6c6">ungetChar</a>(tmp &amp; 0xff);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                    iodev-&gt;<a class="code" href="classQIODevice.html#ad5dca99379dc398ef073a49d2b52c6c6">ungetChar</a>(ikonDir.<a class="code" href="structICONDIR.html#a2842f4d19b494533dccb0a76b9f7d9eb">idEntries</a>[0].<a class="code" href="structICONDIRENTRY.html#a21172c248dedc54c31267c13a9bef5eb">bReserved</a>);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                    iodev-&gt;<a class="code" href="classQIODevice.html#ad5dca99379dc398ef073a49d2b52c6c6">ungetChar</a>(ikonDir.<a class="code" href="structICONDIR.html#a2842f4d19b494533dccb0a76b9f7d9eb">idEntries</a>[0].<a class="code" href="structICONDIRENTRY.html#adb96acc15a5c19353ad7f622d4af2705">bColorCount</a>);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                    iodev-&gt;<a class="code" href="classQIODevice.html#ad5dca99379dc398ef073a49d2b52c6c6">ungetChar</a>(ikonDir.<a class="code" href="structICONDIR.html#a2842f4d19b494533dccb0a76b9f7d9eb">idEntries</a>[0].<a class="code" href="structICONDIRENTRY.html#af26c7fd76c4a9d0313fe4737257589ab">bHeight</a>);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                    iodev-&gt;<a class="code" href="classQIODevice.html#ad5dca99379dc398ef073a49d2b52c6c6">ungetChar</a>(ikonDir.<a class="code" href="structICONDIR.html#a2842f4d19b494533dccb0a76b9f7d9eb">idEntries</a>[0].<a class="code" href="structICONDIRENTRY.html#a9245ed80b12de288dae4025b17ccfde2">bWidth</a>);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                }</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            }</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            <span class="keywordflow">if</span> (iodev-&gt;<a class="code" href="classQIODevice.html#a1a3ea1b8b339d7fdb8e675fe48579f56">isSequential</a>()) {</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                <span class="comment">// Our structs might be padded due to alignment, so we need to fetch each member before we ungetChar() !</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                <a class="code" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a> tmp = ikonDir.<a class="code" href="structICONDIR.html#aa9700fbe8476884fd8e74da0c6317974">idCount</a>;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                iodev-&gt;<a class="code" href="classQIODevice.html#ad5dca99379dc398ef073a49d2b52c6c6">ungetChar</a>((tmp &gt;&gt;  8) &amp; 0xff);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                iodev-&gt;<a class="code" href="classQIODevice.html#ad5dca99379dc398ef073a49d2b52c6c6">ungetChar</a>(tmp &amp; 0xff);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                tmp = ikonDir.<a class="code" href="structICONDIR.html#a6be5af4fee58188c9efa5cf33a70a389">idType</a>;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                iodev-&gt;<a class="code" href="classQIODevice.html#ad5dca99379dc398ef073a49d2b52c6c6">ungetChar</a>((tmp &gt;&gt;  8) &amp; 0xff);</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                iodev-&gt;<a class="code" href="classQIODevice.html#ad5dca99379dc398ef073a49d2b52c6c6">ungetChar</a>(tmp &amp; 0xff);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                tmp = ikonDir.<a class="code" href="structICONDIR.html#a0e0381325148ec5422dd7cd4360f07e0">idReserved</a>;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                iodev-&gt;<a class="code" href="classQIODevice.html#ad5dca99379dc398ef073a49d2b52c6c6">ungetChar</a>((tmp &gt;&gt;  8) &amp; 0xff);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                iodev-&gt;<a class="code" href="classQIODevice.html#ad5dca99379dc398ef073a49d2b52c6c6">ungetChar</a>(tmp &amp; 0xff);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            }</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        }</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keywordflow">if</span> (!iodev-&gt;<a class="code" href="classQIODevice.html#a1a3ea1b8b339d7fdb8e675fe48579f56">isSequential</a>()) iodev-&gt;<a class="code" href="classQIODevice.html#ac0a82d036b837f4a10469fc07e1d8e99">seek</a>(oldPos);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    }</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">return</span> isProbablyICO;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;}</div><div class="ttc" id="structICONDIRENTRY_html_affae99410b622cb9a6960520f920345d"><div class="ttname"><a href="structICONDIRENTRY.html#affae99410b622cb9a6960520f920345d">ICONDIRENTRY::dwBytesInRes</a></div><div class="ttdeci">quint32 dwBytesInRes</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00073">qicohandler.cpp:73</a></div></div>
<div class="ttc" id="structICONDIRENTRY_html_a9245ed80b12de288dae4025b17ccfde2"><div class="ttname"><a href="structICONDIRENTRY.html#a9245ed80b12de288dae4025b17ccfde2">ICONDIRENTRY::bWidth</a></div><div class="ttdeci">quint8 bWidth</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00067">qicohandler.cpp:67</a></div></div>
<div class="ttc" id="qicohandler_8cpp_html_af538c9a4301afd362a33348647fba0a5"><div class="ttname"><a href="qicohandler_8cpp.html#af538c9a4301afd362a33348647fba0a5">ICONDIR_SIZE</a></div><div class="ttdeci">#define ICONDIR_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00085">qicohandler.cpp:85</a></div></div>
<div class="ttc" id="structICONDIRENTRY_html_af26c7fd76c4a9d0313fe4737257589ab"><div class="ttname"><a href="structICONDIRENTRY.html#af26c7fd76c4a9d0313fe4737257589ab">ICONDIRENTRY::bHeight</a></div><div class="ttdeci">quint8 bHeight</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00068">qicohandler.cpp:68</a></div></div>
<div class="ttc" id="classQIODevice_html_a1537dd2eaacf74faa074694ee0ccb6b7"><div class="ttname"><a href="classQIODevice.html#a1537dd2eaacf74faa074694ee0ccb6b7">QIODevice::pos</a></div><div class="ttdeci">virtual qint64 pos() const</div><div class="ttdoc">For random-access devices, this function returns the position that data is written to or read from...</div><div class="ttdef"><b>Definition:</b> <a href="qiodevice_8cpp_source.html#l00624">qiodevice.cpp:624</a></div></div>
<div class="ttc" id="structICONDIRENTRY_html_adb96acc15a5c19353ad7f622d4af2705"><div class="ttname"><a href="structICONDIRENTRY.html#adb96acc15a5c19353ad7f622d4af2705">ICONDIRENTRY::bColorCount</a></div><div class="ttdeci">quint8 bColorCount</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00069">qicohandler.cpp:69</a></div></div>
<div class="ttc" id="structICONDIR_html_a2842f4d19b494533dccb0a76b9f7d9eb"><div class="ttname"><a href="structICONDIR.html#a2842f4d19b494533dccb0a76b9f7d9eb">ICONDIR::idEntries</a></div><div class="ttdeci">ICONDIRENTRY idEntries[1]</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00083">qicohandler.cpp:83</a></div></div>
<div class="ttc" id="structICONDIRENTRY_html_a3bfa26e325e237b53fa5e65b1e612935"><div class="ttname"><a href="structICONDIRENTRY.html#a3bfa26e325e237b53fa5e65b1e612935">ICONDIRENTRY::wBitCount</a></div><div class="ttdeci">quint16 wBitCount</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00072">qicohandler.cpp:72</a></div></div>
<div class="ttc" id="classQIODevice_html_ad5dca99379dc398ef073a49d2b52c6c6"><div class="ttname"><a href="classQIODevice.html#ad5dca99379dc398ef073a49d2b52c6c6">QIODevice::ungetChar</a></div><div class="ttdeci">void ungetChar(char c)</div><div class="ttdoc">Puts the character c back into the device, and decrements the current position unless the position is...</div><div class="ttdef"><b>Definition:</b> <a href="qiodevice_8cpp_source.html#l01462">qiodevice.cpp:1462</a></div></div>
<div class="ttc" id="qicohandler_8cpp_html_a5dd49176ca5cf6a9cad2d43669c8d8ee"><div class="ttname"><a href="qicohandler_8cpp.html#a5dd49176ca5cf6a9cad2d43669c8d8ee">readIconDir</a></div><div class="ttdeci">static bool readIconDir(QIODevice *iodev, ICONDIR *iconDir)</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00183">qicohandler.cpp:183</a></div></div>
<div class="ttc" id="qicohandler_8cpp_html_a1b156ebee9b5ee0c45ad11aab86221e3"><div class="ttname"><a href="qicohandler_8cpp.html#a1b156ebee9b5ee0c45ad11aab86221e3">ICONDIRENTRY_SIZE</a></div><div class="ttdeci">#define ICONDIRENTRY_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00076">qicohandler.cpp:76</a></div></div>
<div class="ttc" id="structICONDIR_html_a0e0381325148ec5422dd7cd4360f07e0"><div class="ttname"><a href="structICONDIR.html#a0e0381325148ec5422dd7cd4360f07e0">ICONDIR::idReserved</a></div><div class="ttdeci">quint16 idReserved</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00080">qicohandler.cpp:80</a></div></div>
<div class="ttc" id="structICONDIR_html"><div class="ttname"><a href="structICONDIR.html">ICONDIR</a></div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00078">qicohandler.cpp:78</a></div></div>
<div class="ttc" id="structICONDIRENTRY_html_a75ab31af43663eb9320e17539b3346f6"><div class="ttname"><a href="structICONDIRENTRY.html#a75ab31af43663eb9320e17539b3346f6">ICONDIRENTRY::wPlanes</a></div><div class="ttdeci">quint16 wPlanes</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00071">qicohandler.cpp:71</a></div></div>
<div class="ttc" id="qglobal_8h_html_a7813502f9b491fb6716cbb80ea25a92d"><div class="ttname"><a href="qglobal_8h.html#a7813502f9b491fb6716cbb80ea25a92d">qint64</a></div><div class="ttdeci">__int64 qint64</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l00942">qglobal.h:942</a></div></div>
<div class="ttc" id="classQIODevice_html_a1a3ea1b8b339d7fdb8e675fe48579f56"><div class="ttname"><a href="classQIODevice.html#a1a3ea1b8b339d7fdb8e675fe48579f56">QIODevice::isSequential</a></div><div class="ttdeci">virtual bool isSequential() const</div><div class="ttdoc">Returns true if this device is sequential; otherwise returns false. </div><div class="ttdef"><b>Definition:</b> <a href="qiodevice_8cpp_source.html#l00454">qiodevice.cpp:454</a></div></div>
<div class="ttc" id="structICONDIRENTRY_html_a21172c248dedc54c31267c13a9bef5eb"><div class="ttname"><a href="structICONDIRENTRY.html#a21172c248dedc54c31267c13a9bef5eb">ICONDIRENTRY::bReserved</a></div><div class="ttdeci">quint8 bReserved</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00070">qicohandler.cpp:70</a></div></div>
<div class="ttc" id="qglobal_8h_html_a29bedad345d15459d2e629fd6dc14956"><div class="ttname"><a href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a></div><div class="ttdeci">unsigned int quint32</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l00938">qglobal.h:938</a></div></div>
<div class="ttc" id="qicohandler_8cpp_html_a77981e66c71ffeba652feba8987b3b32"><div class="ttname"><a href="qicohandler_8cpp.html#a77981e66c71ffeba652feba8987b3b32">readIconDirEntry</a></div><div class="ttdeci">static bool readIconDirEntry(QIODevice *iodev, ICONDIRENTRY *iconDirEntry)</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00145">qicohandler.cpp:145</a></div></div>
<div class="ttc" id="structICONDIR_html_a6be5af4fee58188c9efa5cf33a70a389"><div class="ttname"><a href="structICONDIR.html#a6be5af4fee58188c9efa5cf33a70a389">ICONDIR::idType</a></div><div class="ttdeci">quint16 idType</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00081">qicohandler.cpp:81</a></div></div>
<div class="ttc" id="classQIODevice_html_ac0a82d036b837f4a10469fc07e1d8e99"><div class="ttname"><a href="classQIODevice.html#ac0a82d036b837f4a10469fc07e1d8e99">QIODevice::seek</a></div><div class="ttdeci">virtual bool seek(qint64 pos)</div><div class="ttdoc">For random-access devices, this function sets the current position to pos, returning true on success...</div><div class="ttdef"><b>Definition:</b> <a href="qiodevice_8cpp_source.html#l00659">qiodevice.cpp:659</a></div></div>
<div class="ttc" id="structICONDIR_html_aa9700fbe8476884fd8e74da0c6317974"><div class="ttname"><a href="structICONDIR.html#aa9700fbe8476884fd8e74da0c6317974">ICONDIR::idCount</a></div><div class="ttdeci">quint16 idCount</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00082">qicohandler.cpp:82</a></div></div>
<div class="ttc" id="structICONDIRENTRY_html_ab93d7a18973de56c36c8ed3f9b57fd40"><div class="ttname"><a href="structICONDIRENTRY.html#ab93d7a18973de56c36c8ed3f9b57fd40">ICONDIRENTRY::dwImageOffset</a></div><div class="ttdeci">quint32 dwImageOffset</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00074">qicohandler.cpp:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a74e2c1c3fb7f38589e3731f23f18eddc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74e2c1c3fb7f38589e3731f23f18eddc">&#9670;&nbsp;</a></span>count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ICOReader::count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qicohandler_8cpp_source.html#l00261">261</a> of file <a class="el" href="qicohandler_8cpp_source.html">qicohandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qicohandler_8cpp_source.html#l00523">iconAt()</a>, and <a class="el" href="qicohandler_8cpp_source.html#l00622">read()</a>.</p>
<div class="fragment"><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;{</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#a72e288a3c7c1ade2a237786923c1d61d">readHeader</a>())</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classICOReader.html#ac04bdb838a00691d0b2e507925465b56">iconDir</a>.<a class="code" href="structICONDIR.html#aa9700fbe8476884fd8e74da0c6317974">idCount</a>;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;}</div><div class="ttc" id="classICOReader_html_a72e288a3c7c1ade2a237786923c1d61d"><div class="ttname"><a href="classICOReader.html#a72e288a3c7c1ade2a237786923c1d61d">ICOReader::readHeader</a></div><div class="ttdeci">bool readHeader()</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00340">qicohandler.cpp:340</a></div></div>
<div class="ttc" id="classICOReader_html_ac04bdb838a00691d0b2e507925465b56"><div class="ttname"><a href="classICOReader.html#ac04bdb838a00691d0b2e507925465b56">ICOReader::iconDir</a></div><div class="ttdeci">ICONDIR iconDir</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00140">qicohandler.cpp:140</a></div></div>
<div class="ttc" id="structICONDIR_html_aa9700fbe8476884fd8e74da0c6317974"><div class="ttname"><a href="structICONDIR.html#aa9700fbe8476884fd8e74da0c6317974">ICONDIR::idCount</a></div><div class="ttdeci">quint16 idCount</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00082">qicohandler.cpp:82</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad564500fd9a7f4284a3b606c9c1a3f0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad564500fd9a7f4284a3b606c9c1a3f0c">&#9670;&nbsp;</a></span>findColorInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ICOReader::findColorInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQImage.html">QImage</a> &amp;&#160;</td>
          <td class="paramname"><em>image</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qicohandler_8cpp_source.html#l00377">377</a> of file <a class="el" href="qicohandler_8cpp_source.html">qicohandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qicohandler_8cpp_source.html#l00523">iconAt()</a>.</p>
<div class="fragment"><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;{</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#aec2f5cf7dc54233d61b4bd7178cb585e">ncolors</a> &gt; 0) {                <span class="comment">// set color table</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <a class="code" href="classICOReader.html#ab5f73c4a23ff595f0265a9cf8a184ccd">readColorTable</a>(image);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#aaf7073e01c7a762bea1cfac6f1576e4d">nbits</a> == 16) { <span class="comment">// don&#39;t support RGB values for 15/16 bpp</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        image = <a class="code" href="classQImage.html">QImage</a>();</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    }</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;}</div><div class="ttc" id="classQImage_html"><div class="ttname"><a href="classQImage.html">QImage</a></div><div class="ttdoc">The QImage class provides a hardware-independent image representation that allows direct access to th...</div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00087">qimage.h:87</a></div></div>
<div class="ttc" id="classICOReader_html_ab5f73c4a23ff595f0265a9cf8a184ccd"><div class="ttname"><a href="classICOReader.html#ab5f73c4a23ff595f0265a9cf8a184ccd">ICOReader::readColorTable</a></div><div class="ttdeci">void readColorTable(QImage &amp;image)</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00386">qicohandler.cpp:386</a></div></div>
<div class="ttc" id="classICOReader_html_a5bcf4fb31970d4c213c7e3214947b139"><div class="ttname"><a href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">ICOReader::icoAttrib</a></div><div class="ttdeci">struct ICOReader::IcoAttrib icoAttrib</div></div>
<div class="ttc" id="structICOReader_1_1IcoAttrib_html_aaf7073e01c7a762bea1cfac6f1576e4d"><div class="ttname"><a href="structICOReader_1_1IcoAttrib.html#aaf7073e01c7a762bea1cfac6f1576e4d">ICOReader::IcoAttrib::nbits</a></div><div class="ttdeci">int nbits</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00130">qicohandler.cpp:130</a></div></div>
<div class="ttc" id="structICOReader_1_1IcoAttrib_html_aec2f5cf7dc54233d61b4bd7178cb585e"><div class="ttname"><a href="structICOReader_1_1IcoAttrib.html#aec2f5cf7dc54233d61b4bd7178cb585e">ICOReader::IcoAttrib::ncolors</a></div><div class="ttdeci">int ncolors</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00131">qicohandler.cpp:131</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a07ad043b9e5d132015fc7bbc0b8adb9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07ad043b9e5d132015fc7bbc0b8adb9e">&#9670;&nbsp;</a></span>iconAt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQImage.html">QImage</a> ICOReader::iconAt </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qicohandler_8cpp_source.html#l00523">523</a> of file <a class="el" href="qicohandler_8cpp_source.html">qicohandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qicohandler_8cpp_source.html#l00622">read()</a>.</p>
<div class="fragment"><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;{</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <a class="code" href="classQImage.html">QImage</a> img;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#a74e2c1c3fb7f38589e3731f23f18eddc">count</a>() &gt; <a class="code" href="qfontsubset_8cpp.html#a83028518b8b40ed14c1c522b71d2eaa4">index</a>) { <span class="comment">// forces header to be read</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <a class="code" href="structICONDIRENTRY.html">ICONDIRENTRY</a> iconEntry;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#a415dc165223b1fa5221813ac26e2c8c2">readIconEntry</a>(<a class="code" href="qfontsubset_8cpp.html#a83028518b8b40ed14c1c522b71d2eaa4">index</a>, &amp;iconEntry)) {</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> pngMagicData[] = { 137, 80, 78, 71, 13, 10, 26, 10 };</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            <a class="code" href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">iod</a>-&gt;<a class="code" href="classQIODevice.html#ac0a82d036b837f4a10469fc07e1d8e99">seek</a>(iconEntry.<a class="code" href="structICONDIRENTRY.html#ab93d7a18973de56c36c8ed3f9b57fd40">dwImageOffset</a>);</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            <span class="keyword">const</span> <a class="code" href="classQByteArray.html">QByteArray</a> pngMagic = <a class="code" href="classQByteArray.html#a3348f30515c895793ad23b19c3f64a9f">QByteArray::fromRawData</a>((<span class="keywordtype">char</span>*)pngMagicData, <span class="keyword">sizeof</span>(pngMagicData));</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">bool</span> isPngImage = (<a class="code" href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">iod</a>-&gt;<a class="code" href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">read</a>(pngMagic.<a class="code" href="classQByteArray.html#a0cd331ee1b05147f3173fb85dfcd0ccd">size</a>()) == pngMagic);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            <span class="keywordflow">if</span> (isPngImage) {</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                <a class="code" href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">iod</a>-&gt;<a class="code" href="classQIODevice.html#ac0a82d036b837f4a10469fc07e1d8e99">seek</a>(iconEntry.<a class="code" href="structICONDIRENTRY.html#ab93d7a18973de56c36c8ed3f9b57fd40">dwImageOffset</a>);</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="classQImage.html#ae743198d6047304480046694472d0d51">QImage::fromData</a>(<a class="code" href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">iod</a>-&gt;<a class="code" href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">read</a>(iconEntry.<a class="code" href="structICONDIRENTRY.html#affae99410b622cb9a6960520f920345d">dwBytesInRes</a>), <span class="stringliteral">&quot;png&quot;</span>);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            }</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            <a class="code" href="structBMP__INFOHDR.html">BMP_INFOHDR</a> header;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#a3ec95eae26995ef27991119afe8e67dd">readBMPHeader</a>(iconEntry.<a class="code" href="structICONDIRENTRY.html#ab93d7a18973de56c36c8ed3f9b57fd40">dwImageOffset</a>, &amp;header)) {</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                <a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#aaf7073e01c7a762bea1cfac6f1576e4d">nbits</a> = header.biBitCount ? header.biBitCount : iconEntry.<a class="code" href="structICONDIRENTRY.html#a3bfa26e325e237b53fa5e65b1e612935">wBitCount</a>;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                <span class="keywordflow">switch</span> (<a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#aaf7073e01c7a762bea1cfac6f1576e4d">nbits</a>) {</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                <span class="keywordflow">case</span> 32:</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                <span class="keywordflow">case</span> 24:</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                <span class="keywordflow">case</span> 16:</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                    <a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#ae4480649f0006ecdce5faeb1c1de7b03">depth</a> = 32;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                <span class="keywordflow">case</span> 8:</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                <span class="keywordflow">case</span> 4:</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                    <a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#ae4480649f0006ecdce5faeb1c1de7b03">depth</a> = 8;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                <span class="keywordflow">default</span>:</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                    <a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#ae4480649f0006ecdce5faeb1c1de7b03">depth</a> = 1;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                }</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#ae4480649f0006ecdce5faeb1c1de7b03">depth</a> == 32)                <span class="comment">// there&#39;s no colormap</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                    <a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#aec2f5cf7dc54233d61b4bd7178cb585e">ncolors</a> = 0;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                <span class="keywordflow">else</span>                    <span class="comment">// # colors used</span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                    <a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#aec2f5cf7dc54233d61b4bd7178cb585e">ncolors</a> = header.biClrUsed ? header.biClrUsed : 1 &lt;&lt; <a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#aaf7073e01c7a762bea1cfac6f1576e4d">nbits</a>;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#aec2f5cf7dc54233d61b4bd7178cb585e">ncolors</a> &gt; 256) <span class="comment">//color table can&#39;t be more than 256</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                    <span class="keywordflow">return</span> img;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                <a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#a824144d618d1cc4088294b5756b4b6d1">w</a> = iconEntry.<a class="code" href="structICONDIRENTRY.html#a9245ed80b12de288dae4025b17ccfde2">bWidth</a>;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#a824144d618d1cc4088294b5756b4b6d1">w</a> == 0)</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                    <a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#a824144d618d1cc4088294b5756b4b6d1">w</a> = header.biWidth;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                <a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#a988168c2444c0cfe366429f85d64ebb5">h</a> = iconEntry.<a class="code" href="structICONDIRENTRY.html#af26c7fd76c4a9d0313fe4737257589ab">bHeight</a>;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#a988168c2444c0cfe366429f85d64ebb5">h</a> == 0)</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                    <a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#a988168c2444c0cfe366429f85d64ebb5">h</a> = header.biHeight/2;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                <a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8d">QImage::Format</a> <a class="code" href="qprintengine__ps_8cpp.html#a387137c43ed9616d39ba90e890d181eb">format</a> = <a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dae6a648c88becc4b9993158b57fbdc8e6">QImage::Format_ARGB32</a>;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#aaf7073e01c7a762bea1cfac6f1576e4d">nbits</a> == 24)</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                    format = <a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8da6711d4eda08befec966bcc742678e48c">QImage::Format_RGB32</a>;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#aec2f5cf7dc54233d61b4bd7178cb585e">ncolors</a> == 2)</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                    format = <a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dab1aa35fb34158e02d1af6272303e3aae">QImage::Format_Mono</a>;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#aec2f5cf7dc54233d61b4bd7178cb585e">ncolors</a> &gt; 0)</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                    format = <a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dabee95196f4682d4f4d1eb1220859e8d2">QImage::Format_Indexed8</a>;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                <a class="code" href="classQImage.html">QImage</a> image(<a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#a824144d618d1cc4088294b5756b4b6d1">w</a>, <a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#a988168c2444c0cfe366429f85d64ebb5">h</a>, format);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                <span class="keywordflow">if</span> (!image.isNull()) {</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                    <a class="code" href="classICOReader.html#ad564500fd9a7f4284a3b606c9c1a3f0c">findColorInfo</a>(image);</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                    <span class="keywordflow">if</span> (!image.isNull()) {</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                        <a class="code" href="classICOReader.html#a4e9a184e4f482da2d7596b492154707e">readBMP</a>(image);</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                        <span class="keywordflow">if</span> (!image.isNull()) {</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                            <a class="code" href="classQImage.html">QImage</a> mask(image.width(), image.height(), <a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dab1aa35fb34158e02d1af6272303e3aae">QImage::Format_Mono</a>);</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                            <span class="keywordflow">if</span> (!mask.isNull()) {</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                                mask.<a class="code" href="classQImage.html#a45e2d9831f138cbb5f3f8795c126ecc6">setColorCount</a>(2);</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                                mask.setColor(0, <a class="code" href="qrgb_8h.html#a0872d728476d63455b4f90941aa77a63">qRgba</a>(255,255,255,0xff));</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                                mask.setColor(1, <a class="code" href="qrgb_8h.html#a0872d728476d63455b4f90941aa77a63">qRgba</a>(0  ,0  ,0  ,0xff));</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                                <a class="code" href="classICOReader.html#aea99149fae9023aa80e00f3fa7e5eb27">read1BitBMP</a>(mask);</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                                <span class="keywordflow">if</span> (!mask.isNull()) {</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                                    img = <a class="code" href="classQImage.html">QImage</a>(image.width(), image.height(), <a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dae6a648c88becc4b9993158b57fbdc8e6">QImage::Format_ARGB32</a> );</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                                    img = image;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                                    img.<a class="code" href="classQImage.html#a26defffa0785d49d962e886dd9e05be4">setAlphaChannel</a>(mask);</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                                    <span class="comment">// (Luckily, it seems that setAlphaChannel() does not ruin the alpha values</span></div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                                    <span class="comment">// of partially transparent pixels in those icons that have that)</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                                }</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                            }</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                        }</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                    }</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                }</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            }</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        }</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    }</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="keywordflow">return</span> img;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;}</div><div class="ttc" id="structICONDIRENTRY_html_affae99410b622cb9a6960520f920345d"><div class="ttname"><a href="structICONDIRENTRY.html#affae99410b622cb9a6960520f920345d">ICONDIRENTRY::dwBytesInRes</a></div><div class="ttdeci">quint32 dwBytesInRes</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00073">qicohandler.cpp:73</a></div></div>
<div class="ttc" id="classQImage_html_a810aa2990f23c8aa8dc82c59ba11bd8d"><div class="ttname"><a href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8d">QImage::Format</a></div><div class="ttdeci">Format</div><div class="ttdoc">The following image formats are available in Qt. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00091">qimage.h:91</a></div></div>
<div class="ttc" id="classQImage_html_a810aa2990f23c8aa8dc82c59ba11bd8dabee95196f4682d4f4d1eb1220859e8d2"><div class="ttname"><a href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dabee95196f4682d4f4d1eb1220859e8d2">QImage::Format_Indexed8</a></div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00095">qimage.h:95</a></div></div>
<div class="ttc" id="structICONDIRENTRY_html_a9245ed80b12de288dae4025b17ccfde2"><div class="ttname"><a href="structICONDIRENTRY.html#a9245ed80b12de288dae4025b17ccfde2">ICONDIRENTRY::bWidth</a></div><div class="ttdeci">quint8 bWidth</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00067">qicohandler.cpp:67</a></div></div>
<div class="ttc" id="classICOReader_html_a4e9a184e4f482da2d7596b492154707e"><div class="ttname"><a href="classICOReader.html#a4e9a184e4f482da2d7596b492154707e">ICOReader::readBMP</a></div><div class="ttdeci">void readBMP(QImage &amp;image)</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00403">qicohandler.cpp:403</a></div></div>
<div class="ttc" id="structBMP__INFOHDR_html"><div class="ttname"><a href="structBMP__INFOHDR.html">BMP_INFOHDR</a></div><div class="ttdef"><b>Definition:</b> <a href="qbmphandler__p_8h_source.html#l00070">qbmphandler_p.h:70</a></div></div>
<div class="ttc" id="structICONDIRENTRY_html_af26c7fd76c4a9d0313fe4737257589ab"><div class="ttname"><a href="structICONDIRENTRY.html#af26c7fd76c4a9d0313fe4737257589ab">ICONDIRENTRY::bHeight</a></div><div class="ttdeci">quint8 bHeight</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00068">qicohandler.cpp:68</a></div></div>
<div class="ttc" id="classQByteArray_html"><div class="ttname"><a href="classQByteArray.html">QByteArray</a></div><div class="ttdoc">The QByteArray class provides an array of bytes. </div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8h_source.html#l00135">qbytearray.h:135</a></div></div>
<div class="ttc" id="structICONDIRENTRY_html_a3bfa26e325e237b53fa5e65b1e612935"><div class="ttname"><a href="structICONDIRENTRY.html#a3bfa26e325e237b53fa5e65b1e612935">ICONDIRENTRY::wBitCount</a></div><div class="ttdeci">quint16 wBitCount</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00072">qicohandler.cpp:72</a></div></div>
<div class="ttc" id="classQIODevice_html_af6656035ec4464bcc2a599bb25ac235a"><div class="ttname"><a href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">QIODevice::read</a></div><div class="ttdeci">qint64 read(char *data, qint64 maxlen)</div><div class="ttdoc">Reads at most maxSize bytes from the device into data, and returns the number of bytes read...</div><div class="ttdef"><b>Definition:</b> <a href="qiodevice_8cpp_source.html#l00791">qiodevice.cpp:791</a></div></div>
<div class="ttc" id="qglobal_8h_html_a65f85814a8290f9797005d3b28e7e5fc"><div class="ttname"><a href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a></div><div class="ttdeci">unsigned char uchar</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l00994">qglobal.h:994</a></div></div>
<div class="ttc" id="classQImage_html_a45e2d9831f138cbb5f3f8795c126ecc6"><div class="ttname"><a href="classQImage.html#a45e2d9831f138cbb5f3f8795c126ecc6">QImage::setColorCount</a></div><div class="ttdeci">void setColorCount(int)</div><div class="ttdoc">Resizes the color table to contain colorCount entries. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l02275">qimage.cpp:2275</a></div></div>
<div class="ttc" id="qrgb_8h_html_a0872d728476d63455b4f90941aa77a63"><div class="ttname"><a href="qrgb_8h.html#a0872d728476d63455b4f90941aa77a63">qRgba</a></div><div class="ttdeci">Q_GUI_EXPORT_INLINE QRgb qRgba(int r, int g, int b, int a)</div><div class="ttdef"><b>Definition:</b> <a href="qrgb_8h_source.html#l00072">qrgb.h:72</a></div></div>
<div class="ttc" id="classQByteArray_html_a3348f30515c895793ad23b19c3f64a9f"><div class="ttname"><a href="classQByteArray.html#a3348f30515c895793ad23b19c3f64a9f">QByteArray::fromRawData</a></div><div class="ttdeci">static QByteArray fromRawData(const char *, int size)</div><div class="ttdoc">Constructs a QByteArray that uses the first size bytes of the data array. </div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8cpp_source.html#l04121">qbytearray.cpp:4121</a></div></div>
<div class="ttc" id="classQImage_html_a810aa2990f23c8aa8dc82c59ba11bd8dab1aa35fb34158e02d1af6272303e3aae"><div class="ttname"><a href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dab1aa35fb34158e02d1af6272303e3aae">QImage::Format_Mono</a></div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00093">qimage.h:93</a></div></div>
<div class="ttc" id="classQImage_html"><div class="ttname"><a href="classQImage.html">QImage</a></div><div class="ttdoc">The QImage class provides a hardware-independent image representation that allows direct access to th...</div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00087">qimage.h:87</a></div></div>
<div class="ttc" id="classICOReader_html_ad564500fd9a7f4284a3b606c9c1a3f0c"><div class="ttname"><a href="classICOReader.html#ad564500fd9a7f4284a3b606c9c1a3f0c">ICOReader::findColorInfo</a></div><div class="ttdeci">void findColorInfo(QImage &amp;image)</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00377">qicohandler.cpp:377</a></div></div>
<div class="ttc" id="structICOReader_1_1IcoAttrib_html_ae4480649f0006ecdce5faeb1c1de7b03"><div class="ttname"><a href="structICOReader_1_1IcoAttrib.html#ae4480649f0006ecdce5faeb1c1de7b03">ICOReader::IcoAttrib::depth</a></div><div class="ttdeci">int depth</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00134">qicohandler.cpp:134</a></div></div>
<div class="ttc" id="structICONDIRENTRY_html"><div class="ttname"><a href="structICONDIRENTRY.html">ICONDIRENTRY</a></div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00065">qicohandler.cpp:65</a></div></div>
<div class="ttc" id="structICOReader_1_1IcoAttrib_html_a824144d618d1cc4088294b5756b4b6d1"><div class="ttname"><a href="structICOReader_1_1IcoAttrib.html#a824144d618d1cc4088294b5756b4b6d1">ICOReader::IcoAttrib::w</a></div><div class="ttdeci">int w</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00133">qicohandler.cpp:133</a></div></div>
<div class="ttc" id="qprintengine__ps_8cpp_html_a387137c43ed9616d39ba90e890d181eb"><div class="ttname"><a href="qprintengine__ps_8cpp.html#a387137c43ed9616d39ba90e890d181eb">format</a></div><div class="ttdeci">format</div><div class="ttdef"><b>Definition:</b> <a href="qprintengine__ps_8cpp_source.html#l00286">qprintengine_ps.cpp:286</a></div></div>
<div class="ttc" id="classICOReader_html_a5bcf4fb31970d4c213c7e3214947b139"><div class="ttname"><a href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">ICOReader::icoAttrib</a></div><div class="ttdeci">struct ICOReader::IcoAttrib icoAttrib</div></div>
<div class="ttc" id="structICOReader_1_1IcoAttrib_html_a988168c2444c0cfe366429f85d64ebb5"><div class="ttname"><a href="structICOReader_1_1IcoAttrib.html#a988168c2444c0cfe366429f85d64ebb5">ICOReader::IcoAttrib::h</a></div><div class="ttdeci">int h</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00132">qicohandler.cpp:132</a></div></div>
<div class="ttc" id="classQImage_html_a810aa2990f23c8aa8dc82c59ba11bd8dae6a648c88becc4b9993158b57fbdc8e6"><div class="ttname"><a href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dae6a648c88becc4b9993158b57fbdc8e6">QImage::Format_ARGB32</a></div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00097">qimage.h:97</a></div></div>
<div class="ttc" id="classQByteArray_html_a0cd331ee1b05147f3173fb85dfcd0ccd"><div class="ttname"><a href="classQByteArray.html#a0cd331ee1b05147f3173fb85dfcd0ccd">QByteArray::size</a></div><div class="ttdeci">int size() const</div><div class="ttdoc">Returns the number of bytes in this byte array. </div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8h_source.html#l00402">qbytearray.h:402</a></div></div>
<div class="ttc" id="qfontsubset_8cpp_html_a83028518b8b40ed14c1c522b71d2eaa4"><div class="ttname"><a href="qfontsubset_8cpp.html#a83028518b8b40ed14c1c522b71d2eaa4">index</a></div><div class="ttdeci">quint16 index</div><div class="ttdef"><b>Definition:</b> <a href="qfontsubset_8cpp_source.html#l00116">qfontsubset.cpp:116</a></div></div>
<div class="ttc" id="structICOReader_1_1IcoAttrib_html_aaf7073e01c7a762bea1cfac6f1576e4d"><div class="ttname"><a href="structICOReader_1_1IcoAttrib.html#aaf7073e01c7a762bea1cfac6f1576e4d">ICOReader::IcoAttrib::nbits</a></div><div class="ttdeci">int nbits</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00130">qicohandler.cpp:130</a></div></div>
<div class="ttc" id="classICOReader_html_a415dc165223b1fa5221813ac26e2c8c2"><div class="ttname"><a href="classICOReader.html#a415dc165223b1fa5221813ac26e2c8c2">ICOReader::readIconEntry</a></div><div class="ttdeci">bool readIconEntry(int index, ICONDIRENTRY *iconEntry)</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00353">qicohandler.cpp:353</a></div></div>
<div class="ttc" id="classICOReader_html_a74e2c1c3fb7f38589e3731f23f18eddc"><div class="ttname"><a href="classICOReader.html#a74e2c1c3fb7f38589e3731f23f18eddc">ICOReader::count</a></div><div class="ttdeci">int count()</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00261">qicohandler.cpp:261</a></div></div>
<div class="ttc" id="classQImage_html_a26defffa0785d49d962e886dd9e05be4"><div class="ttname"><a href="classQImage.html#a26defffa0785d49d962e886dd9e05be4">QImage::setAlphaChannel</a></div><div class="ttdeci">void setAlphaChannel(const QImage &amp;alphaChannel)</div><div class="ttdoc">Sets the alpha channel of this image to the given alphaChannel. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l06329">qimage.cpp:6329</a></div></div>
<div class="ttc" id="structICOReader_1_1IcoAttrib_html_aec2f5cf7dc54233d61b4bd7178cb585e"><div class="ttname"><a href="structICOReader_1_1IcoAttrib.html#aec2f5cf7dc54233d61b4bd7178cb585e">ICOReader::IcoAttrib::ncolors</a></div><div class="ttdeci">int ncolors</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00131">qicohandler.cpp:131</a></div></div>
<div class="ttc" id="classICOReader_html_a3ec95eae26995ef27991119afe8e67dd"><div class="ttname"><a href="classICOReader.html#a3ec95eae26995ef27991119afe8e67dd">ICOReader::readBMPHeader</a></div><div class="ttdeci">bool readBMPHeader(quint32 imageOffset, BMP_INFOHDR *header)</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00365">qicohandler.cpp:365</a></div></div>
<div class="ttc" id="classQIODevice_html_ac0a82d036b837f4a10469fc07e1d8e99"><div class="ttname"><a href="classQIODevice.html#ac0a82d036b837f4a10469fc07e1d8e99">QIODevice::seek</a></div><div class="ttdeci">virtual bool seek(qint64 pos)</div><div class="ttdoc">For random-access devices, this function sets the current position to pos, returning true on success...</div><div class="ttdef"><b>Definition:</b> <a href="qiodevice_8cpp_source.html#l00659">qiodevice.cpp:659</a></div></div>
<div class="ttc" id="classQImage_html_ae743198d6047304480046694472d0d51"><div class="ttname"><a href="classQImage.html#ae743198d6047304480046694472d0d51">QImage::fromData</a></div><div class="ttdeci">static QImage fromData(const uchar *data, int size, const char *format=0)</div><div class="ttdoc">Constructs a QImage from the first size bytes of the given binary data. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l05313">qimage.cpp:5313</a></div></div>
<div class="ttc" id="classQImage_html_a810aa2990f23c8aa8dc82c59ba11bd8da6711d4eda08befec966bcc742678e48c"><div class="ttname"><a href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8da6711d4eda08befec966bcc742678e48c">QImage::Format_RGB32</a></div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00096">qimage.h:96</a></div></div>
<div class="ttc" id="classICOReader_html_af1a13c68500cad978e3694ba937ce621"><div class="ttname"><a href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">ICOReader::iod</a></div><div class="ttdeci">QIODevice * iod</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00137">qicohandler.cpp:137</a></div></div>
<div class="ttc" id="classICOReader_html_aea99149fae9023aa80e00f3fa7e5eb27"><div class="ttname"><a href="classICOReader.html#aea99149fae9023aa80e00f3fa7e5eb27">ICOReader::read1BitBMP</a></div><div class="ttdeci">void read1BitBMP(QImage &amp;image)</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00422">qicohandler.cpp:422</a></div></div>
<div class="ttc" id="structICONDIRENTRY_html_ab93d7a18973de56c36c8ed3f9b57fd40"><div class="ttname"><a href="structICONDIRENTRY.html#ab93d7a18973de56c36c8ed3f9b57fd40">ICONDIRENTRY::dwImageOffset</a></div><div class="ttdeci">quint32 dwImageOffset</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00074">qicohandler.cpp:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1d8fc1562dcc04cbed8ac5e895b9b90d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d8fc1562dcc04cbed8ac5e895b9b90d">&#9670;&nbsp;</a></span>read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQList.html">QList</a>&lt; <a class="el" href="classQImage.html">QImage</a> &gt; ICOReader::read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQIODevice.html">QIODevice</a> *&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads all the icons from the given <em>device</em>, and returns them as a list of <a class="el" href="classQImage.html" title="The QImage class provides a hardware-independent image representation that allows direct access to th...">QImage</a> objects. </p>
<p>Each image has an alpha channel that represents the mask from the corresponding icon.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classICOReader.html#aa07a0c952ff4f9af1d84801cf72c25a5" title="Writes all the QImages in the images list to the given device. ">write()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qicohandler_8cpp_source.html#l00622">622</a> of file <a class="el" href="qicohandler_8cpp_source.html">qicohandler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;{</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <a class="code" href="classQList.html">QList&lt;QImage&gt;</a> images;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <a class="code" href="classICOReader.html">ICOReader</a> reader(device);</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; reader.count(); i++)</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        images += reader.iconAt(i);</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keywordflow">return</span> images;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;}</div><div class="ttc" id="classICOReader_html"><div class="ttname"><a href="classICOReader.html">ICOReader</a></div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00102">qicohandler.cpp:102</a></div></div>
<div class="ttc" id="classQList_html"><div class="ttname"><a href="classQList.html">QList&lt; QImage &gt;</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2b34123ad07ada00ac9a7901fb69fa6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b34123ad07ada00ac9a7901fb69fa6f">&#9670;&nbsp;</a></span>read16_24_32BMP()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ICOReader::read16_24_32BMP </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQImage.html">QImage</a> &amp;&#160;</td>
          <td class="paramname"><em>image</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qicohandler_8cpp_source.html#l00489">489</a> of file <a class="el" href="qicohandler_8cpp_source.html">qicohandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qicohandler_8cpp_source.html#l00403">readBMP()</a>.</p>
<div class="fragment"><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;{</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">iod</a>) {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <span class="keywordtype">int</span> h = <a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#a988168c2444c0cfe366429f85d64ebb5">h</a>;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <span class="keyword">register</span> <a class="code" href="qrgb_8h.html#a0e7a1324ad38755e59ac899e1435e855">QRgb</a> *p;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <a class="code" href="qrgb_8h.html#a0e7a1324ad38755e59ac899e1435e855">QRgb</a>  *<a class="code" href="qt__cocoa__helpers__mac_8mm.html#a875104226bb2d18c4bead75b19e75065">end</a>;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <a class="code" href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *buf = <span class="keyword">new</span> <a class="code" href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>[image.<a class="code" href="classQImage.html#ac673d1d5da391ecaaa9add4ff1b586ce">bytesPerLine</a>()];</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <span class="keywordtype">int</span>    bpl = ((<a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#a824144d618d1cc4088294b5756b4b6d1">w</a>*<a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#aaf7073e01c7a762bea1cfac6f1576e4d">nbits</a>+31)/32)*4;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        <a class="code" href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *b;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <span class="keywordflow">while</span> (--h &gt;= 0) {</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            p = (<a class="code" href="qrgb_8h.html#a0e7a1324ad38755e59ac899e1435e855">QRgb</a> *)image.<a class="code" href="classQImage.html#a3eaa287aa9c14f2620734479a1e9ddb1">scanLine</a>(h);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            end = p + <a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#a824144d618d1cc4088294b5756b4b6d1">w</a>;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">iod</a>-&gt;<a class="code" href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">read</a>((<span class="keywordtype">char</span> *)buf, bpl) != bpl) {</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                image = <a class="code" href="classQImage.html">QImage</a>();</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            }</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            b = buf;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            <span class="keywordflow">while</span> (p &lt; end) {</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#aaf7073e01c7a762bea1cfac6f1576e4d">nbits</a> == 24)</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                    *p++ = <a class="code" href="qrgb_8h.html#ad893ba1106079f0892fc33504a2879bd">qRgb</a>(*(b+2), *(b+1), *b);</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#aaf7073e01c7a762bea1cfac6f1576e4d">nbits</a> == 32)</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                    *p++ = <a class="code" href="qrgb_8h.html#a0872d728476d63455b4f90941aa77a63">qRgba</a>(*(b+2), *(b+1), *b, *(b+3));</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                b += <a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#aaf7073e01c7a762bea1cfac6f1576e4d">nbits</a>/8;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;            }</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        }</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <span class="keyword">delete</span>[] buf;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        image = <a class="code" href="classQImage.html">QImage</a>();</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    }</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;}</div><div class="ttc" id="qrgb_8h_html_a0e7a1324ad38755e59ac899e1435e855"><div class="ttname"><a href="qrgb_8h.html#a0e7a1324ad38755e59ac899e1435e855">QRgb</a></div><div class="ttdeci">unsigned int QRgb</div><div class="ttdef"><b>Definition:</b> <a href="qrgb_8h_source.html#l00053">qrgb.h:53</a></div></div>
<div class="ttc" id="classQImage_html_ac673d1d5da391ecaaa9add4ff1b586ce"><div class="ttname"><a href="classQImage.html#ac673d1d5da391ecaaa9add4ff1b586ce">QImage::bytesPerLine</a></div><div class="ttdeci">int bytesPerLine() const</div><div class="ttdoc">Returns the number of bytes per image scanline. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l01812">qimage.cpp:1812</a></div></div>
<div class="ttc" id="classQIODevice_html_af6656035ec4464bcc2a599bb25ac235a"><div class="ttname"><a href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">QIODevice::read</a></div><div class="ttdeci">qint64 read(char *data, qint64 maxlen)</div><div class="ttdoc">Reads at most maxSize bytes from the device into data, and returns the number of bytes read...</div><div class="ttdef"><b>Definition:</b> <a href="qiodevice_8cpp_source.html#l00791">qiodevice.cpp:791</a></div></div>
<div class="ttc" id="qglobal_8h_html_a65f85814a8290f9797005d3b28e7e5fc"><div class="ttname"><a href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a></div><div class="ttdeci">unsigned char uchar</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l00994">qglobal.h:994</a></div></div>
<div class="ttc" id="qrgb_8h_html_a0872d728476d63455b4f90941aa77a63"><div class="ttname"><a href="qrgb_8h.html#a0872d728476d63455b4f90941aa77a63">qRgba</a></div><div class="ttdeci">Q_GUI_EXPORT_INLINE QRgb qRgba(int r, int g, int b, int a)</div><div class="ttdef"><b>Definition:</b> <a href="qrgb_8h_source.html#l00072">qrgb.h:72</a></div></div>
<div class="ttc" id="classQImage_html"><div class="ttname"><a href="classQImage.html">QImage</a></div><div class="ttdoc">The QImage class provides a hardware-independent image representation that allows direct access to th...</div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00087">qimage.h:87</a></div></div>
<div class="ttc" id="structICOReader_1_1IcoAttrib_html_a824144d618d1cc4088294b5756b4b6d1"><div class="ttname"><a href="structICOReader_1_1IcoAttrib.html#a824144d618d1cc4088294b5756b4b6d1">ICOReader::IcoAttrib::w</a></div><div class="ttdeci">int w</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00133">qicohandler.cpp:133</a></div></div>
<div class="ttc" id="classICOReader_html_a5bcf4fb31970d4c213c7e3214947b139"><div class="ttname"><a href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">ICOReader::icoAttrib</a></div><div class="ttdeci">struct ICOReader::IcoAttrib icoAttrib</div></div>
<div class="ttc" id="structICOReader_1_1IcoAttrib_html_a988168c2444c0cfe366429f85d64ebb5"><div class="ttname"><a href="structICOReader_1_1IcoAttrib.html#a988168c2444c0cfe366429f85d64ebb5">ICOReader::IcoAttrib::h</a></div><div class="ttdeci">int h</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00132">qicohandler.cpp:132</a></div></div>
<div class="ttc" id="qrgb_8h_html_ad893ba1106079f0892fc33504a2879bd"><div class="ttname"><a href="qrgb_8h.html#ad893ba1106079f0892fc33504a2879bd">qRgb</a></div><div class="ttdeci">Q_GUI_EXPORT_INLINE QRgb qRgb(int r, int g, int b)</div><div class="ttdef"><b>Definition:</b> <a href="qrgb_8h_source.html#l00069">qrgb.h:69</a></div></div>
<div class="ttc" id="structICOReader_1_1IcoAttrib_html_aaf7073e01c7a762bea1cfac6f1576e4d"><div class="ttname"><a href="structICOReader_1_1IcoAttrib.html#aaf7073e01c7a762bea1cfac6f1576e4d">ICOReader::IcoAttrib::nbits</a></div><div class="ttdeci">int nbits</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00130">qicohandler.cpp:130</a></div></div>
<div class="ttc" id="qt__cocoa__helpers__mac_8mm_html_a875104226bb2d18c4bead75b19e75065"><div class="ttname"><a href="qt__cocoa__helpers__mac_8mm.html#a875104226bb2d18c4bead75b19e75065">end</a></div><div class="ttdeci">static const KeyPair *const end</div><div class="ttdef"><b>Definition:</b> <a href="qt__cocoa__helpers__mac_8mm_source.html#l00652">qt_cocoa_helpers_mac.mm:652</a></div></div>
<div class="ttc" id="classICOReader_html_af1a13c68500cad978e3694ba937ce621"><div class="ttname"><a href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">ICOReader::iod</a></div><div class="ttdeci">QIODevice * iod</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00137">qicohandler.cpp:137</a></div></div>
<div class="ttc" id="classQImage_html_a3eaa287aa9c14f2620734479a1e9ddb1"><div class="ttname"><a href="classQImage.html#a3eaa287aa9c14f2620734479a1e9ddb1">QImage::scanLine</a></div><div class="ttdeci">uchar * scanLine(int)</div><div class="ttdoc">Returns a pointer to the pixel data at the scanline with index i. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l01886">qimage.cpp:1886</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aea99149fae9023aa80e00f3fa7e5eb27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea99149fae9023aa80e00f3fa7e5eb27">&#9670;&nbsp;</a></span>read1BitBMP()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ICOReader::read1BitBMP </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQImage.html">QImage</a> &amp;&#160;</td>
          <td class="paramname"><em>image</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>NOTE: A 1 bit BMP is only flipped vertically, and not horizontally like all other color depths! (This is the same with the bitmask) </p>

<p class="definition">Definition at line <a class="el" href="qicohandler_8cpp_source.html#l00422">422</a> of file <a class="el" href="qicohandler_8cpp_source.html">qicohandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qicohandler_8cpp_source.html#l00523">iconAt()</a>, and <a class="el" href="qicohandler_8cpp_source.html#l00403">readBMP()</a>.</p>
<div class="fragment"><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;{</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">iod</a>) {</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <span class="keywordtype">int</span> h = image.<a class="code" href="classQImage.html#a7a7199866132ff7f39efeb83aca128dc">height</a>();</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <span class="keywordtype">int</span> bpl = image.<a class="code" href="classQImage.html#ac673d1d5da391ecaaa9add4ff1b586ce">bytesPerLine</a>();</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="keywordflow">while</span> (--h &gt;= 0) {</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">iod</a>-&gt;<a class="code" href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">read</a>((<span class="keywordtype">char</span>*)image.<a class="code" href="classQImage.html#a3eaa287aa9c14f2620734479a1e9ddb1">scanLine</a>(h),bpl) != bpl) {</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                image = <a class="code" href="classQImage.html">QImage</a>();</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            }</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        }</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        image = <a class="code" href="classQImage.html">QImage</a>();</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    }</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;}</div><div class="ttc" id="classQImage_html_ac673d1d5da391ecaaa9add4ff1b586ce"><div class="ttname"><a href="classQImage.html#ac673d1d5da391ecaaa9add4ff1b586ce">QImage::bytesPerLine</a></div><div class="ttdeci">int bytesPerLine() const</div><div class="ttdoc">Returns the number of bytes per image scanline. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l01812">qimage.cpp:1812</a></div></div>
<div class="ttc" id="classQIODevice_html_af6656035ec4464bcc2a599bb25ac235a"><div class="ttname"><a href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">QIODevice::read</a></div><div class="ttdeci">qint64 read(char *data, qint64 maxlen)</div><div class="ttdoc">Reads at most maxSize bytes from the device into data, and returns the number of bytes read...</div><div class="ttdef"><b>Definition:</b> <a href="qiodevice_8cpp_source.html#l00791">qiodevice.cpp:791</a></div></div>
<div class="ttc" id="classQImage_html"><div class="ttname"><a href="classQImage.html">QImage</a></div><div class="ttdoc">The QImage class provides a hardware-independent image representation that allows direct access to th...</div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00087">qimage.h:87</a></div></div>
<div class="ttc" id="classQImage_html_a7a7199866132ff7f39efeb83aca128dc"><div class="ttname"><a href="classQImage.html#a7a7199866132ff7f39efeb83aca128dc">QImage::height</a></div><div class="ttdeci">int height() const</div><div class="ttdoc">Returns the height of the image. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l01572">qimage.cpp:1572</a></div></div>
<div class="ttc" id="classICOReader_html_af1a13c68500cad978e3694ba937ce621"><div class="ttname"><a href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">ICOReader::iod</a></div><div class="ttdeci">QIODevice * iod</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00137">qicohandler.cpp:137</a></div></div>
<div class="ttc" id="classQImage_html_a3eaa287aa9c14f2620734479a1e9ddb1"><div class="ttname"><a href="classQImage.html#a3eaa287aa9c14f2620734479a1e9ddb1">QImage::scanLine</a></div><div class="ttdeci">uchar * scanLine(int)</div><div class="ttdoc">Returns a pointer to the pixel data at the scanline with index i. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l01886">qimage.cpp:1886</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a80d8d0976d85db40e58305bdc31042a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80d8d0976d85db40e58305bdc31042a6">&#9670;&nbsp;</a></span>read4BitBMP()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ICOReader::read4BitBMP </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQImage.html">QImage</a> &amp;&#160;</td>
          <td class="paramname"><em>image</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qicohandler_8cpp_source.html#l00440">440</a> of file <a class="el" href="qicohandler_8cpp_source.html">qicohandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qicohandler_8cpp_source.html#l00403">readBMP()</a>.</p>
<div class="fragment"><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;{</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">iod</a>) {</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        <span class="keywordtype">int</span> h = <a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#a988168c2444c0cfe366429f85d64ebb5">h</a>;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        <span class="keywordtype">int</span> buflen = ((<a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#a824144d618d1cc4088294b5756b4b6d1">w</a>+7)/8)*4;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <a class="code" href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *buf = <span class="keyword">new</span> <a class="code" href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>[buflen];</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <a class="code" href="qglobal_8h.html#abff2183781b88590fe6396587e1378e4">Q_CHECK_PTR</a>(buf);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="keywordflow">while</span> (--h &gt;= 0) {</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">iod</a>-&gt;<a class="code" href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">read</a>((<span class="keywordtype">char</span>*)buf,buflen) != buflen) {</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                image = <a class="code" href="classQImage.html">QImage</a>();</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            }</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            <span class="keyword">register</span> <a class="code" href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *p = image.<a class="code" href="classQImage.html#a3eaa287aa9c14f2620734479a1e9ddb1">scanLine</a>(h);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            <a class="code" href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *b = buf;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#a824144d618d1cc4088294b5756b4b6d1">w</a>/2; i++) {   <span class="comment">// convert nibbles to bytes</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                *p++ = *b &gt;&gt; 4;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                *p++ = *b++ &amp; 0x0f;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            }</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#a824144d618d1cc4088294b5756b4b6d1">w</a> &amp; 1)                    <span class="comment">// the last nibble</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                *p = *b &gt;&gt; 4;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        }</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <span class="keyword">delete</span> [] buf;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        image = <a class="code" href="classQImage.html">QImage</a>();</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    }</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;}</div><div class="ttc" id="classQIODevice_html_af6656035ec4464bcc2a599bb25ac235a"><div class="ttname"><a href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">QIODevice::read</a></div><div class="ttdeci">qint64 read(char *data, qint64 maxlen)</div><div class="ttdoc">Reads at most maxSize bytes from the device into data, and returns the number of bytes read...</div><div class="ttdef"><b>Definition:</b> <a href="qiodevice_8cpp_source.html#l00791">qiodevice.cpp:791</a></div></div>
<div class="ttc" id="qglobal_8h_html_a65f85814a8290f9797005d3b28e7e5fc"><div class="ttname"><a href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a></div><div class="ttdeci">unsigned char uchar</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l00994">qglobal.h:994</a></div></div>
<div class="ttc" id="classQImage_html"><div class="ttname"><a href="classQImage.html">QImage</a></div><div class="ttdoc">The QImage class provides a hardware-independent image representation that allows direct access to th...</div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00087">qimage.h:87</a></div></div>
<div class="ttc" id="qglobal_8h_html_abff2183781b88590fe6396587e1378e4"><div class="ttname"><a href="qglobal_8h.html#abff2183781b88590fe6396587e1378e4">Q_CHECK_PTR</a></div><div class="ttdeci">#define Q_CHECK_PTR(p)</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l01853">qglobal.h:1853</a></div></div>
<div class="ttc" id="structICOReader_1_1IcoAttrib_html_a824144d618d1cc4088294b5756b4b6d1"><div class="ttname"><a href="structICOReader_1_1IcoAttrib.html#a824144d618d1cc4088294b5756b4b6d1">ICOReader::IcoAttrib::w</a></div><div class="ttdeci">int w</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00133">qicohandler.cpp:133</a></div></div>
<div class="ttc" id="classICOReader_html_a5bcf4fb31970d4c213c7e3214947b139"><div class="ttname"><a href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">ICOReader::icoAttrib</a></div><div class="ttdeci">struct ICOReader::IcoAttrib icoAttrib</div></div>
<div class="ttc" id="structICOReader_1_1IcoAttrib_html_a988168c2444c0cfe366429f85d64ebb5"><div class="ttname"><a href="structICOReader_1_1IcoAttrib.html#a988168c2444c0cfe366429f85d64ebb5">ICOReader::IcoAttrib::h</a></div><div class="ttdeci">int h</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00132">qicohandler.cpp:132</a></div></div>
<div class="ttc" id="classICOReader_html_af1a13c68500cad978e3694ba937ce621"><div class="ttname"><a href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">ICOReader::iod</a></div><div class="ttdeci">QIODevice * iod</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00137">qicohandler.cpp:137</a></div></div>
<div class="ttc" id="classQImage_html_a3eaa287aa9c14f2620734479a1e9ddb1"><div class="ttname"><a href="classQImage.html#a3eaa287aa9c14f2620734479a1e9ddb1">QImage::scanLine</a></div><div class="ttdeci">uchar * scanLine(int)</div><div class="ttdoc">Returns a pointer to the pixel data at the scanline with index i. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l01886">qimage.cpp:1886</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae697e548107fca669e945c3fe6b7101e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae697e548107fca669e945c3fe6b7101e">&#9670;&nbsp;</a></span>read8BitBMP()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ICOReader::read8BitBMP </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQImage.html">QImage</a> &amp;&#160;</td>
          <td class="paramname"><em>image</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qicohandler_8cpp_source.html#l00471">471</a> of file <a class="el" href="qicohandler_8cpp_source.html">qicohandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qicohandler_8cpp_source.html#l00403">readBMP()</a>.</p>
<div class="fragment"><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;{</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">iod</a>) {</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="keywordtype">int</span> h = <a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#a988168c2444c0cfe366429f85d64ebb5">h</a>;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="keywordtype">int</span> bpl = image.<a class="code" href="classQImage.html#ac673d1d5da391ecaaa9add4ff1b586ce">bytesPerLine</a>();</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <span class="keywordflow">while</span> (--h &gt;= 0) {</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">iod</a>-&gt;<a class="code" href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">read</a>((<span class="keywordtype">char</span> *)image.<a class="code" href="classQImage.html#a3eaa287aa9c14f2620734479a1e9ddb1">scanLine</a>(h), bpl) != bpl) {</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                image = <a class="code" href="classQImage.html">QImage</a>();</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            }</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        }</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        image = <a class="code" href="classQImage.html">QImage</a>();</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    }</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;}</div><div class="ttc" id="classQImage_html_ac673d1d5da391ecaaa9add4ff1b586ce"><div class="ttname"><a href="classQImage.html#ac673d1d5da391ecaaa9add4ff1b586ce">QImage::bytesPerLine</a></div><div class="ttdeci">int bytesPerLine() const</div><div class="ttdoc">Returns the number of bytes per image scanline. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l01812">qimage.cpp:1812</a></div></div>
<div class="ttc" id="classQIODevice_html_af6656035ec4464bcc2a599bb25ac235a"><div class="ttname"><a href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">QIODevice::read</a></div><div class="ttdeci">qint64 read(char *data, qint64 maxlen)</div><div class="ttdoc">Reads at most maxSize bytes from the device into data, and returns the number of bytes read...</div><div class="ttdef"><b>Definition:</b> <a href="qiodevice_8cpp_source.html#l00791">qiodevice.cpp:791</a></div></div>
<div class="ttc" id="classQImage_html"><div class="ttname"><a href="classQImage.html">QImage</a></div><div class="ttdoc">The QImage class provides a hardware-independent image representation that allows direct access to th...</div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00087">qimage.h:87</a></div></div>
<div class="ttc" id="classICOReader_html_a5bcf4fb31970d4c213c7e3214947b139"><div class="ttname"><a href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">ICOReader::icoAttrib</a></div><div class="ttdeci">struct ICOReader::IcoAttrib icoAttrib</div></div>
<div class="ttc" id="structICOReader_1_1IcoAttrib_html_a988168c2444c0cfe366429f85d64ebb5"><div class="ttname"><a href="structICOReader_1_1IcoAttrib.html#a988168c2444c0cfe366429f85d64ebb5">ICOReader::IcoAttrib::h</a></div><div class="ttdeci">int h</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00132">qicohandler.cpp:132</a></div></div>
<div class="ttc" id="classICOReader_html_af1a13c68500cad978e3694ba937ce621"><div class="ttname"><a href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">ICOReader::iod</a></div><div class="ttdeci">QIODevice * iod</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00137">qicohandler.cpp:137</a></div></div>
<div class="ttc" id="classQImage_html_a3eaa287aa9c14f2620734479a1e9ddb1"><div class="ttname"><a href="classQImage.html#a3eaa287aa9c14f2620734479a1e9ddb1">QImage::scanLine</a></div><div class="ttdeci">uchar * scanLine(int)</div><div class="ttdoc">Returns a pointer to the pixel data at the scanline with index i. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l01886">qimage.cpp:1886</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4e9a184e4f482da2d7596b492154707e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e9a184e4f482da2d7596b492154707e">&#9670;&nbsp;</a></span>readBMP()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ICOReader::readBMP </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQImage.html">QImage</a> &amp;&#160;</td>
          <td class="paramname"><em>image</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qicohandler_8cpp_source.html#l00403">403</a> of file <a class="el" href="qicohandler_8cpp_source.html">qicohandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qicohandler_8cpp_source.html#l00523">iconAt()</a>.</p>
<div class="fragment"><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;{</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#aaf7073e01c7a762bea1cfac6f1576e4d">nbits</a> == 1) {                <span class="comment">// 1 bit BMP image</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <a class="code" href="classICOReader.html#aea99149fae9023aa80e00f3fa7e5eb27">read1BitBMP</a>(image);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#aaf7073e01c7a762bea1cfac6f1576e4d">nbits</a> == 4) {            <span class="comment">// 4 bit BMP image</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <a class="code" href="classICOReader.html#a80d8d0976d85db40e58305bdc31042a6">read4BitBMP</a>(image);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#aaf7073e01c7a762bea1cfac6f1576e4d">nbits</a> == 8) {</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <a class="code" href="classICOReader.html#ae697e548107fca669e945c3fe6b7101e">read8BitBMP</a>(image);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#aaf7073e01c7a762bea1cfac6f1576e4d">nbits</a> == 16 || <a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#aaf7073e01c7a762bea1cfac6f1576e4d">nbits</a> == 24 || <a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#aaf7073e01c7a762bea1cfac6f1576e4d">nbits</a> == 32 ) { <span class="comment">// 16,24,32 bit BMP image</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <a class="code" href="classICOReader.html#a2b34123ad07ada00ac9a7901fb69fa6f">read16_24_32BMP</a>(image);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    }</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;}</div><div class="ttc" id="classICOReader_html_a80d8d0976d85db40e58305bdc31042a6"><div class="ttname"><a href="classICOReader.html#a80d8d0976d85db40e58305bdc31042a6">ICOReader::read4BitBMP</a></div><div class="ttdeci">void read4BitBMP(QImage &amp;image)</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00440">qicohandler.cpp:440</a></div></div>
<div class="ttc" id="classICOReader_html_a2b34123ad07ada00ac9a7901fb69fa6f"><div class="ttname"><a href="classICOReader.html#a2b34123ad07ada00ac9a7901fb69fa6f">ICOReader::read16_24_32BMP</a></div><div class="ttdeci">void read16_24_32BMP(QImage &amp;image)</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00489">qicohandler.cpp:489</a></div></div>
<div class="ttc" id="classICOReader_html_a5bcf4fb31970d4c213c7e3214947b139"><div class="ttname"><a href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">ICOReader::icoAttrib</a></div><div class="ttdeci">struct ICOReader::IcoAttrib icoAttrib</div></div>
<div class="ttc" id="structICOReader_1_1IcoAttrib_html_aaf7073e01c7a762bea1cfac6f1576e4d"><div class="ttname"><a href="structICOReader_1_1IcoAttrib.html#aaf7073e01c7a762bea1cfac6f1576e4d">ICOReader::IcoAttrib::nbits</a></div><div class="ttdeci">int nbits</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00130">qicohandler.cpp:130</a></div></div>
<div class="ttc" id="classICOReader_html_aea99149fae9023aa80e00f3fa7e5eb27"><div class="ttname"><a href="classICOReader.html#aea99149fae9023aa80e00f3fa7e5eb27">ICOReader::read1BitBMP</a></div><div class="ttdeci">void read1BitBMP(QImage &amp;image)</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00422">qicohandler.cpp:422</a></div></div>
<div class="ttc" id="classICOReader_html_ae697e548107fca669e945c3fe6b7101e"><div class="ttname"><a href="classICOReader.html#ae697e548107fca669e945c3fe6b7101e">ICOReader::read8BitBMP</a></div><div class="ttdeci">void read8BitBMP(QImage &amp;image)</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00471">qicohandler.cpp:471</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3ec95eae26995ef27991119afe8e67dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ec95eae26995ef27991119afe8e67dd">&#9670;&nbsp;</a></span>readBMPHeader()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ICOReader::readBMPHeader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="qglobal_8h.html#a29bedad345d15459d2e629fd6dc14956">quint32</a>&#160;</td>
          <td class="paramname"><em>imageOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structBMP__INFOHDR.html">BMP_INFOHDR</a> *&#160;</td>
          <td class="paramname"><em>header</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qicohandler_8cpp_source.html#l00365">365</a> of file <a class="el" href="qicohandler_8cpp_source.html">qicohandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qicohandler_8cpp_source.html#l00523">iconAt()</a>.</p>
<div class="fragment"><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;{</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">iod</a>) {</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">iod</a>-&gt;<a class="code" href="classQIODevice.html#ac0a82d036b837f4a10469fc07e1d8e99">seek</a>(<a class="code" href="classICOReader.html#a04136a8f7e53cdcf33490f2561383254">startpos</a> + imageOffset)) {</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="qicohandler_8cpp.html#af82e65edb591b0fce06c14b137e19c09">readBMPInfoHeader</a>(<a class="code" href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">iod</a>, header)) {</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="qglobal_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            }</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        }</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    }</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="qglobal_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;}</div><div class="ttc" id="classICOReader_html_a04136a8f7e53cdcf33490f2561383254"><div class="ttname"><a href="classICOReader.html#a04136a8f7e53cdcf33490f2561383254">ICOReader::startpos</a></div><div class="ttdeci">qint64 startpos</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00138">qicohandler.cpp:138</a></div></div>
<div class="ttc" id="qglobal_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="qglobal_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdoc">Synonym for false. </div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l01019">qglobal.h:1019</a></div></div>
<div class="ttc" id="qicohandler_8cpp_html_af82e65edb591b0fce06c14b137e19c09"><div class="ttname"><a href="qicohandler_8cpp.html#af82e65edb591b0fce06c14b137e19c09">readBMPInfoHeader</a></div><div class="ttdeci">static bool readBMPInfoHeader(QIODevice *iodev, BMP_INFOHDR *pHeader)</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00209">qicohandler.cpp:209</a></div></div>
<div class="ttc" id="qglobal_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="qglobal_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdoc">Synonym for true. </div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l01018">qglobal.h:1018</a></div></div>
<div class="ttc" id="classQIODevice_html_ac0a82d036b837f4a10469fc07e1d8e99"><div class="ttname"><a href="classQIODevice.html#ac0a82d036b837f4a10469fc07e1d8e99">QIODevice::seek</a></div><div class="ttdeci">virtual bool seek(qint64 pos)</div><div class="ttdoc">For random-access devices, this function sets the current position to pos, returning true on success...</div><div class="ttdef"><b>Definition:</b> <a href="qiodevice_8cpp_source.html#l00659">qiodevice.cpp:659</a></div></div>
<div class="ttc" id="classICOReader_html_af1a13c68500cad978e3694ba937ce621"><div class="ttname"><a href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">ICOReader::iod</a></div><div class="ttdeci">QIODevice * iod</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00137">qicohandler.cpp:137</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab5f73c4a23ff595f0265a9cf8a184ccd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5f73c4a23ff595f0265a9cf8a184ccd">&#9670;&nbsp;</a></span>readColorTable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ICOReader::readColorTable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQImage.html">QImage</a> &amp;&#160;</td>
          <td class="paramname"><em>image</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qicohandler_8cpp_source.html#l00386">386</a> of file <a class="el" href="qicohandler_8cpp_source.html">qicohandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qicohandler_8cpp_source.html#l00377">findColorInfo()</a>.</p>
<div class="fragment"><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;{</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">iod</a>) {</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        image.<a class="code" href="classQImage.html#a45e2d9831f138cbb5f3f8795c126ecc6">setColorCount</a>(<a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#aec2f5cf7dc54233d61b4bd7178cb585e">ncolors</a>);</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <a class="code" href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> <a class="code" href="qcolor__p_8cpp.html#a6fa7a1b0351d0bdbdf9fd5f882673d57">rgb</a>[4];</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">icoAttrib</a>.<a class="code" href="structICOReader_1_1IcoAttrib.html#aec2f5cf7dc54233d61b4bd7178cb585e">ncolors</a>; i++) {</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">iod</a>-&gt;<a class="code" href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">read</a>((<span class="keywordtype">char</span>*)rgb, 4) != 4) {</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            image = <a class="code" href="classQImage.html">QImage</a>();</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            }</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            image.<a class="code" href="classQImage.html#ab45f7ead4beafabb95c50f44b3d0fa15">setColor</a>(i, <a class="code" href="qrgb_8h.html#ad893ba1106079f0892fc33504a2879bd">qRgb</a>(rgb[2],rgb[1],rgb[0]));</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        }</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        image = <a class="code" href="classQImage.html">QImage</a>();</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    }</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;}</div><div class="ttc" id="classQImage_html_ab45f7ead4beafabb95c50f44b3d0fa15"><div class="ttname"><a href="classQImage.html#ab45f7ead4beafabb95c50f44b3d0fa15">QImage::setColor</a></div><div class="ttdeci">void setColor(int i, QRgb c)</div><div class="ttdoc">Sets the color at the given index in the color table, to the given to colorValue. ...</div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l01850">qimage.cpp:1850</a></div></div>
<div class="ttc" id="classQIODevice_html_af6656035ec4464bcc2a599bb25ac235a"><div class="ttname"><a href="classQIODevice.html#af6656035ec4464bcc2a599bb25ac235a">QIODevice::read</a></div><div class="ttdeci">qint64 read(char *data, qint64 maxlen)</div><div class="ttdoc">Reads at most maxSize bytes from the device into data, and returns the number of bytes read...</div><div class="ttdef"><b>Definition:</b> <a href="qiodevice_8cpp_source.html#l00791">qiodevice.cpp:791</a></div></div>
<div class="ttc" id="qglobal_8h_html_a65f85814a8290f9797005d3b28e7e5fc"><div class="ttname"><a href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a></div><div class="ttdeci">unsigned char uchar</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l00994">qglobal.h:994</a></div></div>
<div class="ttc" id="classQImage_html_a45e2d9831f138cbb5f3f8795c126ecc6"><div class="ttname"><a href="classQImage.html#a45e2d9831f138cbb5f3f8795c126ecc6">QImage::setColorCount</a></div><div class="ttdeci">void setColorCount(int)</div><div class="ttdoc">Resizes the color table to contain colorCount entries. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l02275">qimage.cpp:2275</a></div></div>
<div class="ttc" id="classQImage_html"><div class="ttname"><a href="classQImage.html">QImage</a></div><div class="ttdoc">The QImage class provides a hardware-independent image representation that allows direct access to th...</div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00087">qimage.h:87</a></div></div>
<div class="ttc" id="qcolor__p_8cpp_html_a6fa7a1b0351d0bdbdf9fd5f882673d57"><div class="ttname"><a href="qcolor__p_8cpp.html#a6fa7a1b0351d0bdbdf9fd5f882673d57">rgb</a></div><div class="ttdeci">#define rgb(r, g, b)</div><div class="ttdef"><b>Definition:</b> <a href="qcolor__p_8cpp_source.html#l00130">qcolor_p.cpp:130</a></div></div>
<div class="ttc" id="classICOReader_html_a5bcf4fb31970d4c213c7e3214947b139"><div class="ttname"><a href="classICOReader.html#a5bcf4fb31970d4c213c7e3214947b139">ICOReader::icoAttrib</a></div><div class="ttdeci">struct ICOReader::IcoAttrib icoAttrib</div></div>
<div class="ttc" id="qrgb_8h_html_ad893ba1106079f0892fc33504a2879bd"><div class="ttname"><a href="qrgb_8h.html#ad893ba1106079f0892fc33504a2879bd">qRgb</a></div><div class="ttdeci">Q_GUI_EXPORT_INLINE QRgb qRgb(int r, int g, int b)</div><div class="ttdef"><b>Definition:</b> <a href="qrgb_8h_source.html#l00069">qrgb.h:69</a></div></div>
<div class="ttc" id="structICOReader_1_1IcoAttrib_html_aec2f5cf7dc54233d61b4bd7178cb585e"><div class="ttname"><a href="structICOReader_1_1IcoAttrib.html#aec2f5cf7dc54233d61b4bd7178cb585e">ICOReader::IcoAttrib::ncolors</a></div><div class="ttdeci">int ncolors</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00131">qicohandler.cpp:131</a></div></div>
<div class="ttc" id="classICOReader_html_af1a13c68500cad978e3694ba937ce621"><div class="ttname"><a href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">ICOReader::iod</a></div><div class="ttdeci">QIODevice * iod</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00137">qicohandler.cpp:137</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a72e288a3c7c1ade2a237786923c1d61d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72e288a3c7c1ade2a237786923c1d61d">&#9670;&nbsp;</a></span>readHeader()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ICOReader::readHeader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qicohandler_8cpp_source.html#l00340">340</a> of file <a class="el" href="qicohandler_8cpp_source.html">qicohandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qicohandler_8cpp_source.html#l00261">count()</a>.</p>
<div class="fragment"><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;{</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">iod</a> &amp;&amp; !<a class="code" href="classICOReader.html#ab752af88e4766feefda24e78731770f2">headerRead</a>) {</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <a class="code" href="classICOReader.html#a04136a8f7e53cdcf33490f2561383254">startpos</a> = <a class="code" href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">iod</a>-&gt;<a class="code" href="classQIODevice.html#a1537dd2eaacf74faa074694ee0ccb6b7">pos</a>();</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="qicohandler_8cpp.html#a5dd49176ca5cf6a9cad2d43669c8d8ee">readIconDir</a>(<a class="code" href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">iod</a>, &amp;<a class="code" href="classICOReader.html#ac04bdb838a00691d0b2e507925465b56">iconDir</a>)) {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#ac04bdb838a00691d0b2e507925465b56">iconDir</a>.<a class="code" href="structICONDIR.html#a0e0381325148ec5422dd7cd4360f07e0">idReserved</a> == 0 || <a class="code" href="classICOReader.html#ac04bdb838a00691d0b2e507925465b56">iconDir</a>.<a class="code" href="structICONDIR.html#a6be5af4fee58188c9efa5cf33a70a389">idType</a> == 1)</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            <a class="code" href="classICOReader.html#ab752af88e4766feefda24e78731770f2">headerRead</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        }</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    }</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classICOReader.html#ab752af88e4766feefda24e78731770f2">headerRead</a>;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;}</div><div class="ttc" id="classQIODevice_html_a1537dd2eaacf74faa074694ee0ccb6b7"><div class="ttname"><a href="classQIODevice.html#a1537dd2eaacf74faa074694ee0ccb6b7">QIODevice::pos</a></div><div class="ttdeci">virtual qint64 pos() const</div><div class="ttdoc">For random-access devices, this function returns the position that data is written to or read from...</div><div class="ttdef"><b>Definition:</b> <a href="qiodevice_8cpp_source.html#l00624">qiodevice.cpp:624</a></div></div>
<div class="ttc" id="qicohandler_8cpp_html_a5dd49176ca5cf6a9cad2d43669c8d8ee"><div class="ttname"><a href="qicohandler_8cpp.html#a5dd49176ca5cf6a9cad2d43669c8d8ee">readIconDir</a></div><div class="ttdeci">static bool readIconDir(QIODevice *iodev, ICONDIR *iconDir)</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00183">qicohandler.cpp:183</a></div></div>
<div class="ttc" id="structICONDIR_html_a0e0381325148ec5422dd7cd4360f07e0"><div class="ttname"><a href="structICONDIR.html#a0e0381325148ec5422dd7cd4360f07e0">ICONDIR::idReserved</a></div><div class="ttdeci">quint16 idReserved</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00080">qicohandler.cpp:80</a></div></div>
<div class="ttc" id="classICOReader_html_a04136a8f7e53cdcf33490f2561383254"><div class="ttname"><a href="classICOReader.html#a04136a8f7e53cdcf33490f2561383254">ICOReader::startpos</a></div><div class="ttdeci">qint64 startpos</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00138">qicohandler.cpp:138</a></div></div>
<div class="ttc" id="classICOReader_html_ab752af88e4766feefda24e78731770f2"><div class="ttname"><a href="classICOReader.html#ab752af88e4766feefda24e78731770f2">ICOReader::headerRead</a></div><div class="ttdeci">bool headerRead</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00139">qicohandler.cpp:139</a></div></div>
<div class="ttc" id="classICOReader_html_ac04bdb838a00691d0b2e507925465b56"><div class="ttname"><a href="classICOReader.html#ac04bdb838a00691d0b2e507925465b56">ICOReader::iconDir</a></div><div class="ttdeci">ICONDIR iconDir</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00140">qicohandler.cpp:140</a></div></div>
<div class="ttc" id="structICONDIR_html_a6be5af4fee58188c9efa5cf33a70a389"><div class="ttname"><a href="structICONDIR.html#a6be5af4fee58188c9efa5cf33a70a389">ICONDIR::idType</a></div><div class="ttdeci">quint16 idType</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00081">qicohandler.cpp:81</a></div></div>
<div class="ttc" id="classICOReader_html_af1a13c68500cad978e3694ba937ce621"><div class="ttname"><a href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">ICOReader::iod</a></div><div class="ttdeci">QIODevice * iod</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00137">qicohandler.cpp:137</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a415dc165223b1fa5221813ac26e2c8c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a415dc165223b1fa5221813ac26e2c8c2">&#9670;&nbsp;</a></span>readIconEntry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ICOReader::readIconEntry </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structICONDIRENTRY.html">ICONDIRENTRY</a> *&#160;</td>
          <td class="paramname"><em>iconEntry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qicohandler_8cpp_source.html#l00353">353</a> of file <a class="el" href="qicohandler_8cpp_source.html">qicohandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qicohandler_8cpp_source.html#l00523">iconAt()</a>.</p>
<div class="fragment"><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;{</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">iod</a>) {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">iod</a>-&gt;<a class="code" href="classQIODevice.html#ac0a82d036b837f4a10469fc07e1d8e99">seek</a>(<a class="code" href="classICOReader.html#a04136a8f7e53cdcf33490f2561383254">startpos</a> + <a class="code" href="qicohandler_8cpp.html#af538c9a4301afd362a33348647fba0a5">ICONDIR_SIZE</a> + (<a class="code" href="qfontsubset_8cpp.html#a83028518b8b40ed14c1c522b71d2eaa4">index</a> * <a class="code" href="qicohandler_8cpp.html#a1b156ebee9b5ee0c45ad11aab86221e3">ICONDIRENTRY_SIZE</a>))) {</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="qicohandler_8cpp.html#a77981e66c71ffeba652feba8987b3b32">readIconDirEntry</a>(<a class="code" href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">iod</a>, iconEntry);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        }</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    }</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;}</div><div class="ttc" id="qicohandler_8cpp_html_af538c9a4301afd362a33348647fba0a5"><div class="ttname"><a href="qicohandler_8cpp.html#af538c9a4301afd362a33348647fba0a5">ICONDIR_SIZE</a></div><div class="ttdeci">#define ICONDIR_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00085">qicohandler.cpp:85</a></div></div>
<div class="ttc" id="qicohandler_8cpp_html_a1b156ebee9b5ee0c45ad11aab86221e3"><div class="ttname"><a href="qicohandler_8cpp.html#a1b156ebee9b5ee0c45ad11aab86221e3">ICONDIRENTRY_SIZE</a></div><div class="ttdeci">#define ICONDIRENTRY_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00076">qicohandler.cpp:76</a></div></div>
<div class="ttc" id="classICOReader_html_a04136a8f7e53cdcf33490f2561383254"><div class="ttname"><a href="classICOReader.html#a04136a8f7e53cdcf33490f2561383254">ICOReader::startpos</a></div><div class="ttdeci">qint64 startpos</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00138">qicohandler.cpp:138</a></div></div>
<div class="ttc" id="qicohandler_8cpp_html_a77981e66c71ffeba652feba8987b3b32"><div class="ttname"><a href="qicohandler_8cpp.html#a77981e66c71ffeba652feba8987b3b32">readIconDirEntry</a></div><div class="ttdeci">static bool readIconDirEntry(QIODevice *iodev, ICONDIRENTRY *iconDirEntry)</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00145">qicohandler.cpp:145</a></div></div>
<div class="ttc" id="qfontsubset_8cpp_html_a83028518b8b40ed14c1c522b71d2eaa4"><div class="ttname"><a href="qfontsubset_8cpp.html#a83028518b8b40ed14c1c522b71d2eaa4">index</a></div><div class="ttdeci">quint16 index</div><div class="ttdef"><b>Definition:</b> <a href="qfontsubset_8cpp_source.html#l00116">qfontsubset.cpp:116</a></div></div>
<div class="ttc" id="classQIODevice_html_ac0a82d036b837f4a10469fc07e1d8e99"><div class="ttname"><a href="classQIODevice.html#ac0a82d036b837f4a10469fc07e1d8e99">QIODevice::seek</a></div><div class="ttdeci">virtual bool seek(qint64 pos)</div><div class="ttdoc">For random-access devices, this function sets the current position to pos, returning true on success...</div><div class="ttdef"><b>Definition:</b> <a href="qiodevice_8cpp_source.html#l00659">qiodevice.cpp:659</a></div></div>
<div class="ttc" id="classICOReader_html_af1a13c68500cad978e3694ba937ce621"><div class="ttname"><a href="classICOReader.html#af1a13c68500cad978e3694ba937ce621">ICOReader::iod</a></div><div class="ttdeci">QIODevice * iod</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00137">qicohandler.cpp:137</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa07a0c952ff4f9af1d84801cf72c25a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa07a0c952ff4f9af1d84801cf72c25a5">&#9670;&nbsp;</a></span>write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ICOReader::write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQIODevice.html">QIODevice</a> *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classQList.html">QList</a>&lt; <a class="el" href="classQImage.html">QImage</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>images</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes all the QImages in the <em>images</em> list to the given <em>device</em>. </p>
<p>Returns true if the images are written successfully; otherwise returns false.</p>
<p>The first image in the list is stored as the first icon in the device, and is therefore used as the default icon by applications. The alpha channel of each image is converted to a mask for each corresponding icon.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classICOReader.html#a1d8fc1562dcc04cbed8ac5e895b9b90d" title="Reads all the icons from the given device, and returns them as a list of QImage objects. ">read()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qicohandler_8cpp_source.html#l00646">646</a> of file <a class="el" href="qicohandler_8cpp_source.html">qicohandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qicohandler_8cpp_source.html#l00856">QtIcoHandler::write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;{</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="keywordtype">bool</span> retValue = <span class="keyword">false</span>;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="keywordflow">if</span> (images.<a class="code" href="classQList.html#aed39fa0c2e561cf165994d9c9dfd581f">count</a>()) {</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        <a class="code" href="qglobal_8h.html#a7813502f9b491fb6716cbb80ea25a92d">qint64</a> origOffset = device-&gt;<a class="code" href="classQIODevice.html#a1537dd2eaacf74faa074694ee0ccb6b7">pos</a>();</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        <a class="code" href="structICONDIR.html">ICONDIR</a> id;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        <span class="keywordtype">id</span>.<a class="code" href="structICONDIR.html#a0e0381325148ec5422dd7cd4360f07e0">idReserved</a> = 0;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <span class="keywordtype">id</span>.idType = 1;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <span class="keywordtype">id</span>.idCount = images.<a class="code" href="classQList.html#aed39fa0c2e561cf165994d9c9dfd581f">count</a>();</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        <a class="code" href="structICONDIRENTRY.html">ICONDIRENTRY</a> * <a class="code" href="qkeysequence_8cpp.html#ac8efeaec3c61c4b38950f2f15e7b3c8f">entries</a> = <span class="keyword">new</span> <a class="code" href="structICONDIRENTRY.html">ICONDIRENTRY</a>[<span class="keywordtype">id</span>.idCount];</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        <a class="code" href="structBMP__INFOHDR.html">BMP_INFOHDR</a> * bmpHeaders = <span class="keyword">new</span> <a class="code" href="structBMP__INFOHDR.html">BMP_INFOHDR</a>[<span class="keywordtype">id</span>.idCount];</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        <a class="code" href="classQByteArray.html">QByteArray</a> * imageData = <span class="keyword">new</span> <a class="code" href="classQByteArray.html">QByteArray</a>[<span class="keywordtype">id</span>.idCount];</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<span class="keywordtype">id</span>.idCount; i++) {</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;            <a class="code" href="classQImage.html">QImage</a> image = images[i];</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            <span class="comment">// Scale down the image if it is larger than 128 pixels in either width or height</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;            <span class="keywordflow">if</span> (image.<a class="code" href="classQImage.html#a6cbe8c964884b45cbf29f3a4901dd8b6">width</a>() &gt; 128 || image.<a class="code" href="classQImage.html#a7a7199866132ff7f39efeb83aca128dc">height</a>() &gt; 128)</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            {</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                image = image.<a class="code" href="classQImage.html#a26533b904edf6ffef6e114d3dd939485">scaled</a>(128, 128, <a class="code" href="namespaceQt.html#a417b85fc4d7a2ae19105931e4e09a5faaab3402d7d405d9ed05d07658604f4fad">Qt::KeepAspectRatio</a>, <a class="code" href="namespaceQt.html#a1d3fc17ef89e8efd5c29cbe52e58572eaf30ce1dc100685b37b181c064d2ab98d">Qt::SmoothTransformation</a>);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;            }</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            <a class="code" href="classQImage.html">QImage</a> maskImage(image.<a class="code" href="classQImage.html#a6cbe8c964884b45cbf29f3a4901dd8b6">width</a>(), image.<a class="code" href="classQImage.html#a7a7199866132ff7f39efeb83aca128dc">height</a>(), <a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dab1aa35fb34158e02d1af6272303e3aae">QImage::Format_Mono</a>);</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;            image = image.<a class="code" href="classQImage.html#abb78d52192d06342711322505366f853">convertToFormat</a>(<a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dae6a648c88becc4b9993158b57fbdc8e6">QImage::Format_ARGB32</a>);</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            <span class="keywordflow">if</span> (image.hasAlphaChannel()) {</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                maskImage = image.<a class="code" href="classQImage.html#a2203e354012fc6500a0d2c1855a03438">createAlphaMask</a>();</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                maskImage.<a class="code" href="classQImage.html#a87d2e7c444c3572d3b37e1d6b9a7789c">fill</a>(0xff);</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            }</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            maskImage = maskImage.convertToFormat(<a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dab1aa35fb34158e02d1af6272303e3aae">QImage::Format_Mono</a>);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            <span class="keywordtype">int</span>    nbits = 32;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;            <span class="keywordtype">int</span>    bpl_bmp = ((image.width()*nbits+31)/32)*4;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;            entries[i].<a class="code" href="structICONDIRENTRY.html#adb96acc15a5c19353ad7f622d4af2705">bColorCount</a> = 0;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            entries[i].<a class="code" href="structICONDIRENTRY.html#a21172c248dedc54c31267c13a9bef5eb">bReserved</a> = 0;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            entries[i].<a class="code" href="structICONDIRENTRY.html#a3bfa26e325e237b53fa5e65b1e612935">wBitCount</a> = nbits;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            entries[i].<a class="code" href="structICONDIRENTRY.html#af26c7fd76c4a9d0313fe4737257589ab">bHeight</a> = image.height();</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;            entries[i].<a class="code" href="structICONDIRENTRY.html#a9245ed80b12de288dae4025b17ccfde2">bWidth</a> = image.width();</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            entries[i].<a class="code" href="structICONDIRENTRY.html#affae99410b622cb9a6960520f920345d">dwBytesInRes</a> = <a class="code" href="qicohandler_8cpp.html#a48d78fae5873dfad738b85fa3f45e8d1">BMP_INFOHDR_SIZE</a> + (bpl_bmp * image.height())</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                + (maskImage.bytesPerLine() * maskImage.height());</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;            entries[i].<a class="code" href="structICONDIRENTRY.html#a75ab31af43663eb9320e17539b3346f6">wPlanes</a> = 1;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            <span class="keywordflow">if</span> (i == 0)</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                entries[i].<a class="code" href="structICONDIRENTRY.html#ab93d7a18973de56c36c8ed3f9b57fd40">dwImageOffset</a> = origOffset + <a class="code" href="qicohandler_8cpp.html#af538c9a4301afd362a33348647fba0a5">ICONDIR_SIZE</a></div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                + (<span class="keywordtype">id</span>.idCount * <a class="code" href="qicohandler_8cpp.html#a1b156ebee9b5ee0c45ad11aab86221e3">ICONDIRENTRY_SIZE</a>);</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                entries[i].<a class="code" href="structICONDIRENTRY.html#ab93d7a18973de56c36c8ed3f9b57fd40">dwImageOffset</a> = entries[i-1].<a class="code" href="structICONDIRENTRY.html#ab93d7a18973de56c36c8ed3f9b57fd40">dwImageOffset</a> + entries[i-1].<a class="code" href="structICONDIRENTRY.html#affae99410b622cb9a6960520f920345d">dwBytesInRes</a>;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            bmpHeaders[i].<a class="code" href="structBMP__INFOHDR.html#a2fa317b32e8ae200b25633571772989a">biBitCount</a> = entries[i].<a class="code" href="structICONDIRENTRY.html#a3bfa26e325e237b53fa5e65b1e612935">wBitCount</a>;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;            bmpHeaders[i].<a class="code" href="structBMP__INFOHDR.html#a074280eccae40bc3c3792df6655e79b7">biClrImportant</a> = 0;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;            bmpHeaders[i].<a class="code" href="structBMP__INFOHDR.html#a6dbbb7f844f4a96ed68698e49b9daa2a">biClrUsed</a> = entries[i].<a class="code" href="structICONDIRENTRY.html#adb96acc15a5c19353ad7f622d4af2705">bColorCount</a>;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;            bmpHeaders[i].<a class="code" href="structBMP__INFOHDR.html#a08feb5c19bd39cab4f78800d57b91829">biCompression</a> = 0;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;            bmpHeaders[i].<a class="code" href="structBMP__INFOHDR.html#a8c2ac83596f56c3c5f9555f0160e7ae8">biHeight</a> = entries[i].<a class="code" href="structICONDIRENTRY.html#af26c7fd76c4a9d0313fe4737257589ab">bHeight</a> * 2; <span class="comment">// 2 is for the mask</span></div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;            bmpHeaders[i].<a class="code" href="structBMP__INFOHDR.html#a04de8cbe3e305e1819b40d8d7d24b52b">biPlanes</a> = entries[i].<a class="code" href="structICONDIRENTRY.html#a75ab31af43663eb9320e17539b3346f6">wPlanes</a>;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;            bmpHeaders[i].<a class="code" href="structBMP__INFOHDR.html#a48e32f04f0dce19f3880a2a344ac5124">biSize</a> = <a class="code" href="qicohandler_8cpp.html#a48d78fae5873dfad738b85fa3f45e8d1">BMP_INFOHDR_SIZE</a>;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;            bmpHeaders[i].<a class="code" href="structBMP__INFOHDR.html#a05d3d736eea4268acde36409622b7da0">biSizeImage</a> = entries[i].<a class="code" href="structICONDIRENTRY.html#affae99410b622cb9a6960520f920345d">dwBytesInRes</a> - <a class="code" href="qicohandler_8cpp.html#a48d78fae5873dfad738b85fa3f45e8d1">BMP_INFOHDR_SIZE</a>;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;            bmpHeaders[i].<a class="code" href="structBMP__INFOHDR.html#aa9a0a5929f7926b76ceefefc6c75425d">biWidth</a> = entries[i].<a class="code" href="structICONDIRENTRY.html#a9245ed80b12de288dae4025b17ccfde2">bWidth</a>;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;            bmpHeaders[i].<a class="code" href="structBMP__INFOHDR.html#a85f1238a57e795ff88bf435318db6e27">biXPelsPerMeter</a> = 0;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            bmpHeaders[i].<a class="code" href="structBMP__INFOHDR.html#a7710c11b2f9feaa01f6770de9618e2d3">biYPelsPerMeter</a> = 0;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;            <a class="code" href="classQBuffer.html">QBuffer</a> buffer(&amp;imageData[i]);</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;            buffer.open(<a class="code" href="classQIODevice.html#af4c3367f5f33e4ae6d653d49e9f88d53af613ae41df167bfbdf5d1245ab1fc319">QIODevice::WriteOnly</a>);</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;            <a class="code" href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *buf = <span class="keyword">new</span> <a class="code" href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>[bpl_bmp];</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;            <a class="code" href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *b;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            memset( buf, 0, bpl_bmp );</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;            <span class="keywordtype">int</span> y;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            <span class="keywordflow">for</span> (y = image.height() - 1; y &gt;= 0; y--) {    <span class="comment">// write the image bits</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                <span class="comment">// 32 bits</span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                <a class="code" href="qrgb_8h.html#a0e7a1324ad38755e59ac899e1435e855">QRgb</a> *p   = (<a class="code" href="qrgb_8h.html#a0e7a1324ad38755e59ac899e1435e855">QRgb</a> *)image.scanLine(y);</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                <a class="code" href="qrgb_8h.html#a0e7a1324ad38755e59ac899e1435e855">QRgb</a> *<a class="code" href="qt__cocoa__helpers__mac_8mm.html#a875104226bb2d18c4bead75b19e75065">end</a> = p + image.width();</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                b = buf;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                <span class="keywordtype">int</span> x = 0;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                <span class="keywordflow">while</span> (p &lt; end) {</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                    *b++ = <a class="code" href="qrgb_8h.html#a870f36c07aefb951cadeba3bbe24426c">qBlue</a>(*p);</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                    *b++ = <a class="code" href="qrgb_8h.html#a089780d47442a31aefd726ae9f9ad5a9">qGreen</a>(*p);</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                    *b++ = <a class="code" href="qrgb_8h.html#a0262d5960d36d81d4a364948d920f444">qRed</a>(*p);</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                    *b++ = <a class="code" href="qrgb_8h.html#a7425574d5db1d8c9423d9abe9806f3d7">qAlpha</a>(*p);</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="qrgb_8h.html#a7425574d5db1d8c9423d9abe9806f3d7">qAlpha</a>(*p) &gt; 0)   <span class="comment">// Even mostly transparent pixels must not be masked away</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                        maskImage.setPixel(x, y, <a class="code" href="namespaceQt.html#a72791987d47f717a18f2c26ec4901f52a31632a707840911ed0be90e3853884b0">Qt::color1</a>);  <span class="comment">// (i.e. createAlphaMask() takes away too much)</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                    p++;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                    x++;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                }</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                buffer.write((<span class="keywordtype">char</span>*)buf, bpl_bmp);</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;            }</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;            <span class="keyword">delete</span>[] buf;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;            maskImage.invertPixels();   <span class="comment">// seems as though it needs this</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            <span class="comment">// NOTE! !! The mask is only flipped vertically - not horizontally !!</span></div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            <span class="keywordflow">for</span> (y = maskImage.height() - 1; y &gt;= 0; y--)</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                buffer.write((<span class="keywordtype">char</span>*)maskImage.scanLine(y), maskImage.bytesPerLine());</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        }</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="qicohandler_8cpp.html#a05e46342867932806b08d8c0f039c752">writeIconDir</a>(device, <span class="keywordtype">id</span>)) {</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;            <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            <span class="keywordtype">bool</span> bOK = <span class="keyword">true</span>;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;            <span class="keywordflow">for</span> (i = 0; i &lt; <span class="keywordtype">id</span>.idCount &amp;&amp; bOK; i++) {</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                bOK = <a class="code" href="qicohandler_8cpp.html#a96700442f849ecbfc69b58da8e760c73">writeIconDirEntry</a>(device, entries[i]);</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;            }</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;            <span class="keywordflow">if</span> (bOK) {</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                <span class="keywordflow">for</span> (i = 0; i &lt; <span class="keywordtype">id</span>.idCount &amp;&amp; bOK; i++) {</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                    bOK = <a class="code" href="qicohandler_8cpp.html#a7c96503ca71d6aca9f81a4e5d9c4d004">writeBMPInfoHeader</a>(device, bmpHeaders[i]);</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                    bOK &amp;= (device-&gt;<a class="code" href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">write</a>(imageData[i]) == (int) imageData[i].size());</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                }</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                retValue = bOK;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;            }</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        }</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        <span class="keyword">delete</span> [] <a class="code" href="qkeysequence_8cpp.html#ac8efeaec3c61c4b38950f2f15e7b3c8f">entries</a>;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <span class="keyword">delete</span> [] bmpHeaders;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        <span class="keyword">delete</span> [] imageData;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    }</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keywordflow">return</span> retValue;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;}</div><div class="ttc" id="qicohandler_8cpp_html_a05e46342867932806b08d8c0f039c752"><div class="ttname"><a href="qicohandler_8cpp.html#a05e46342867932806b08d8c0f039c752">writeIconDir</a></div><div class="ttdeci">static bool writeIconDir(QIODevice *iodev, const ICONDIR &amp;iconDir)</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00197">qicohandler.cpp:197</a></div></div>
<div class="ttc" id="structICONDIRENTRY_html_affae99410b622cb9a6960520f920345d"><div class="ttname"><a href="structICONDIRENTRY.html#affae99410b622cb9a6960520f920345d">ICONDIRENTRY::dwBytesInRes</a></div><div class="ttdeci">quint32 dwBytesInRes</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00073">qicohandler.cpp:73</a></div></div>
<div class="ttc" id="qrgb_8h_html_a0e7a1324ad38755e59ac899e1435e855"><div class="ttname"><a href="qrgb_8h.html#a0e7a1324ad38755e59ac899e1435e855">QRgb</a></div><div class="ttdeci">unsigned int QRgb</div><div class="ttdef"><b>Definition:</b> <a href="qrgb_8h_source.html#l00053">qrgb.h:53</a></div></div>
<div class="ttc" id="structICONDIRENTRY_html_a9245ed80b12de288dae4025b17ccfde2"><div class="ttname"><a href="structICONDIRENTRY.html#a9245ed80b12de288dae4025b17ccfde2">ICONDIRENTRY::bWidth</a></div><div class="ttdeci">quint8 bWidth</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00067">qicohandler.cpp:67</a></div></div>
<div class="ttc" id="qicohandler_8cpp_html_af538c9a4301afd362a33348647fba0a5"><div class="ttname"><a href="qicohandler_8cpp.html#af538c9a4301afd362a33348647fba0a5">ICONDIR_SIZE</a></div><div class="ttdeci">#define ICONDIR_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00085">qicohandler.cpp:85</a></div></div>
<div class="ttc" id="qrgb_8h_html_a7425574d5db1d8c9423d9abe9806f3d7"><div class="ttname"><a href="qrgb_8h.html#a7425574d5db1d8c9423d9abe9806f3d7">qAlpha</a></div><div class="ttdeci">Q_GUI_EXPORT_INLINE int qAlpha(QRgb rgb)</div><div class="ttdef"><b>Definition:</b> <a href="qrgb_8h_source.html#l00066">qrgb.h:66</a></div></div>
<div class="ttc" id="structBMP__INFOHDR_html"><div class="ttname"><a href="structBMP__INFOHDR.html">BMP_INFOHDR</a></div><div class="ttdef"><b>Definition:</b> <a href="qbmphandler__p_8h_source.html#l00070">qbmphandler_p.h:70</a></div></div>
<div class="ttc" id="structICONDIRENTRY_html_af26c7fd76c4a9d0313fe4737257589ab"><div class="ttname"><a href="structICONDIRENTRY.html#af26c7fd76c4a9d0313fe4737257589ab">ICONDIRENTRY::bHeight</a></div><div class="ttdeci">quint8 bHeight</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00068">qicohandler.cpp:68</a></div></div>
<div class="ttc" id="namespaceQt_html_a417b85fc4d7a2ae19105931e4e09a5faaab3402d7d405d9ed05d07658604f4fad"><div class="ttname"><a href="namespaceQt.html#a417b85fc4d7a2ae19105931e4e09a5faaab3402d7d405d9ed05d07658604f4fad">Qt::KeepAspectRatio</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l01319">qnamespace.h:1319</a></div></div>
<div class="ttc" id="structBMP__INFOHDR_html_a48e32f04f0dce19f3880a2a344ac5124"><div class="ttname"><a href="structBMP__INFOHDR.html#a48e32f04f0dce19f3880a2a344ac5124">BMP_INFOHDR::biSize</a></div><div class="ttdeci">qint32 biSize</div><div class="ttdef"><b>Definition:</b> <a href="qbmphandler__p_8h_source.html#l00071">qbmphandler_p.h:71</a></div></div>
<div class="ttc" id="classQImage_html_a87d2e7c444c3572d3b37e1d6b9a7789c"><div class="ttname"><a href="classQImage.html#a87d2e7c444c3572d3b37e1d6b9a7789c">QImage::fill</a></div><div class="ttdeci">void fill(uint pixel)</div><div class="ttdoc">Fills the entire image with the given pixelValue. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l02032">qimage.cpp:2032</a></div></div>
<div class="ttc" id="classQByteArray_html"><div class="ttname"><a href="classQByteArray.html">QByteArray</a></div><div class="ttdoc">The QByteArray class provides an array of bytes. </div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8h_source.html#l00135">qbytearray.h:135</a></div></div>
<div class="ttc" id="qicohandler_8cpp_html_a48d78fae5873dfad738b85fa3f45e8d1"><div class="ttname"><a href="qicohandler_8cpp.html#a48d78fae5873dfad738b85fa3f45e8d1">BMP_INFOHDR_SIZE</a></div><div class="ttdeci">#define BMP_INFOHDR_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00100">qicohandler.cpp:100</a></div></div>
<div class="ttc" id="classQIODevice_html_a1537dd2eaacf74faa074694ee0ccb6b7"><div class="ttname"><a href="classQIODevice.html#a1537dd2eaacf74faa074694ee0ccb6b7">QIODevice::pos</a></div><div class="ttdeci">virtual qint64 pos() const</div><div class="ttdoc">For random-access devices, this function returns the position that data is written to or read from...</div><div class="ttdef"><b>Definition:</b> <a href="qiodevice_8cpp_source.html#l00624">qiodevice.cpp:624</a></div></div>
<div class="ttc" id="structICONDIRENTRY_html_adb96acc15a5c19353ad7f622d4af2705"><div class="ttname"><a href="structICONDIRENTRY.html#adb96acc15a5c19353ad7f622d4af2705">ICONDIRENTRY::bColorCount</a></div><div class="ttdeci">quint8 bColorCount</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00069">qicohandler.cpp:69</a></div></div>
<div class="ttc" id="classQList_html_aed39fa0c2e561cf165994d9c9dfd581f"><div class="ttname"><a href="classQList.html#aed39fa0c2e561cf165994d9c9dfd581f">QList::count</a></div><div class="ttdeci">int count(const T &amp;t) const</div><div class="ttdoc">Returns the number of occurrences of value in the list. </div><div class="ttdef"><b>Definition:</b> <a href="qlist_8h_source.html#l00891">qlist.h:891</a></div></div>
<div class="ttc" id="classQBuffer_html"><div class="ttname"><a href="classQBuffer.html">QBuffer</a></div><div class="ttdoc">The QBuffer class provides a QIODevice interface for a QByteArray. </div><div class="ttdef"><b>Definition:</b> <a href="qbuffer_8h_source.html#l00057">qbuffer.h:57</a></div></div>
<div class="ttc" id="structICONDIRENTRY_html_a3bfa26e325e237b53fa5e65b1e612935"><div class="ttname"><a href="structICONDIRENTRY.html#a3bfa26e325e237b53fa5e65b1e612935">ICONDIRENTRY::wBitCount</a></div><div class="ttdeci">quint16 wBitCount</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00072">qicohandler.cpp:72</a></div></div>
<div class="ttc" id="structBMP__INFOHDR_html_a05d3d736eea4268acde36409622b7da0"><div class="ttname"><a href="structBMP__INFOHDR.html#a05d3d736eea4268acde36409622b7da0">BMP_INFOHDR::biSizeImage</a></div><div class="ttdeci">qint32 biSizeImage</div><div class="ttdef"><b>Definition:</b> <a href="qbmphandler__p_8h_source.html#l00077">qbmphandler_p.h:77</a></div></div>
<div class="ttc" id="qrgb_8h_html_a0262d5960d36d81d4a364948d920f444"><div class="ttname"><a href="qrgb_8h.html#a0262d5960d36d81d4a364948d920f444">qRed</a></div><div class="ttdeci">Q_GUI_EXPORT_INLINE int qRed(QRgb rgb)</div><div class="ttdef"><b>Definition:</b> <a href="qrgb_8h_source.html#l00057">qrgb.h:57</a></div></div>
<div class="ttc" id="structBMP__INFOHDR_html_aa9a0a5929f7926b76ceefefc6c75425d"><div class="ttname"><a href="structBMP__INFOHDR.html#aa9a0a5929f7926b76ceefefc6c75425d">BMP_INFOHDR::biWidth</a></div><div class="ttdeci">qint32 biWidth</div><div class="ttdef"><b>Definition:</b> <a href="qbmphandler__p_8h_source.html#l00072">qbmphandler_p.h:72</a></div></div>
<div class="ttc" id="structBMP__INFOHDR_html_a6dbbb7f844f4a96ed68698e49b9daa2a"><div class="ttname"><a href="structBMP__INFOHDR.html#a6dbbb7f844f4a96ed68698e49b9daa2a">BMP_INFOHDR::biClrUsed</a></div><div class="ttdeci">qint32 biClrUsed</div><div class="ttdef"><b>Definition:</b> <a href="qbmphandler__p_8h_source.html#l00080">qbmphandler_p.h:80</a></div></div>
<div class="ttc" id="qicohandler_8cpp_html_a1b156ebee9b5ee0c45ad11aab86221e3"><div class="ttname"><a href="qicohandler_8cpp.html#a1b156ebee9b5ee0c45ad11aab86221e3">ICONDIRENTRY_SIZE</a></div><div class="ttdeci">#define ICONDIRENTRY_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00076">qicohandler.cpp:76</a></div></div>
<div class="ttc" id="qglobal_8h_html_a65f85814a8290f9797005d3b28e7e5fc"><div class="ttname"><a href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a></div><div class="ttdeci">unsigned char uchar</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l00994">qglobal.h:994</a></div></div>
<div class="ttc" id="structICONDIR_html_a0e0381325148ec5422dd7cd4360f07e0"><div class="ttname"><a href="structICONDIR.html#a0e0381325148ec5422dd7cd4360f07e0">ICONDIR::idReserved</a></div><div class="ttdeci">quint16 idReserved</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00080">qicohandler.cpp:80</a></div></div>
<div class="ttc" id="classQIODevice_html_af4c3367f5f33e4ae6d653d49e9f88d53af613ae41df167bfbdf5d1245ab1fc319"><div class="ttname"><a href="classQIODevice.html#af4c3367f5f33e4ae6d653d49e9f88d53af613ae41df167bfbdf5d1245ab1fc319">QIODevice::WriteOnly</a></div><div class="ttdef"><b>Definition:</b> <a href="qiodevice_8h_source.html#l00078">qiodevice.h:78</a></div></div>
<div class="ttc" id="structBMP__INFOHDR_html_a7710c11b2f9feaa01f6770de9618e2d3"><div class="ttname"><a href="structBMP__INFOHDR.html#a7710c11b2f9feaa01f6770de9618e2d3">BMP_INFOHDR::biYPelsPerMeter</a></div><div class="ttdeci">qint32 biYPelsPerMeter</div><div class="ttdef"><b>Definition:</b> <a href="qbmphandler__p_8h_source.html#l00079">qbmphandler_p.h:79</a></div></div>
<div class="ttc" id="namespaceQt_html_a1d3fc17ef89e8efd5c29cbe52e58572eaf30ce1dc100685b37b181c064d2ab98d"><div class="ttname"><a href="namespaceQt.html#a1d3fc17ef89e8efd5c29cbe52e58572eaf30ce1dc100685b37b181c064d2ab98d">Qt::SmoothTransformation</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l01512">qnamespace.h:1512</a></div></div>
<div class="ttc" id="structICONDIR_html"><div class="ttname"><a href="structICONDIR.html">ICONDIR</a></div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00078">qicohandler.cpp:78</a></div></div>
<div class="ttc" id="classQImage_html_a810aa2990f23c8aa8dc82c59ba11bd8dab1aa35fb34158e02d1af6272303e3aae"><div class="ttname"><a href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dab1aa35fb34158e02d1af6272303e3aae">QImage::Format_Mono</a></div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00093">qimage.h:93</a></div></div>
<div class="ttc" id="classQImage_html"><div class="ttname"><a href="classQImage.html">QImage</a></div><div class="ttdoc">The QImage class provides a hardware-independent image representation that allows direct access to th...</div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00087">qimage.h:87</a></div></div>
<div class="ttc" id="structICONDIRENTRY_html_a75ab31af43663eb9320e17539b3346f6"><div class="ttname"><a href="structICONDIRENTRY.html#a75ab31af43663eb9320e17539b3346f6">ICONDIRENTRY::wPlanes</a></div><div class="ttdeci">quint16 wPlanes</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00071">qicohandler.cpp:71</a></div></div>
<div class="ttc" id="classQImage_html_a2203e354012fc6500a0d2c1855a03438"><div class="ttname"><a href="classQImage.html#a2203e354012fc6500a0d2c1855a03438">QImage::createAlphaMask</a></div><div class="ttdeci">QImage createAlphaMask(Qt::ImageConversionFlags flags=Qt::AutoColor) const</div><div class="ttdoc">Builds and returns a 1-bpp mask from the alpha buffer in this image. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l04720">qimage.cpp:4720</a></div></div>
<div class="ttc" id="qglobal_8h_html_a7813502f9b491fb6716cbb80ea25a92d"><div class="ttname"><a href="qglobal_8h.html#a7813502f9b491fb6716cbb80ea25a92d">qint64</a></div><div class="ttdeci">__int64 qint64</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l00942">qglobal.h:942</a></div></div>
<div class="ttc" id="structBMP__INFOHDR_html_a2fa317b32e8ae200b25633571772989a"><div class="ttname"><a href="structBMP__INFOHDR.html#a2fa317b32e8ae200b25633571772989a">BMP_INFOHDR::biBitCount</a></div><div class="ttdeci">qint16 biBitCount</div><div class="ttdef"><b>Definition:</b> <a href="qbmphandler__p_8h_source.html#l00075">qbmphandler_p.h:75</a></div></div>
<div class="ttc" id="qrgb_8h_html_a870f36c07aefb951cadeba3bbe24426c"><div class="ttname"><a href="qrgb_8h.html#a870f36c07aefb951cadeba3bbe24426c">qBlue</a></div><div class="ttdeci">Q_GUI_EXPORT_INLINE int qBlue(QRgb rgb)</div><div class="ttdef"><b>Definition:</b> <a href="qrgb_8h_source.html#l00063">qrgb.h:63</a></div></div>
<div class="ttc" id="qkeysequence_8cpp_html_ac8efeaec3c61c4b38950f2f15e7b3c8f"><div class="ttname"><a href="qkeysequence_8cpp.html#ac8efeaec3c61c4b38950f2f15e7b3c8f">entries</a></div><div class="ttdeci">static const MacSpecialKey entries[NumEntries]</div><div class="ttdef"><b>Definition:</b> <a href="qkeysequence_8cpp_source.html#l00073">qkeysequence.cpp:73</a></div></div>
<div class="ttc" id="classQImage_html_a6cbe8c964884b45cbf29f3a4901dd8b6"><div class="ttname"><a href="classQImage.html#a6cbe8c964884b45cbf29f3a4901dd8b6">QImage::width</a></div><div class="ttdeci">int width() const</div><div class="ttdoc">Returns the width of the image. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l01557">qimage.cpp:1557</a></div></div>
<div class="ttc" id="classQImage_html_abb78d52192d06342711322505366f853"><div class="ttname"><a href="classQImage.html#abb78d52192d06342711322505366f853">QImage::convertToFormat</a></div><div class="ttdeci">QImage convertToFormat(Format f, Qt::ImageConversionFlags flags=Qt::AutoColor) const Q_REQUIRED_RESULT</div><div class="ttdoc">Returns a copy of the image in the given format. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l03966">qimage.cpp:3966</a></div></div>
<div class="ttc" id="structICONDIRENTRY_html"><div class="ttname"><a href="structICONDIRENTRY.html">ICONDIRENTRY</a></div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00065">qicohandler.cpp:65</a></div></div>
<div class="ttc" id="structICONDIRENTRY_html_a21172c248dedc54c31267c13a9bef5eb"><div class="ttname"><a href="structICONDIRENTRY.html#a21172c248dedc54c31267c13a9bef5eb">ICONDIRENTRY::bReserved</a></div><div class="ttdeci">quint8 bReserved</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00070">qicohandler.cpp:70</a></div></div>
<div class="ttc" id="classQImage_html_a810aa2990f23c8aa8dc82c59ba11bd8dae6a648c88becc4b9993158b57fbdc8e6"><div class="ttname"><a href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8dae6a648c88becc4b9993158b57fbdc8e6">QImage::Format_ARGB32</a></div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00097">qimage.h:97</a></div></div>
<div class="ttc" id="structBMP__INFOHDR_html_a08feb5c19bd39cab4f78800d57b91829"><div class="ttname"><a href="structBMP__INFOHDR.html#a08feb5c19bd39cab4f78800d57b91829">BMP_INFOHDR::biCompression</a></div><div class="ttdeci">qint32 biCompression</div><div class="ttdef"><b>Definition:</b> <a href="qbmphandler__p_8h_source.html#l00076">qbmphandler_p.h:76</a></div></div>
<div class="ttc" id="classQImage_html_a7a7199866132ff7f39efeb83aca128dc"><div class="ttname"><a href="classQImage.html#a7a7199866132ff7f39efeb83aca128dc">QImage::height</a></div><div class="ttdeci">int height() const</div><div class="ttdoc">Returns the height of the image. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l01572">qimage.cpp:1572</a></div></div>
<div class="ttc" id="qrgb_8h_html_a089780d47442a31aefd726ae9f9ad5a9"><div class="ttname"><a href="qrgb_8h.html#a089780d47442a31aefd726ae9f9ad5a9">qGreen</a></div><div class="ttdeci">Q_GUI_EXPORT_INLINE int qGreen(QRgb rgb)</div><div class="ttdef"><b>Definition:</b> <a href="qrgb_8h_source.html#l00060">qrgb.h:60</a></div></div>
<div class="ttc" id="structBMP__INFOHDR_html_a074280eccae40bc3c3792df6655e79b7"><div class="ttname"><a href="structBMP__INFOHDR.html#a074280eccae40bc3c3792df6655e79b7">BMP_INFOHDR::biClrImportant</a></div><div class="ttdeci">qint32 biClrImportant</div><div class="ttdef"><b>Definition:</b> <a href="qbmphandler__p_8h_source.html#l00081">qbmphandler_p.h:81</a></div></div>
<div class="ttc" id="namespaceQt_html_a72791987d47f717a18f2c26ec4901f52a31632a707840911ed0be90e3853884b0"><div class="ttname"><a href="namespaceQt.html#a72791987d47f717a18f2c26ec4901f52a31632a707840911ed0be90e3853884b0">Qt::color1</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00106">qnamespace.h:106</a></div></div>
<div class="ttc" id="classQIODevice_html_a70a53a0abd1961e2a9e1906623b70d57"><div class="ttname"><a href="classQIODevice.html#a70a53a0abd1961e2a9e1906623b70d57">QIODevice::write</a></div><div class="ttdeci">qint64 write(const char *data, qint64 len)</div><div class="ttdoc">Writes at most maxSize bytes of data from data to the device. </div><div class="ttdef"><b>Definition:</b> <a href="qiodevice_8cpp_source.html#l01342">qiodevice.cpp:1342</a></div></div>
<div class="ttc" id="classQImage_html_a26533b904edf6ffef6e114d3dd939485"><div class="ttname"><a href="classQImage.html#a26533b904edf6ffef6e114d3dd939485">QImage::scaled</a></div><div class="ttdeci">QImage scaled(int w, int h, Qt::AspectRatioMode aspectMode=Qt::IgnoreAspectRatio, Qt::TransformationMode mode=Qt::FastTransformation) const</div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00232">qimage.h:232</a></div></div>
<div class="ttc" id="qt__cocoa__helpers__mac_8mm_html_a875104226bb2d18c4bead75b19e75065"><div class="ttname"><a href="qt__cocoa__helpers__mac_8mm.html#a875104226bb2d18c4bead75b19e75065">end</a></div><div class="ttdeci">static const KeyPair *const end</div><div class="ttdef"><b>Definition:</b> <a href="qt__cocoa__helpers__mac_8mm_source.html#l00652">qt_cocoa_helpers_mac.mm:652</a></div></div>
<div class="ttc" id="qicohandler_8cpp_html_a96700442f849ecbfc69b58da8e760c73"><div class="ttname"><a href="qicohandler_8cpp.html#a96700442f849ecbfc69b58da8e760c73">writeIconDirEntry</a></div><div class="ttdeci">static bool writeIconDirEntry(QIODevice *iodev, const ICONDIRENTRY &amp;iconEntry)</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00165">qicohandler.cpp:165</a></div></div>
<div class="ttc" id="structBMP__INFOHDR_html_a85f1238a57e795ff88bf435318db6e27"><div class="ttname"><a href="structBMP__INFOHDR.html#a85f1238a57e795ff88bf435318db6e27">BMP_INFOHDR::biXPelsPerMeter</a></div><div class="ttdeci">qint32 biXPelsPerMeter</div><div class="ttdef"><b>Definition:</b> <a href="qbmphandler__p_8h_source.html#l00078">qbmphandler_p.h:78</a></div></div>
<div class="ttc" id="qicohandler_8cpp_html_a7c96503ca71d6aca9f81a4e5d9c4d004"><div class="ttname"><a href="qicohandler_8cpp.html#a7c96503ca71d6aca9f81a4e5d9c4d004">writeBMPInfoHeader</a></div><div class="ttdeci">static bool writeBMPInfoHeader(QIODevice *iodev, const BMP_INFOHDR &amp;header)</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00231">qicohandler.cpp:231</a></div></div>
<div class="ttc" id="structBMP__INFOHDR_html_a04de8cbe3e305e1819b40d8d7d24b52b"><div class="ttname"><a href="structBMP__INFOHDR.html#a04de8cbe3e305e1819b40d8d7d24b52b">BMP_INFOHDR::biPlanes</a></div><div class="ttdeci">qint16 biPlanes</div><div class="ttdef"><b>Definition:</b> <a href="qbmphandler__p_8h_source.html#l00074">qbmphandler_p.h:74</a></div></div>
<div class="ttc" id="structBMP__INFOHDR_html_a8c2ac83596f56c3c5f9555f0160e7ae8"><div class="ttname"><a href="structBMP__INFOHDR.html#a8c2ac83596f56c3c5f9555f0160e7ae8">BMP_INFOHDR::biHeight</a></div><div class="ttdeci">qint32 biHeight</div><div class="ttdef"><b>Definition:</b> <a href="qbmphandler__p_8h_source.html#l00073">qbmphandler_p.h:73</a></div></div>
<div class="ttc" id="structICONDIRENTRY_html_ab93d7a18973de56c36c8ed3f9b57fd40"><div class="ttname"><a href="structICONDIRENTRY.html#ab93d7a18973de56c36c8ed3f9b57fd40">ICONDIRENTRY::dwImageOffset</a></div><div class="ttdeci">quint32 dwImageOffset</div><div class="ttdef"><b>Definition:</b> <a href="qicohandler_8cpp_source.html#l00074">qicohandler.cpp:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Properties</h2>
<a id="ab752af88e4766feefda24e78731770f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab752af88e4766feefda24e78731770f2">&#9670;&nbsp;</a></span>headerRead</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ICOReader::headerRead</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qicohandler_8cpp_source.html#l00139">139</a> of file <a class="el" href="qicohandler_8cpp_source.html">qicohandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qicohandler_8cpp_source.html#l00340">readHeader()</a>.</p>

</div>
</div>
<a id="a5bcf4fb31970d4c213c7e3214947b139"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bcf4fb31970d4c213c7e3214947b139">&#9670;&nbsp;</a></span>icoAttrib</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structICOReader_1_1IcoAttrib.html">ICOReader::IcoAttrib</a>  ICOReader::icoAttrib</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="qicohandler_8cpp_source.html#l00377">findColorInfo()</a>, <a class="el" href="qicohandler_8cpp_source.html#l00523">iconAt()</a>, <a class="el" href="qicohandler_8cpp_source.html#l00489">read16_24_32BMP()</a>, <a class="el" href="qicohandler_8cpp_source.html#l00440">read4BitBMP()</a>, <a class="el" href="qicohandler_8cpp_source.html#l00471">read8BitBMP()</a>, <a class="el" href="qicohandler_8cpp_source.html#l00403">readBMP()</a>, and <a class="el" href="qicohandler_8cpp_source.html#l00386">readColorTable()</a>.</p>

</div>
</div>
<a id="ac04bdb838a00691d0b2e507925465b56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac04bdb838a00691d0b2e507925465b56">&#9670;&nbsp;</a></span>iconDir</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structICONDIR.html">ICONDIR</a> ICOReader::iconDir</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qicohandler_8cpp_source.html#l00140">140</a> of file <a class="el" href="qicohandler_8cpp_source.html">qicohandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qicohandler_8cpp_source.html#l00261">count()</a>, and <a class="el" href="qicohandler_8cpp_source.html#l00340">readHeader()</a>.</p>

</div>
</div>
<a id="af1a13c68500cad978e3694ba937ce621"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1a13c68500cad978e3694ba937ce621">&#9670;&nbsp;</a></span>iod</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQIODevice.html">QIODevice</a>* ICOReader::iod</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qicohandler_8cpp_source.html#l00137">137</a> of file <a class="el" href="qicohandler_8cpp_source.html">qicohandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qicohandler_8cpp_source.html#l00523">iconAt()</a>, <a class="el" href="qicohandler_8cpp_source.html#l00489">read16_24_32BMP()</a>, <a class="el" href="qicohandler_8cpp_source.html#l00422">read1BitBMP()</a>, <a class="el" href="qicohandler_8cpp_source.html#l00440">read4BitBMP()</a>, <a class="el" href="qicohandler_8cpp_source.html#l00471">read8BitBMP()</a>, <a class="el" href="qicohandler_8cpp_source.html#l00365">readBMPHeader()</a>, <a class="el" href="qicohandler_8cpp_source.html#l00386">readColorTable()</a>, <a class="el" href="qicohandler_8cpp_source.html#l00340">readHeader()</a>, and <a class="el" href="qicohandler_8cpp_source.html#l00353">readIconEntry()</a>.</p>

</div>
</div>
<a id="a04136a8f7e53cdcf33490f2561383254"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04136a8f7e53cdcf33490f2561383254">&#9670;&nbsp;</a></span>startpos</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qglobal_8h.html#a7813502f9b491fb6716cbb80ea25a92d">qint64</a> ICOReader::startpos</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qicohandler_8cpp_source.html#l00138">138</a> of file <a class="el" href="qicohandler_8cpp_source.html">qicohandler.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qicohandler_8cpp_source.html#l00365">readBMPHeader()</a>, <a class="el" href="qicohandler_8cpp_source.html#l00340">readHeader()</a>, and <a class="el" href="qicohandler_8cpp_source.html#l00353">readIconEntry()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/src/plugins/imageformats/ico/<a class="el" href="qicohandler_8cpp_source.html">qicohandler.cpp</a></li>
</ul>
</div><!-- contents -->

<hr class="footer"/><address class="footer"><small><a href="https://dreamswork.github.io/qt4/">Qt 4.8 Source Code Browser</a></small></address>
</body>
</html>
