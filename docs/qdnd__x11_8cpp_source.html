<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Qt 4.8: /src/gui/kernel/qdnd_x11.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="qt_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Qt 4.8
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0"
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_1427e6b9e14483d8a13b4ea1c69420e3.html">qt-4.8.6</a></li><li class="navelem"><a class="el" href="dir_42c0970699667688278d00b1a5e7112e.html">src</a></li><li class="navelem"><a class="el" href="dir_079600a9700e7f89459fcd6c0090021f.html">gui</a></li><li class="navelem"><a class="el" href="dir_d3b7b8b081e54ee6bb8c94393b4ce617.html">kernel</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">qdnd_x11.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="qdnd__x11_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/****************************************************************************</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">** Copyright (C) 2014 Digia Plc and/or its subsidiary(-ies).</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">** Contact: http://www.qt-project.org/legal</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">** This file is part of the QtGui module of the Qt Toolkit.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">** $QT_BEGIN_LICENSE:LGPL$</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">** Commercial License Usage</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">** Licensees holding valid commercial Qt licenses may use this file in</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">** accordance with the commercial license agreement provided with the</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">** Software or, alternatively, in accordance with the terms contained in</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">** a written agreement between you and Digia.  For licensing terms and</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">** conditions see http://qt.digia.com/licensing.  For further information</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">** use the contact form at http://qt.digia.com/contact-us.</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">** GNU Lesser General Public License Usage</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">** Alternatively, this file may be used under the terms of the GNU Lesser</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">** General Public License version 2.1 as published by the Free Software</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">** Foundation and appearing in the file LICENSE.LGPL included in the</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">** packaging of this file.  Please review the following information to</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">** ensure the GNU Lesser General Public License version 2.1 requirements</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">** will be met: http://www.gnu.org/licenses/old-licenses/lgpl-2.1.html.</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">** In addition, as a special exception, Digia gives you certain additional</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">** rights.  These rights are described in the Digia Qt LGPL Exception</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">** version 1.1, included in the file LGPL_EXCEPTION.txt in this package.</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">** GNU General Public License Usage</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">** Alternatively, this file may be used under the terms of the GNU</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">** General Public License version 3.0 as published by the Free Software</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">** Foundation and appearing in the file LICENSE.GPL included in the</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">** packaging of this file.  Please review the following information to</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">** ensure the GNU General Public License version 3.0 requirements will be</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">** met: http://www.gnu.org/copyleft/gpl.html.</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">** $QT_END_LICENSE$</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">****************************************************************************/</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;qplatformdefs.h&quot;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qapplication_8h.html">qapplication.h</a>&quot;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qabstracteventdispatcher_8h.html">qabstracteventdispatcher.h</a>&quot;</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#ifndef QT_NO_DRAGANDDROP</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qwidget_8h.html">qwidget.h</a>&quot;</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qpainter_8h.html">qpainter.h</a>&quot;</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qpixmap_8h.html">qpixmap.h</a>&quot;</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qbitmap_8h.html">qbitmap.h</a>&quot;</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qdesktopwidget_8h.html">qdesktopwidget.h</a>&quot;</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qevent_8h.html">qevent.h</a>&quot;</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qiodevice_8h.html">qiodevice.h</a>&quot;</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qpointer_8h.html">qpointer.h</a>&quot;</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qcursor_8h.html">qcursor.h</a>&quot;</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qelapsedtimer_8h.html">qelapsedtimer.h</a>&quot;</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qvariant_8h.html">qvariant.h</a>&quot;</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qvector_8h.html">qvector.h</a>&quot;</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qurl_8h.html">qurl.h</a>&quot;</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qdebug_8h.html">qdebug.h</a>&quot;</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qimagewriter_8h.html">qimagewriter.h</a>&quot;</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qbuffer_8h.html">qbuffer.h</a>&quot;</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qtextcodec_8h.html">qtextcodec.h</a>&quot;</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qdnd__p_8h.html">qdnd_p.h</a>&quot;</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qapplication__p_8h.html">qapplication_p.h</a>&quot;</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qt__x11__p_8h.html">qt_x11_p.h</a>&quot;</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qx11info__x11_8h.html">qx11info_x11.h</a>&quot;</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qwidget__p_8h.html">qwidget_p.h</a>&quot;</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qcursor__p_8h.html">qcursor_p.h</a>&quot;</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#ifndef QT_NO_XFIXES</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#include &lt;X11/extensions/Xfixes.h&gt;</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<a class="code" href="qglobal_8h.html#ae7344b820974b9f9f7cfedd5808bd3a0">QT_BEGIN_NAMESPACE</a></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">// #define DND_DEBUG</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#ifdef DND_DEBUG</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">#define DEBUG qDebug</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#ad72dbcf6d0153db1b8d8a58001feed83">   85</a></span>&#160;<span class="preprocessor">#define DEBUG if(0) qDebug</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#ifdef DND_DEBUG</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="preprocessor">#define DNDDEBUG qDebug()</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#ab36302516875c631cd76a0642298594e">   91</a></span>&#160;<span class="preprocessor">#define DNDDEBUG if(0) qDebug()</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#ac363fbadfbb1323bb4fbd22b59b3aa9b">   94</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="qdnd__x11_8cpp.html#ac363fbadfbb1323bb4fbd22b59b3aa9b">findXdndDropTransactionByWindow</a>(<a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa8e73f9b9c1eab37872a43901afd06767">Window</a> <a class="code" href="qcocoasharedwindowmethods__mac__p_8h.html#a81a904609b4ded1da0683017b5104976">window</a>)</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;{</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="qbuiltintypes_8cpp.html#abc44de815465f08d372c4796f0b134dc">at</a> = -1;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;dndDropTransactions.count(); ++i) {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="keyword">const</span> <a class="code" href="structQXdndDropTransaction.html">QXdndDropTransaction</a> &amp;t = <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;dndDropTransactions.at(i);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="keywordflow">if</span> (t.<a class="code" href="structQXdndDropTransaction.html#a692ade7747aab67f010ac03aaad3a738">target</a> == window || t.<a class="code" href="structQXdndDropTransaction.html#ab2e365c8baa79c2ec66fb242359a3b80">proxy_target</a> == window) {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            at = i;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        }</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    }</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="qbuiltintypes_8cpp.html#abc44de815465f08d372c4796f0b134dc">at</a>;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;}</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#a87738c5c7607253b05f2bd85d5df82bc">  107</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="qdnd__x11_8cpp.html#a87738c5c7607253b05f2bd85d5df82bc">findXdndDropTransactionByTime</a>(Time timestamp)</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;{</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="qbuiltintypes_8cpp.html#abc44de815465f08d372c4796f0b134dc">at</a> = -1;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;dndDropTransactions.count(); ++i) {</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="keyword">const</span> <a class="code" href="structQXdndDropTransaction.html">QXdndDropTransaction</a> &amp;t = <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;dndDropTransactions.at(i);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordflow">if</span> (t.<a class="code" href="structQXdndDropTransaction.html#a7b399250d2b9031a64676de62b5eaed4">timestamp</a> == timestamp) {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            at = i;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        }</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    }</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="qbuiltintypes_8cpp.html#abc44de815465f08d372c4796f0b134dc">at</a>;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">// timer used to discard old XdndDrop transactions</span></div><div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#a8c3c0c5de6572d912a61d82d13e019a5">  121</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="qdnd__x11_8cpp.html#a8c3c0c5de6572d912a61d82d13e019a5">transaction_expiry_timer</a> = -1;</div><div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#a3143b57146ef21ea3727156d369558f2a4b78f763eb7c4edd16353f73bf6192da">  122</a></span>&#160;<span class="keyword">enum</span> { <a class="code" href="qdnd__x11_8cpp.html#a3143b57146ef21ea3727156d369558f2a4b78f763eb7c4edd16353f73bf6192da">XdndDropTransactionTimeout</a> = 5000 }; <span class="comment">// 5 seconds</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#ab79d8b0615aafda4bbed5ca5f1a2f200">  124</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="qdnd__x11_8cpp.html#ab79d8b0615aafda4bbed5ca5f1a2f200">restartXdndDropExpiryTimer</a>()</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;{</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="qdnd__x11_8cpp.html#a8c3c0c5de6572d912a61d82d13e019a5">transaction_expiry_timer</a> != -1)</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <a class="code" href="classQDragManager.html#ae9f511e9b0661bacc2d92c083e6e4c54">QDragManager::self</a>()-&gt;<a class="code" href="classQObject.html#af3541fffb7562f18c698ff7a4c00963b">killTimer</a>(<a class="code" href="qdnd__x11_8cpp.html#a8c3c0c5de6572d912a61d82d13e019a5">transaction_expiry_timer</a>);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#a8c3c0c5de6572d912a61d82d13e019a5">transaction_expiry_timer</a> = <a class="code" href="classQDragManager.html#ae9f511e9b0661bacc2d92c083e6e4c54">QDragManager::self</a>()-&gt;<a class="code" href="classQObject.html#a385d704837451d4692f7e1fe1b1a0c98">startTimer</a>(<a class="code" href="qdnd__x11_8cpp.html#a3143b57146ef21ea3727156d369558f2a4b78f763eb7c4edd16353f73bf6192da">XdndDropTransactionTimeout</a>);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;}</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">// find an ancestor with XdndAware on it</span></div><div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#ac56bd3ac6d2fd5f731ff6d7f6c7e0e53">  133</a></span>&#160;<span class="keyword">static</span> <a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa8e73f9b9c1eab37872a43901afd06767">Window</a> <a class="code" href="qdnd__x11_8cpp.html#ac56bd3ac6d2fd5f731ff6d7f6c7e0e53">findXdndAwareParent</a>(<a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa8e73f9b9c1eab37872a43901afd06767">Window</a> <a class="code" href="qcocoasharedwindowmethods__mac__p_8h.html#a81a904609b4ded1da0683017b5104976">window</a>)</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;{</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa8e73f9b9c1eab37872a43901afd06767">Window</a> target = 0;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <a class="code" href="qglobal_8h.html#a8c25998f80abf59bbbc3fd3011d8bba6">forever</a> {</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="comment">// check if window has XdndAware</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0">Atom</a> <a class="code" href="qmetatype_8cpp.html#ac765329451135abec74c45e1897abf26">type</a> = 0;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="keywordtype">int</span> f;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> n, <a class="code" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a>;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="qdbusmessage_8cpp.html#a4b86149e51ff4431f59ce6148820fb86">data</a> = 0;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="keywordflow">if</span> (XGetWindowProperty(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, window, <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a0aa5c49d36838ec3df568fe5ef6c51dc">XdndAware</a>), 0, 0, False,</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                               AnyPropertyType, &amp;type, &amp;f,&amp;n,&amp;a,&amp;data) == <a class="code" href="qprinterinfo__unix__p_8h.html#a103e76ed4bd42f776f7f260080b98b3fafdfbdf3247bd36a1f17270d5cec74c9c">Success</a>) {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keywordflow">if</span> (data)</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                XFree(data);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="keywordflow">if</span> (type) {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                target = <a class="code" href="qcocoasharedwindowmethods__mac__p_8h.html#a81a904609b4ded1da0683017b5104976">window</a>;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            }</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        }</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="comment">// try window&#39;s parent</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa8e73f9b9c1eab37872a43901afd06767">Window</a> root;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa8e73f9b9c1eab37872a43901afd06767">Window</a> parent;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa8e73f9b9c1eab37872a43901afd06767">Window</a> *children;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <a class="code" href="qglobal_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> unused;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keywordflow">if</span> (!XQueryTree(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, window, &amp;root, &amp;parent, &amp;children, &amp;unused))</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="keywordflow">if</span> (children)</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            XFree(children);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <span class="keywordflow">if</span> (window == root)</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        window = parent;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    }</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">return</span> target;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">// and all this stuff is copied -into- qapp_x11.cpp</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="qdnd__x11_8cpp.html#ad8984f9a59189b89ebf8db8d50ca1f04">handle_xdnd_position</a>(<a class="code" href="classQWidget.html">QWidget</a> *, <span class="keyword">const</span> <a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a> *, <span class="keywordtype">bool</span>);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="qdnd__x11_8cpp.html#aac97899b9cf5efdff67780c3ab1c289e">handle_xdnd_status</a>(<a class="code" href="classQWidget.html">QWidget</a> * w, <span class="keyword">const</span> <a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a> * xe, <span class="keywordtype">bool</span> <span class="comment">/*passive*/</span>);</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#a7e38f228d9017d8eac0d00bc8a588bbb">  176</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="qdnd__x11_8cpp.html#a7e38f228d9017d8eac0d00bc8a588bbb">xdnd_version</a> = 5;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#a1e1564cfbfc21d249bcbb45b6ab3b496">  178</a></span>&#160;<span class="keyword">static</span> <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043">Qt::DropAction</a> <a class="code" href="qdnd__x11_8cpp.html#a1e1564cfbfc21d249bcbb45b6ab3b496">xdndaction_to_qtaction</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0">Atom</a> atom)</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;{</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">if</span> (atom == <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a0bd5f50bd3113a17c990853fe1254ceb">XdndActionCopy</a>) || atom == 0)</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043a263405c8eeca7d0acf2bee35ade236f9">Qt::CopyAction</a>;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">if</span> (atom == <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a66e2049a371545925cc37e7daf6a427d">XdndActionLink</a>))</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043af7511588e8175b82f3a5bb9531b14158">Qt::LinkAction</a>;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">if</span> (atom == <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0aba19a640cb7354f3ce17a8f99bbc7c74">XdndActionMove</a>))</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043aba2e2b44600530c68aa8944f95f8ab27">Qt::MoveAction</a>;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043a263405c8eeca7d0acf2bee35ade236f9">Qt::CopyAction</a>;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;}</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#a94efadfc543c931e7d4bbb6eaea29c22">  189</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="qdnd__x11_8cpp.html#a94efadfc543c931e7d4bbb6eaea29c22">qtaction_to_xdndaction</a>(<a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043">Qt::DropAction</a> <a class="code" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a>)</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;{</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">switch</span> (a) {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043a263405c8eeca7d0acf2bee35ade236f9">Qt::CopyAction</a>:</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a0bd5f50bd3113a17c990853fe1254ceb">XdndActionCopy</a>);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043af7511588e8175b82f3a5bb9531b14158">Qt::LinkAction</a>:</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a66e2049a371545925cc37e7daf6a427d">XdndActionLink</a>);</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043aba2e2b44600530c68aa8944f95f8ab27">Qt::MoveAction</a>:</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043ad9ae1c626b045f150fc3ce2e1d05e53e">Qt::TargetMoveAction</a>:</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0aba19a640cb7354f3ce17a8f99bbc7c74">XdndActionMove</a>);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043a7d5021238784afbb6b00e3cf8c45852d">Qt::IgnoreAction</a>:</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="qt__x11__p_8h.html#a08f51f22ad2ed13a25181c2604573110a74d8b25f4f670f3cbc937ed8cfe5b9ef">XNone</a>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a0bd5f50bd3113a17c990853fe1254ceb">XdndActionCopy</a>);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    }</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;}</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">// clean up the stuff used.</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="qdnd__x11_8cpp.html#a0cec5e911618a9b9d25b1fa5f73d8ae5">qt_xdnd_cleanup</a>();</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="qdnd__x11_8cpp.html#ae998e95ec3a2ef2db6015516ad4b8a9f">qt_xdnd_send_leave</a>();</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">// real variables:</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">// xid of current drag source</span></div><div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#a742ffc794232c5d5d81f60973f92b553">  213</a></span>&#160;<span class="keyword">static</span> <a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0">Atom</a> <a class="code" href="qdnd__x11_8cpp.html#a742ffc794232c5d5d81f60973f92b553">qt_xdnd_dragsource_xid</a> = 0;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">// the types in this drop. 100 is no good, but at least it&#39;s big.</span></div><div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#ac1865ec497ac59aeb93786229eef74ed">  216</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="qdnd__x11_8cpp.html#ac1865ec497ac59aeb93786229eef74ed">qt_xdnd_max_type</a> = 100;</div><div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#aa03ed06ace217e538a6d2d46b67dc837">  217</a></span>&#160;<span class="keyword">static</span> <a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0">Atom</a> <a class="code" href="qdnd__x11_8cpp.html#aa03ed06ace217e538a6d2d46b67dc837">qt_xdnd_types</a>[<a class="code" href="qdnd__x11_8cpp.html#ac1865ec497ac59aeb93786229eef74ed">qt_xdnd_max_type</a> + 1];</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">// timer used when target wants &quot;continuous&quot; move messages (eg. scroll)</span></div><div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#af4fec4bb2e18682d985110069f6e85c1">  220</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="qdnd__x11_8cpp.html#af4fec4bb2e18682d985110069f6e85c1">heartbeat</a> = -1;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">// rectangle in which the answer will be the same</span></div><div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#a03a6cdcccfd5dd038b882d60a5440bd5">  222</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classQRect.html">QRect</a> <a class="code" href="qdnd__x11_8cpp.html#a03a6cdcccfd5dd038b882d60a5440bd5">qt_xdnd_source_sameanswer</a>;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">// top-level window we sent position to last.</span></div><div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#a5aa42095e78c73293ef0c77fab8c52e1">  224</a></span>&#160;<span class="keyword">static</span> <a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa8e73f9b9c1eab37872a43901afd06767">Window</a> <a class="code" href="qdnd__x11_8cpp.html#a5aa42095e78c73293ef0c77fab8c52e1">qt_xdnd_current_target</a>;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment">// window to send events to (always valid if qt_xdnd_current_target)</span></div><div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#a8c28975fcfa22adb03d40ca98695820b">  226</a></span>&#160;<span class="keyword">static</span> <a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa8e73f9b9c1eab37872a43901afd06767">Window</a> <a class="code" href="qdnd__x11_8cpp.html#a8c28975fcfa22adb03d40ca98695820b">qt_xdnd_current_proxy_target</a>;</div><div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#a45e6047b4a0f6f30880a9c94c838451b">  227</a></span>&#160;<span class="keyword">static</span> Time <a class="code" href="qdnd__x11_8cpp.html#a45e6047b4a0f6f30880a9c94c838451b">qt_xdnd_source_current_time</a>;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">// widget we forwarded position to last, and local position</span></div><div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#a435afa7b7a3ea4af05f9b0cde3ef8920">  230</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classQPointer.html">QPointer&lt;QWidget&gt;</a> <a class="code" href="qdnd__x11_8cpp.html#a435afa7b7a3ea4af05f9b0cde3ef8920">qt_xdnd_current_widget</a>;</div><div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#ab02c52adf0efed08ad3908a1cb0c672f">  231</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classQPoint.html">QPoint</a> <a class="code" href="qdnd__x11_8cpp.html#ab02c52adf0efed08ad3908a1cb0c672f">qt_xdnd_current_position</a>;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">// timestamp from the XdndPosition and XdndDrop</span></div><div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#ac8e78135032b3807882cc45e681fff7a">  233</a></span>&#160;<span class="keyword">static</span> Time <a class="code" href="qdnd__x11_8cpp.html#ac8e78135032b3807882cc45e681fff7a">qt_xdnd_target_current_time</a>;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">// screen number containing the pointer... -1 means default</span></div><div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#a22e09786270a7ef559b1612a047dcfcf">  235</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="qdnd__x11_8cpp.html#a22e09786270a7ef559b1612a047dcfcf">qt_xdnd_current_screen</a> = -1;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">// state of dragging... true if dragging, false if not</span></div><div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#aa93146a4c3cf68369120db33b57a4dcb">  237</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="qdnd__x11_8cpp.html#aa93146a4c3cf68369120db33b57a4dcb">qt_xdnd_dragging</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#a52776efd87119f73f96ac0ff87bd4178">  239</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="qdnd__x11_8cpp.html#a52776efd87119f73f96ac0ff87bd4178">waiting_for_status</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">// used to preset each new QDragMoveEvent</span></div><div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#a7410d5aab23150dd60ef40abcb6bca69">  242</a></span>&#160;<span class="keyword">static</span> <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043">Qt::DropAction</a> <a class="code" href="qdnd__x11_8cpp.html#a7410d5aab23150dd60ef40abcb6bca69">last_target_accepted_action</a> = <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043a7d5021238784afbb6b00e3cf8c45852d">Qt::IgnoreAction</a>;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">// Shift/Ctrl handling, and final drop status</span></div><div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#ae70ae4f55a56c90e0996e83771b510c6">  245</a></span>&#160;<span class="keyword">static</span> <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043">Qt::DropAction</a> <a class="code" href="qdnd__x11_8cpp.html#ae70ae4f55a56c90e0996e83771b510c6">global_accepted_action</a> = <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043a263405c8eeca7d0acf2bee35ade236f9">Qt::CopyAction</a>;</div><div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#a70e9226ee132bef518a50b37f92a78bb">  246</a></span>&#160;<span class="keyword">static</span> Qt::DropActions <a class="code" href="qdnd__x11_8cpp.html#a70e9226ee132bef518a50b37f92a78bb">possible_actions</a> = <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043a7d5021238784afbb6b00e3cf8c45852d">Qt::IgnoreAction</a>;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">// for embedding only</span></div><div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#a90e2de53546b66c0b701a3ab2d154b69">  249</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classQWidget.html">QWidget</a>* <a class="code" href="qdnd__x11_8cpp.html#a90e2de53546b66c0b701a3ab2d154b69">current_embedding_widget</a>  = 0;</div><div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#afbdf264687c294a56fa0515b7b5273f9">  250</a></span>&#160;<span class="keyword">static</span> <a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a> <a class="code" href="qdnd__x11_8cpp.html#afbdf264687c294a56fa0515b7b5273f9">last_enter_event</a>;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">// cursors</span></div><div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#a4f1a2125913fa11b8ed49b9e642872ed">  253</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classQCursor.html">QCursor</a> *<a class="code" href="qdnd__x11_8cpp.html#a4f1a2125913fa11b8ed49b9e642872ed">noDropCursor</a> = 0;</div><div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#a2ccf1eada810bf9322438af000b3bd5c">  254</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classQCursor.html">QCursor</a> *<a class="code" href="qdnd__x11_8cpp.html#a2ccf1eada810bf9322438af000b3bd5c">moveCursor</a> = 0;</div><div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#a929168397c7c776a654bb63fe28ed39f">  255</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classQCursor.html">QCursor</a> *<a class="code" href="qdnd__x11_8cpp.html#a929168397c7c776a654bb63fe28ed39f">copyCursor</a> = 0;</div><div class="line"><a name="l00256"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#a056fdc81ae8e2fee63875f6ed073c70a">  256</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classQCursor.html">QCursor</a> *<a class="code" href="qdnd__x11_8cpp.html#a056fdc81ae8e2fee63875f6ed073c70a">linkCursor</a> = 0;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#a89034fb525638a078aa8f951c422a4b1">  258</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classQPixmap.html">QPixmap</a> *<a class="code" href="qdnd__x11_8cpp.html#a89034fb525638a078aa8f951c422a4b1">defaultPm</a> = 0;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#aa79cdcc837ef853c1e5a68239459e40e">  260</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="qdnd__x11_8cpp.html#aa79cdcc837ef853c1e5a68239459e40e">default_pm_hotx</a> = -2;</div><div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#adb78894c9ef82e1fa25f6476f0a3467c">  261</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="qdnd__x11_8cpp.html#adb78894c9ef82e1fa25f6476f0a3467c">default_pm_hoty</a> = -16;</div><div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#a83675dececb36c81404f147e0aab21c4">  262</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> <a class="code" href="qdnd__x11_8cpp.html#a83675dececb36c81404f147e0aab21c4">default_pm</a>[] = {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="stringliteral">&quot;13 9 3 1&quot;</span>,</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="stringliteral">&quot;.      c None&quot;</span>,</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="stringliteral">&quot;       c #000000&quot;</span>,</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="stringliteral">&quot;X      c #FFFFFF&quot;</span>,</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="stringliteral">&quot;X X X X X X X&quot;</span>,</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="stringliteral">&quot; X X X X X X &quot;</span>,</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="stringliteral">&quot;X ......... X&quot;</span>,</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="stringliteral">&quot; X.........X &quot;</span>,</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="stringliteral">&quot;X ......... X&quot;</span>,</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="stringliteral">&quot; X.........X &quot;</span>,</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="stringliteral">&quot;X ......... X&quot;</span>,</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="stringliteral">&quot; X X X X X X &quot;</span>,</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="stringliteral">&quot;X X X X X X X&quot;</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;};</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="keyword">class </span><a class="code" href="classQShapedPixmapWidget.html">QShapedPixmapWidget</a> : <span class="keyword">public</span> <a class="code" href="classQWidget.html">QWidget</a></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;{</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="qobjectdefs_8h.html#a28faeb36eee7fb0a64b8081fbab41bcd">Q_OBJECT</a></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="classQShapedPixmapWidget.html#aeac5479face200bc2cfe10d73ff9632f">  282</a></span>&#160;    <a class="code" href="classQShapedPixmapWidget.html#aeac5479face200bc2cfe10d73ff9632f">QShapedPixmapWidget</a>(<a class="code" href="classQWidget.html">QWidget</a>* w) :</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <a class="code" href="classQWidget.html">QWidget</a>(w,</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                <a class="code" href="namespaceQt.html">Qt</a>::<a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aad280c99a976b54a8a692de7026bcf74c">Tool</a> | <a class="code" href="namespaceQt.html">Qt</a>::<a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa28c9f8bd1329a6700b2f5a3e5ce3663f">FramelessWindowHint</a></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                | <a class="code" href="namespaceQt.html">Qt</a>::<a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aae8e3ae3922fb569c7da7d71a1aa72050">X11BypassWindowManagerHint</a></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                | <a class="code" href="namespaceQt.html">Qt</a>::<a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa7a5137c367e3fe65639c756d1feb4b6e">BypassGraphicsProxyWidget</a>)</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    {</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <a class="code" href="classQWidget.html#a0449b9ec27a288d8add4b85c5e0d92b7">setAttribute</a>(<a class="code" href="namespaceQt.html#a290b49e92c89fec771e24612d766cdd9a04da9c8fbb4cbc9e6c861c803a98ed95">Qt::WA_X11NetWmWindowTypeDND</a>);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    }</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno"><a class="line" href="classQShapedPixmapWidget.html#ad2b60cef948ba30d9aed927a40a9ddf0">  291</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classQShapedPixmapWidget.html#ad2b60cef948ba30d9aed927a40a9ddf0">setPixmap</a>(<span class="keyword">const</span> <a class="code" href="classQPixmap.html">QPixmap</a> &amp;pm)</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    {</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <a class="code" href="classQBitmap.html">QBitmap</a> <a class="code" href="classQWidget.html#abdb06e8f7820240858fee71beed789a4">mask</a> = pm.<a class="code" href="classQPixmap.html#a6eb689bda992bbd05db9257c58bbfaf5">mask</a>();</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <span class="keywordflow">if</span> (!mask.<a class="code" href="classQPixmap.html#a6af763873ee1f4869e317ca31539583e">isNull</a>()) {</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            <a class="code" href="classQWidget.html#a1ec592bffe8b462b516df2fa1d08869a">setMask</a>(mask);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            <a class="code" href="classQWidget.html#adb18b379535cc0308a97d72651063f29">clearMask</a>();</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        }</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <a class="code" href="classQWidget.html#ab9c2688a93e5ba78af6224cb71132e06">resize</a>(pm.<a class="code" href="classQPixmap.html#a71696b7e1ae9454048aab0b9896c11d5">width</a>(),pm.<a class="code" href="classQPixmap.html#a078e642719128a4e908a04ee37edfc61">height</a>());</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <a class="code" href="classQShapedPixmapWidget.html#a7d39580c034e5b2205cf8015374b09ce">pixmap</a> = pm;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <a class="code" href="classQWidget.html#a924179b8624eac77cc82ef72e7d137f5">update</a>();</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    }</div><div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="classQShapedPixmapWidget.html#a468570123e1972e598e731a2a63385bf">  303</a></span>&#160;    <a class="code" href="classQPoint.html">QPoint</a> <a class="code" href="classQShapedPixmapWidget.html#a468570123e1972e598e731a2a63385bf">pm_hot</a>;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="keyword">protected</span>:</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <a class="code" href="classQPixmap.html">QPixmap</a> <a class="code" href="classQShapedPixmapWidget.html#a7d39580c034e5b2205cf8015374b09ce">pixmap</a>;</div><div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="classQShapedPixmapWidget.html#af0315b994d18d5d653f8c97c8e9ab479">  307</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classQShapedPixmapWidget.html#af0315b994d18d5d653f8c97c8e9ab479">paintEvent</a>(<a class="code" href="classQPaintEvent.html">QPaintEvent</a>*)</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    {</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <a class="code" href="classQPainter.html">QPainter</a> p(<span class="keyword">this</span>);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        p.<a class="code" href="classQPainter.html#aa816d538329497007855e3459fd37b8a">drawPixmap</a>(0, 0, pixmap);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    }</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;};</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="preprocessor">#include &quot;qdnd_x11.moc&quot;</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div><div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="structXdndData.html">  316</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structXdndData.html">XdndData</a> {</div><div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">  317</a></span>&#160;    <a class="code" href="classQShapedPixmapWidget.html">QShapedPixmapWidget</a> *<a class="code" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">deco</a>;</div><div class="line"><a name="l00318"></a><span class="lineno"><a class="line" href="structXdndData.html#a7768a80bf6d86278af9224b26b7de995">  318</a></span>&#160;    <a class="code" href="classQWidget.html">QWidget</a>* <a class="code" href="structXdndData.html#a7768a80bf6d86278af9224b26b7de995">desktop_proxy</a>;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;};</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#a8d4e433143f047830c7dabcb40d9ec77">  321</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structXdndData.html">XdndData</a> <a class="code" href="qdnd__x11_8cpp.html#a8d4e433143f047830c7dabcb40d9ec77">xdnd_data</a> = { 0, 0 };</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno"><a class="line" href="classQExtraWidget.html">  323</a></span>&#160;<span class="keyword">class </span><a class="code" href="classQExtraWidget.html">QExtraWidget</a> : <span class="keyword">public</span> <a class="code" href="classQWidget.html">QWidget</a></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;{</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <a class="code" href="qglobal_8h.html#aa2f58c75acfd1521af66b2e6ca56ec63">Q_DECLARE_PRIVATE</a>(<a class="code" href="classQWidget.html">QWidget</a>)</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keyword">inline</span> <a class="code" href="structQWExtra.html">QWExtra</a>* extraData();</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keyword">inline</span> <a class="code" href="structQTLWExtra.html">QTLWExtra</a>* topData();</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;};</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno"><a class="line" href="classQExtraWidget.html#ac74d2029875b8ed63a5dc7bf17135e46">  331</a></span>&#160;<span class="keyword">inline</span> <a class="code" href="structQWExtra.html">QWExtra</a>* <a class="code" href="classQExtraWidget.html#ac74d2029875b8ed63a5dc7bf17135e46">QExtraWidget::extraData</a>() { <span class="keywordflow">return</span> d_func()-&gt;extraData(); }</div><div class="line"><a name="l00332"></a><span class="lineno"><a class="line" href="classQExtraWidget.html#a9dbcf6ae67170bb1112d85aa74b3d810">  332</a></span>&#160;<span class="keyword">inline</span> <a class="code" href="structQTLWExtra.html">QTLWExtra</a>* <a class="code" href="classQExtraWidget.html#a9dbcf6ae67170bb1112d85aa74b3d810">QExtraWidget::topData</a>() { <span class="keywordflow">return</span> d_func()-&gt;topData(); }</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#a0fdaa996aa0be0afd4a6075991f8911b">  335</a></span>&#160;<span class="keyword">static</span> <a class="code" href="qwindowdefs_8h.html#a08fcbd33489219e78cbe3dd55b1c0f5e">WId</a> <a class="code" href="qdnd__x11_8cpp.html#a0fdaa996aa0be0afd4a6075991f8911b">xdndProxy</a>(<a class="code" href="qwindowdefs_8h.html#a08fcbd33489219e78cbe3dd55b1c0f5e">WId</a> w)</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;{</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0">Atom</a> <a class="code" href="qmetatype_8cpp.html#ac765329451135abec74c45e1897abf26">type</a> = <a class="code" href="qt__x11__p_8h.html#a08f51f22ad2ed13a25181c2604573110a74d8b25f4f670f3cbc937ed8cfe5b9ef">XNone</a>;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordtype">int</span> f;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> n, <a class="code" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a>;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *retval = 0;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    XGetWindowProperty(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, w, <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0aacdd50114ee0f911c528831d67e2b328">XdndProxy</a>), 0, 1, False,</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                       XA_WINDOW, &amp;type, &amp;f,&amp;n,&amp;a,&amp;retval);</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <a class="code" href="qwindowdefs_8h.html#a08fcbd33489219e78cbe3dd55b1c0f5e">WId</a> *proxy_id_ptr = (<a class="code" href="qwindowdefs_8h.html#a08fcbd33489219e78cbe3dd55b1c0f5e">WId</a> *)retval;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <a class="code" href="qwindowdefs_8h.html#a08fcbd33489219e78cbe3dd55b1c0f5e">WId</a> proxy_id = 0;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordflow">if</span> (type == XA_WINDOW &amp;&amp; proxy_id_ptr) {</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        proxy_id = *proxy_id_ptr;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        XFree(proxy_id_ptr);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        proxy_id_ptr = 0;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="comment">// Already exists. Real?</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;ignoreBadwindow();</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        XGetWindowProperty(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, proxy_id, <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0aacdd50114ee0f911c528831d67e2b328">XdndProxy</a>), 0, 1, False,</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                           XA_WINDOW, &amp;type, &amp;f,&amp;n,&amp;a,&amp;retval);</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        proxy_id_ptr = (<a class="code" href="qwindowdefs_8h.html#a08fcbd33489219e78cbe3dd55b1c0f5e">WId</a> *)retval;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;badwindow() || type != XA_WINDOW || !proxy_id_ptr || *proxy_id_ptr != proxy_id)</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            <span class="comment">// Bogus - we will overwrite.</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            proxy_id = 0;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    }</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">if</span> (proxy_id_ptr)</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        XFree(proxy_id_ptr);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">return</span> proxy_id;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;}</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#a3b16b8294f9619793c06ce1732c51710">  363</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="qdnd__x11_8cpp.html#a3b16b8294f9619793c06ce1732c51710">xdndEnable</a>(<a class="code" href="classQWidget.html">QWidget</a>* w, <span class="keywordtype">bool</span> on)</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;{</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#ab36302516875c631cd76a0642298594e">DNDDEBUG</a> &lt;&lt; <span class="stringliteral">&quot;xdndEnable&quot;</span> &lt;&lt; w &lt;&lt; on;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">if</span> (on) {</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <a class="code" href="classQWidget.html">QWidget</a> * xdnd_widget = 0;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <span class="keywordflow">if</span> ((w-&gt;<a class="code" href="classQWidget.html#af32c7c4da65ba56211b84cab171ef969">windowType</a>() == <a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa07a5d1f8a9d05794167fa129b7fa45bb">Qt::Desktop</a>)) {</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            <span class="keywordflow">if</span> (xdnd_data.<a class="code" href="structXdndData.html#a7768a80bf6d86278af9224b26b7de995">desktop_proxy</a>) <span class="comment">// *WE* already have one.</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            <span class="comment">// As per Xdnd4, use XdndProxy</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            XGrabServer(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            <a class="code" href="qglobal_8h.html#ac29a7ecc02f777dfeb2b68a051561c35">Q_ASSERT</a>(w-&gt;<a class="code" href="classQWidget.html#af45d2424e70bb04a0f5605defb1d3676">testAttribute</a>(<a class="code" href="namespaceQt.html#a290b49e92c89fec771e24612d766cdd9ad26102cd7bf3bced74860cb484e6fa86">Qt::WA_WState_Created</a>));</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            <a class="code" href="qwindowdefs_8h.html#a08fcbd33489219e78cbe3dd55b1c0f5e">WId</a> proxy_id = <a class="code" href="qdnd__x11_8cpp.html#a0fdaa996aa0be0afd4a6075991f8911b">xdndProxy</a>(w-&gt;<a class="code" href="classQWidget.html#aa7fe0dd4e297bd72e03bae55067de79b">effectiveWinId</a>());</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            <span class="keywordflow">if</span> (!proxy_id) {</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                xdnd_widget = xdnd_data.<a class="code" href="structXdndData.html#a7768a80bf6d86278af9224b26b7de995">desktop_proxy</a> = <span class="keyword">new</span> <a class="code" href="classQWidget.html#a0395e0f96402f8c7ee2b54c71c9c8cef">QWidget</a>;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                proxy_id = xdnd_data.<a class="code" href="structXdndData.html#a7768a80bf6d86278af9224b26b7de995">desktop_proxy</a>-&gt;<a class="code" href="classQWidget.html#aa7fe0dd4e297bd72e03bae55067de79b">effectiveWinId</a>();</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                XChangeProperty (<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, w-&gt;<a class="code" href="classQWidget.html#aa7fe0dd4e297bd72e03bae55067de79b">effectiveWinId</a>(), <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0aacdd50114ee0f911c528831d67e2b328">XdndProxy</a>),</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                                 XA_WINDOW, 32, PropModeReplace, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)&amp;proxy_id, 1);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                XChangeProperty (<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, proxy_id, <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0aacdd50114ee0f911c528831d67e2b328">XdndProxy</a>),</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                                 XA_WINDOW, 32, PropModeReplace, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)&amp;proxy_id, 1);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            }</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            XUngrabServer(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display);</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            xdnd_widget = w-&gt;<a class="code" href="classQWidget.html#a091bcfa8bfe3a48f45fda3c88de95935">window</a>();</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        }</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="keywordflow">if</span> (xdnd_widget) {</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            <a class="code" href="qdnd__x11_8cpp.html#ab36302516875c631cd76a0642298594e">DNDDEBUG</a> &lt;&lt; <span class="stringliteral">&quot;setting XdndAware for&quot;</span> &lt;&lt; xdnd_widget &lt;&lt; xdnd_widget-&gt;<a class="code" href="classQWidget.html#aa7fe0dd4e297bd72e03bae55067de79b">effectiveWinId</a>();</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            <a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0">Atom</a> atm = (<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0">Atom</a>)<a class="code" href="qdnd__x11_8cpp.html#a7e38f228d9017d8eac0d00bc8a588bbb">xdnd_version</a>;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            <a class="code" href="qglobal_8h.html#ac29a7ecc02f777dfeb2b68a051561c35">Q_ASSERT</a>(xdnd_widget-&gt;<a class="code" href="classQWidget.html#af45d2424e70bb04a0f5605defb1d3676">testAttribute</a>(<a class="code" href="namespaceQt.html#a290b49e92c89fec771e24612d766cdd9ad26102cd7bf3bced74860cb484e6fa86">Qt::WA_WState_Created</a>));</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            XChangeProperty(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, xdnd_widget-&gt;<a class="code" href="classQWidget.html#aa7fe0dd4e297bd72e03bae55067de79b">effectiveWinId</a>(), <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a0aa5c49d36838ec3df568fe5ef6c51dc">XdndAware</a>),</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                             XA_ATOM, 32, PropModeReplace, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)&amp;atm, 1);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        }</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <span class="keywordflow">if</span> ((w-&gt;<a class="code" href="classQWidget.html#af32c7c4da65ba56211b84cab171ef969">windowType</a>() == <a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa07a5d1f8a9d05794167fa129b7fa45bb">Qt::Desktop</a>)) {</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            XDeleteProperty(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, w-&gt;<a class="code" href="classQWidget.html#a0c197484aa97e41f326f39313895b155">internalWinId</a>(), <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0aacdd50114ee0f911c528831d67e2b328">XdndProxy</a>));</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            <span class="keyword">delete</span> xdnd_data.<a class="code" href="structXdndData.html#a7768a80bf6d86278af9224b26b7de995">desktop_proxy</a>;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            xdnd_data.<a class="code" href="structXdndData.html#a7768a80bf6d86278af9224b26b7de995">desktop_proxy</a> = 0;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            <a class="code" href="qdnd__x11_8cpp.html#ab36302516875c631cd76a0642298594e">DNDDEBUG</a> &lt;&lt; <span class="stringliteral">&quot;not deleting XDndAware&quot;</span>;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        }</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    }</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;}</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno"><a class="line" href="structQX11Data.html#ab31137abc16a3b437af53670ddc97db0">  412</a></span>&#160;<a class="code" href="classQByteArray.html">QByteArray</a> <a class="code" href="structQX11Data.html#ab31137abc16a3b437af53670ddc97db0">QX11Data::xdndAtomToString</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0">Atom</a> <a class="code" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a>)</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;{</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordflow">if</span> (!a) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keywordflow">if</span> (a == XA_STRING || a == <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a84260203d33ec065d34e37977dd6ebca">UTF8_STRING</a>)) {</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;text/plain&quot;</span>; <span class="comment">// some Xdnd clients are dumb</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    }</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordtype">char</span> *atom = XGetAtomName(<a class="code" href="namespaceQEgl.html#a309bea834d6154dc01b24590ee50a166">display</a>, a);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <a class="code" href="classQByteArray.html">QByteArray</a> result = atom;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    XFree(atom);</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;}</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div><div class="line"><a name="l00425"></a><span class="lineno"><a class="line" href="structQX11Data.html#a9be9dfc24c5fd7ed38600213538d259c">  425</a></span>&#160;<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0">Atom</a> <a class="code" href="structQX11Data.html#a9be9dfc24c5fd7ed38600213538d259c">QX11Data::xdndStringToAtom</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *mimeType)</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;{</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">if</span> (!mimeType || !*mimeType)</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordflow">return</span> XInternAtom(<a class="code" href="namespaceQEgl.html#a309bea834d6154dc01b24590ee50a166">display</a>, mimeType, False);</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;}</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">//$$$</span></div><div class="line"><a name="l00433"></a><span class="lineno"><a class="line" href="structQX11Data.html#a330f56fd95787b1547b851b0fa9fc4e2">  433</a></span>&#160;<a class="code" href="classQString.html">QString</a> <a class="code" href="structQX11Data.html#a330f56fd95787b1547b851b0fa9fc4e2">QX11Data::xdndMimeAtomToString</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0">Atom</a> <a class="code" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a>)</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;{</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <a class="code" href="classQString.html">QString</a> atomName;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordflow">if</span> (a) {</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <span class="keywordtype">char</span> *atom = XGetAtomName(<a class="code" href="namespaceQEgl.html#a309bea834d6154dc01b24590ee50a166">display</a>, a);</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        atomName = <a class="code" href="classQString.html#a09b8b144ffd130ce7d065bacf7cd495e">QString::fromLatin1</a>(atom);</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        XFree(atom);</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    }</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordflow">return</span> atomName;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;}</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment">//$$$</span></div><div class="line"><a name="l00445"></a><span class="lineno"><a class="line" href="structQX11Data.html#a4b325b790ccf4566fdbd6505c6aa0447">  445</a></span>&#160;<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0">Atom</a> <a class="code" href="structQX11Data.html#a4b325b790ccf4566fdbd6505c6aa0447">QX11Data::xdndMimeStringToAtom</a>(<span class="keyword">const</span> <a class="code" href="classQString.html">QString</a> &amp;mimeType)</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;{</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordflow">if</span> (mimeType.<a class="code" href="classQString.html#aa032d4b5892338beb575a85e59bbbf38">isEmpty</a>())</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keywordflow">return</span> XInternAtom(<a class="code" href="namespaceQEgl.html#a309bea834d6154dc01b24590ee50a166">display</a>, mimeType.<a class="code" href="classQString.html#a9491884b49163344c4a03c738125f93d">toLatin1</a>().<a class="code" href="classQByteArray.html#adb3b4e935f60dd123b1b017894901937">constData</a>(), False);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;}</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment">//$$$ replace ccxdndAtomToString()</span></div><div class="line"><a name="l00453"></a><span class="lineno"><a class="line" href="structQX11Data.html#aa44ecb9bd1b5c5e473570c381ceb1aa3">  453</a></span>&#160;<a class="code" href="classQStringList.html">QStringList</a> <a class="code" href="structQX11Data.html#aa44ecb9bd1b5c5e473570c381ceb1aa3">QX11Data::xdndMimeFormatsForAtom</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0">Atom</a> <a class="code" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a>)</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;{</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <a class="code" href="classQStringList.html">QStringList</a> formats;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">if</span> (a) {</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <a class="code" href="classQString.html">QString</a> atomName = xdndMimeAtomToString(a);</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        formats.<a class="code" href="classQList.html#a3a1e18c5fb9cc04324825a46540638c5">append</a>(atomName);</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <span class="comment">// special cases for string type</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <span class="keywordflow">if</span> (a == <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a84260203d33ec065d34e37977dd6ebca">UTF8_STRING</a>) || a == XA_STRING</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            || a == <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="qquerytransformparser__p_8h.html#a15c9f7bd2f0e9686df5d9df4f3314aa9a9a4a47c1606e295076055a9cc4373197">TEXT</a>) || a == <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0af4c6552192d02cbde590bbe8eb8e4d21">COMPOUND_TEXT</a>))</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            formats.<a class="code" href="classQList.html#a3a1e18c5fb9cc04324825a46540638c5">append</a>(<a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;text/plain&quot;</span>));</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <span class="comment">// special cases for uris</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <span class="keywordflow">if</span> (atomName == <a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;text/x-moz-url&quot;</span>))</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            formats.<a class="code" href="classQList.html#a3a1e18c5fb9cc04324825a46540638c5">append</a>(<a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;text/uri-list&quot;</span>));</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="comment">// special case for images</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <span class="keywordflow">if</span> (a == XA_PIXMAP)</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            formats.<a class="code" href="classQList.html#a3a1e18c5fb9cc04324825a46540638c5">append</a>(<a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;image/ppm&quot;</span>));</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    }</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">return</span> formats;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;}</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment">//$$$</span></div><div class="line"><a name="l00477"></a><span class="lineno"><a class="line" href="structQX11Data.html#a27fe769ac790b52de852e2c9b33dbc86">  477</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structQX11Data.html#a27fe769ac790b52de852e2c9b33dbc86">QX11Data::xdndMimeDataForAtom</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0">Atom</a> <a class="code" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a>, <a class="code" href="classQMimeData.html">QMimeData</a> *mimeData, <a class="code" href="classQByteArray.html">QByteArray</a> *<a class="code" href="classQWidget.html#a769d29a16df15e8e58f4db5ca80a22d2">data</a>, <a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0">Atom</a> *atomFormat, <span class="keywordtype">int</span> *dataFormat)</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;{</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordtype">bool</span> ret = <span class="keyword">false</span>;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    *atomFormat = <a class="code" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a>;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    *dataFormat = 8;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <a class="code" href="classQString.html">QString</a> atomName = xdndMimeAtomToString(a);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classQInternalMimeData.html#a09841a85697c7a9ab044f566d7377e78">QInternalMimeData::hasFormatHelper</a>(atomName, mimeData)) {</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        *data = <a class="code" href="classQInternalMimeData.html#a2190cd3d4a420a8d58d20d1966af74e2">QInternalMimeData::renderDataHelper</a>(atomName, mimeData);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="keywordflow">if</span> (atomName == <a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;application/x-color&quot;</span>))</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            *dataFormat = 16;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        ret = <span class="keyword">true</span>;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <span class="keywordflow">if</span> ((a == <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a84260203d33ec065d34e37977dd6ebca">UTF8_STRING</a>) || a == XA_STRING</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;             || a == <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="qquerytransformparser__p_8h.html#a15c9f7bd2f0e9686df5d9df4f3314aa9a9a4a47c1606e295076055a9cc4373197">TEXT</a>) || a == <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0af4c6552192d02cbde590bbe8eb8e4d21">COMPOUND_TEXT</a>))</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            &amp;&amp; <a class="code" href="classQInternalMimeData.html#a09841a85697c7a9ab044f566d7377e78">QInternalMimeData::hasFormatHelper</a>(<a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;text/plain&quot;</span>), mimeData)) {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            <span class="keywordflow">if</span> (a == <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a84260203d33ec065d34e37977dd6ebca">UTF8_STRING</a>)){</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                *data = <a class="code" href="classQInternalMimeData.html#a2190cd3d4a420a8d58d20d1966af74e2">QInternalMimeData::renderDataHelper</a>(<a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;text/plain&quot;</span>), mimeData);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                ret = <span class="keyword">true</span>;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a == XA_STRING) {</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                *data = <a class="code" href="classQString.html#ad7f4d0a383890ee85bcbfe7b2b7c7b4c">QString::fromUtf8</a>(<a class="code" href="classQInternalMimeData.html#a2190cd3d4a420a8d58d20d1966af74e2">QInternalMimeData::renderDataHelper</a>(</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                        <a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;text/plain&quot;</span>), mimeData)).<a class="code" href="classQString.html#a282eb69d4e17fc8d800e9d1f41320317">toLocal8Bit</a>();</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                ret = <span class="keyword">true</span>;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a == <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="qquerytransformparser__p_8h.html#a15c9f7bd2f0e9686df5d9df4f3314aa9a9a4a47c1606e295076055a9cc4373197">TEXT</a>) || a == <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0af4c6552192d02cbde590bbe8eb8e4d21">COMPOUND_TEXT</a>)) {</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                <span class="comment">// the ICCCM states that TEXT and COMPOUND_TEXT are in the</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                <span class="comment">// encoding of choice, so we choose the encoding of the locale</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                <a class="code" href="classQByteArray.html">QByteArray</a> strData = <a class="code" href="classQString.html#ad7f4d0a383890ee85bcbfe7b2b7c7b4c">QString::fromUtf8</a>(<a class="code" href="classQInternalMimeData.html#a2190cd3d4a420a8d58d20d1966af74e2">QInternalMimeData::renderDataHelper</a>(</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                                     <a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;text/plain&quot;</span>), mimeData)).<a class="code" href="classQString.html#a282eb69d4e17fc8d800e9d1f41320317">toLocal8Bit</a>();</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                <span class="keywordtype">char</span> *list[] = { strData.<a class="code" href="classQByteArray.html#a00805e2d9e3237e6c18b3d64859b2ef8">data</a>(), NULL };</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                XICCEncodingStyle <a class="code" href="classQWidget.html#ab3c8652aab5d16678c320906babff4f0">style</a> = (a == <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0af4c6552192d02cbde590bbe8eb8e4d21">COMPOUND_TEXT</a>))</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                                        ? XCompoundTextStyle : XStdICCTextStyle;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                XTextProperty textprop;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                <span class="keywordflow">if</span> (list[0] != NULL</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                    &amp;&amp; XmbTextListToTextProperty(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, list, 1, style,</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                                                 &amp;textprop) == <a class="code" href="qprinterinfo__unix__p_8h.html#a103e76ed4bd42f776f7f260080b98b3fafdfbdf3247bd36a1f17270d5cec74c9c">Success</a>) {</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                    *atomFormat = textprop.encoding;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                    *dataFormat = textprop.format;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                    *data = <a class="code" href="classQByteArray.html">QByteArray</a>((<span class="keyword">const</span> <span class="keywordtype">char</span> *) textprop.value, textprop.nitems * textprop.format / 8);</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                    ret = <span class="keyword">true</span>;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                    <a class="code" href="qdnd__x11_8cpp.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a>(<span class="stringliteral">&quot;    textprop type %lx\n&quot;</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                    <span class="stringliteral">&quot;    textprop name &#39;%s&#39;\n&quot;</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                    <span class="stringliteral">&quot;    format %d\n&quot;</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                    <span class="stringliteral">&quot;    %ld items\n&quot;</span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                    <span class="stringliteral">&quot;    %d bytes\n&quot;</span>,</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                    textprop.encoding,</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                    <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;xdndMimeAtomToString(textprop.encoding).toLatin1().data(),</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                    textprop.format, textprop.nitems, data-&gt;<a class="code" href="classQByteArray.html#a0cd331ee1b05147f3173fb85dfcd0ccd">size</a>());</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                    XFree(textprop.value);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                }</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            }</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (atomName == <a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;text/x-moz-url&quot;</span>) &amp;&amp;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                   <a class="code" href="classQInternalMimeData.html#a09841a85697c7a9ab044f566d7377e78">QInternalMimeData::hasFormatHelper</a>(<a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;text/uri-list&quot;</span>), mimeData)) {</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            <a class="code" href="classQByteArray.html">QByteArray</a> uri = <a class="code" href="classQInternalMimeData.html#a2190cd3d4a420a8d58d20d1966af74e2">QInternalMimeData::renderDataHelper</a>(</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                             <a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;text/uri-list&quot;</span>), mimeData).<a class="code" href="classQByteArray.html#a3fce1e24ee6588c76e611740faa2d0d0">split</a>(<span class="charliteral">&#39;\n&#39;</span>).<a class="code" href="classQList.html#a0d91b8dcfdf240b85c2349f339021cfa">first</a>();</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            <a class="code" href="classQString.html">QString</a> mozUri = <a class="code" href="classQString.html#a09b8b144ffd130ce7d065bacf7cd495e">QString::fromLatin1</a>(uri, uri.<a class="code" href="classQByteArray.html#a0cd331ee1b05147f3173fb85dfcd0ccd">size</a>());</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            mozUri += <a class="code" href="structQLatin1Char.html">QLatin1Char</a>(<span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            *data = <a class="code" href="classQByteArray.html">QByteArray</a>(reinterpret_cast&lt;const char *&gt;(mozUri.utf16()), mozUri.length() * 2);</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            ret = <span class="keyword">true</span>;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((a == XA_PIXMAP || a == XA_BITMAP) &amp;&amp; mimeData-&gt;<a class="code" href="classQMimeData.html#a4efd533f71b34ee99b7de866587fc288">hasImage</a>()) {</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            <a class="code" href="classQPixmap.html">QPixmap</a> pm = <a class="code" href="qvariant_8h.html#ab59931d305c140c85a357631116b0bd6">qvariant_cast</a>&lt;<a class="code" href="classQPixmap.html">QPixmap</a>&gt;(mimeData-&gt;<a class="code" href="classQMimeData.html#a2397679aeb504ec7ee22a86f00e87214">imageData</a>());</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            <span class="keywordflow">if</span> (a == XA_BITMAP &amp;&amp; pm.<a class="code" href="classQPixmap.html#a5e0b47c614484bae6b39faa1433cc38a">depth</a>() != 1) {</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                <a class="code" href="classQImage.html">QImage</a> img = pm.<a class="code" href="classQPixmap.html#a1f2750b6254847c94ef5d6213be342b7">toImage</a>();</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                img = img.<a class="code" href="classQImage.html#abb78d52192d06342711322505366f853">convertToFormat</a>(<a class="code" href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8da98e347315eedb7266c5cb9747043619c">QImage::Format_MonoLSB</a>);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                pm = <a class="code" href="classQPixmap.html#abe47634085ac138e8a93d76301686868">QPixmap::fromImage</a>(img);</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            }</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            <a class="code" href="classQDragManager.html">QDragManager</a> *dm = <a class="code" href="classQDragManager.html#ae9f511e9b0661bacc2d92c083e6e4c54">QDragManager::self</a>();</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            <span class="keywordflow">if</span> (dm) {</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                Pixmap handle = pm.<a class="code" href="classQPixmap.html#adaf609ccce0cd2bed5e8931f7a6e40bc">handle</a>();</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                *data = <a class="code" href="classQByteArray.html">QByteArray</a>((<span class="keyword">const</span> <span class="keywordtype">char</span> *) &amp;handle, <span class="keyword">sizeof</span>(Pixmap));</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                dm-&gt;<a class="code" href="classQDragManager.html#ab40191436b2ab5e2bb82cf9008791bbf">xdndMimeTransferedPixmap</a>[dm-&gt;<a class="code" href="classQDragManager.html#a4119d57d3c81cf90b6e15ce78ebfe55e">xdndMimeTransferedPixmapIndex</a>] = pm;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                dm-&gt;<a class="code" href="classQDragManager.html#a4119d57d3c81cf90b6e15ce78ebfe55e">xdndMimeTransferedPixmapIndex</a> =</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                            (dm-&gt;<a class="code" href="classQDragManager.html#a4119d57d3c81cf90b6e15ce78ebfe55e">xdndMimeTransferedPixmapIndex</a> + 1) % 2;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                ret = <span class="keyword">true</span>;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;            }</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            <a class="code" href="qdnd__x11_8cpp.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a>(<span class="stringliteral">&quot;QClipboard: xdndMimeDataForAtom(): converting to type &#39;%s&#39; is not supported&quot;</span>, <a class="code" href="qglobal_8h.html#a4dd4fa7aff72eb3d9d6317389456efb8">qPrintable</a>(atomName));</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        }</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    }</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="keywordflow">return</span> ret &amp;&amp; data != 0;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;}</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment">//$$$</span></div><div class="line"><a name="l00561"></a><span class="lineno"><a class="line" href="structQX11Data.html#a58cc764bf60eb4d09b4514b59fb53220">  561</a></span>&#160;<a class="code" href="classQList.html">QList&lt;Atom&gt;</a> <a class="code" href="structQX11Data.html#a58cc764bf60eb4d09b4514b59fb53220">QX11Data::xdndMimeAtomsForFormat</a>(<span class="keyword">const</span> <a class="code" href="classQString.html">QString</a> &amp;<a class="code" href="qprintengine__ps_8cpp.html#a387137c43ed9616d39ba90e890d181eb">format</a>)</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;{</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <a class="code" href="classQList.html">QList&lt;Atom&gt;</a> atoms;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    atoms.<a class="code" href="classQList.html#a3a1e18c5fb9cc04324825a46540638c5">append</a>(xdndMimeStringToAtom(format));</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="comment">// special cases for strings</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">if</span> (format == <a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;text/plain&quot;</span>)) {</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        atoms.<a class="code" href="classQList.html#a3a1e18c5fb9cc04324825a46540638c5">append</a>(<a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a84260203d33ec065d34e37977dd6ebca">UTF8_STRING</a>));</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        atoms.<a class="code" href="classQList.html#a3a1e18c5fb9cc04324825a46540638c5">append</a>(XA_STRING);</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        atoms.<a class="code" href="classQList.html#a3a1e18c5fb9cc04324825a46540638c5">append</a>(<a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="qquerytransformparser__p_8h.html#a15c9f7bd2f0e9686df5d9df4f3314aa9a9a4a47c1606e295076055a9cc4373197">TEXT</a>));</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        atoms.<a class="code" href="classQList.html#a3a1e18c5fb9cc04324825a46540638c5">append</a>(<a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0af4c6552192d02cbde590bbe8eb8e4d21">COMPOUND_TEXT</a>));</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    }</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="comment">// special cases for uris</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="keywordflow">if</span> (format == <a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;text/uri-list&quot;</span>)) {</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        atoms.<a class="code" href="classQList.html#a3a1e18c5fb9cc04324825a46540638c5">append</a>(xdndMimeStringToAtom(<a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;text/x-moz-url&quot;</span>)));</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    }</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="comment">//special cases for images</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="keywordflow">if</span> (format == <a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;image/ppm&quot;</span>))</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        atoms.<a class="code" href="classQList.html#a3a1e18c5fb9cc04324825a46540638c5">append</a>(XA_PIXMAP);</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordflow">if</span> (format == <a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;image/pbm&quot;</span>))</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        atoms.<a class="code" href="classQList.html#a3a1e18c5fb9cc04324825a46540638c5">append</a>(XA_BITMAP);</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keywordflow">return</span> atoms;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;}</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="comment">//$$$</span></div><div class="line"><a name="l00589"></a><span class="lineno"><a class="line" href="structQX11Data.html#af1abcc801a14201a5ba8edaaae5b8497">  589</a></span>&#160;<a class="code" href="classQVariant.html">QVariant</a> <a class="code" href="structQX11Data.html#af1abcc801a14201a5ba8edaaae5b8497">QX11Data::xdndMimeConvertToFormat</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0">Atom</a> <a class="code" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a>, <span class="keyword">const</span> <a class="code" href="classQByteArray.html">QByteArray</a> &amp;<a class="code" href="classQWidget.html#a769d29a16df15e8e58f4db5ca80a22d2">data</a>, <span class="keyword">const</span> <a class="code" href="classQString.html">QString</a> &amp;<a class="code" href="qprintengine__ps_8cpp.html#a387137c43ed9616d39ba90e890d181eb">format</a>, <a class="code" href="classQVariant.html#a8e1414f284ce72d9e6a85f2dcf80c754">QVariant::Type</a> requestedType, <span class="keyword">const</span> <a class="code" href="classQByteArray.html">QByteArray</a> &amp;encoding)</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;{</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <a class="code" href="classQString.html">QString</a> atomName = xdndMimeAtomToString(a);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordflow">if</span> (atomName == format)</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classQWidget.html#a769d29a16df15e8e58f4db5ca80a22d2">data</a>;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="keywordflow">if</span> (!encoding.<a class="code" href="classQByteArray.html#a060e3866557ed4b6d98984316f7d700e">isEmpty</a>()</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        &amp;&amp; atomName == format + <a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;;charset=&quot;</span>) + <a class="code" href="classQString.html#a09b8b144ffd130ce7d065bacf7cd495e">QString::fromLatin1</a>(encoding)) {</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <span class="keywordflow">if</span> (requestedType == <a class="code" href="classQVariant.html#a8e1414f284ce72d9e6a85f2dcf80c754a9022f746f3fd7dcdd7058f1aa794d53e">QVariant::String</a>) {</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;            <a class="code" href="classQTextCodec.html">QTextCodec</a> *<a class="code" href="qsql__mysql_8cpp.html#aaf0305045de524e9676dce48d1114671">codec</a> = <a class="code" href="classQTextCodec.html#aff592d5559a39bd5e22a104bb38c023b">QTextCodec::codecForName</a>(encoding);</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;            <span class="keywordflow">if</span> (codec)</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                <span class="keywordflow">return</span> codec-&gt;<a class="code" href="classQTextCodec.html#a1e26050752c19acb5b623109f301d3de">toUnicode</a>(data);</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        }</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classQWidget.html#a769d29a16df15e8e58f4db5ca80a22d2">data</a>;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    }</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="comment">// special cases for string types</span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keywordflow">if</span> (format == <a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;text/plain&quot;</span>)) {</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        <span class="keywordflow">if</span> (a == <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a84260203d33ec065d34e37977dd6ebca">UTF8_STRING</a>))</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classQString.html#ad7f4d0a383890ee85bcbfe7b2b7c7b4c">QString::fromUtf8</a>(data);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <span class="keywordflow">if</span> (a == XA_STRING)</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classQString.html#a09b8b144ffd130ce7d065bacf7cd495e">QString::fromLatin1</a>(data);</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        <span class="keywordflow">if</span> (a == <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="qquerytransformparser__p_8h.html#a15c9f7bd2f0e9686df5d9df4f3314aa9a9a4a47c1606e295076055a9cc4373197">TEXT</a>) || a == <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0af4c6552192d02cbde590bbe8eb8e4d21">COMPOUND_TEXT</a>))</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;            <span class="comment">// #### might be wrong for COMPUND_TEXT</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classQString.html#a804c9b75b66a1a97cdd3ef59e36b181e">QString::fromLocal8Bit</a>(data, data.<a class="code" href="classQByteArray.html#a0cd331ee1b05147f3173fb85dfcd0ccd">size</a>());</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    }</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="comment">// special case for uri types</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keywordflow">if</span> (format == <a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;text/uri-list&quot;</span>)) {</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <span class="keywordflow">if</span> (atomName == <a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;text/x-moz-url&quot;</span>)) {</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;            <span class="comment">// we expect this as utf16 &lt;url&gt;&lt;space&gt;&lt;title&gt;</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;            <span class="comment">// the first part is a url that should only contain ascci char</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;            <span class="comment">// so it should be safe to check that the second char is 0</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;            <span class="comment">// to verify that it is utf16</span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;            <span class="keywordflow">if</span> (data.<a class="code" href="classQByteArray.html#a0cd331ee1b05147f3173fb85dfcd0ccd">size</a>() &gt; 1 &amp;&amp; data.<a class="code" href="classQByteArray.html#a4f311b72dce2a8ffaf0f95a4ffb9d35c">at</a>(1) == 0)</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="classQString.html#afc533a1df85636044be06a14876728d0">QString::fromRawData</a>((<span class="keyword">const</span> <a class="code" href="classQChar.html">QChar</a> *)data.<a class="code" href="classQByteArray.html#adb3b4e935f60dd123b1b017894901937">constData</a>(),</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                                data.<a class="code" href="classQByteArray.html#a0cd331ee1b05147f3173fb85dfcd0ccd">size</a>() / 2).<a class="code" href="qrasterizer_8cpp.html#a2c47b422aa4364191cc6d560d7762cff">split</a>(<a class="code" href="structQLatin1Char.html">QLatin1Char</a>(<span class="charliteral">&#39;\n&#39;</span>)).first().toLatin1();</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        }</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    }</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="comment">// special cas for images</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="keywordflow">if</span> (format == <a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;image/ppm&quot;</span>)) {</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <span class="keywordflow">if</span> (a == XA_PIXMAP &amp;&amp; data.<a class="code" href="classQByteArray.html#a0cd331ee1b05147f3173fb85dfcd0ccd">size</a>() == <span class="keyword">sizeof</span>(Pixmap)) {</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            Pixmap xpm = *((Pixmap*)data.<a class="code" href="classQByteArray.html#a00805e2d9e3237e6c18b3d64859b2ef8">data</a>());</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            <span class="keywordflow">if</span> (!xpm)</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="classQByteArray.html">QByteArray</a>();</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            <a class="code" href="classQPixmap.html">QPixmap</a> qpm = QPixmap::fromX11Pixmap(xpm);</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            <a class="code" href="classQImageWriter.html">QImageWriter</a> imageWriter;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            imageWriter.<a class="code" href="classQImageWriter.html#ad882e8d151760418bf839c65db878a32">setFormat</a>(<span class="stringliteral">&quot;PPMRAW&quot;</span>);</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            <a class="code" href="classQImage.html">QImage</a> imageToWrite = qpm.<a class="code" href="classQPixmap.html#a1f2750b6254847c94ef5d6213be342b7">toImage</a>();</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            <a class="code" href="classQBuffer.html">QBuffer</a> buf;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            buf.<a class="code" href="classQBuffer.html#a4922fe3ebe8082870b09f19eb7d4b77d">open</a>(<a class="code" href="classQIODevice.html#af4c3367f5f33e4ae6d653d49e9f88d53af613ae41df167bfbdf5d1245ab1fc319">QIODevice::WriteOnly</a>);</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            imageWriter.<a class="code" href="classQImageWriter.html#a0e2ab0a427b63351543e90b119c2ec1c">setDevice</a>(&amp;buf);</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            imageWriter.<a class="code" href="classQImageWriter.html#a4402ac3ff5179d3df4a438d6d254f86c">write</a>(imageToWrite);</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            <span class="keywordflow">return</span> buf.<a class="code" href="classQBuffer.html#af028de62237d0683d23b455dc93e87cc">buffer</a>();</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        }</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    }</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classQVariant.html">QVariant</a>();</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;}</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="comment">//$$$ middle of xdndObtainData</span></div><div class="line"><a name="l00652"></a><span class="lineno"><a class="line" href="structQX11Data.html#a7fec1ac5b155b125130a6b6a0c9f5731">  652</a></span>&#160;<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0">Atom</a> <a class="code" href="structQX11Data.html#a7fec1ac5b155b125130a6b6a0c9f5731">QX11Data::xdndMimeAtomForFormat</a>(<span class="keyword">const</span> <a class="code" href="classQString.html">QString</a> &amp;<a class="code" href="qprintengine__ps_8cpp.html#a387137c43ed9616d39ba90e890d181eb">format</a>, <a class="code" href="classQVariant.html#a8e1414f284ce72d9e6a85f2dcf80c754">QVariant::Type</a> requestedType, <span class="keyword">const</span> <a class="code" href="classQList.html">QList&lt;Atom&gt;</a> &amp;atoms, <a class="code" href="classQByteArray.html">QByteArray</a> *encoding)</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;{</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    encoding-&gt;<a class="code" href="classQByteArray.html#acc20e3cb0ec9acda1bba58cfce3678b9">clear</a>();</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="comment">// find matches for string types</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="keywordflow">if</span> (format == <a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;text/plain&quot;</span>)) {</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        <span class="keywordflow">if</span> (atoms.<a class="code" href="classQList.html#a9d5b39a0a4ea141395a3d393a5f8cb18">contains</a>(<a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a84260203d33ec065d34e37977dd6ebca">UTF8_STRING</a>)))</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a84260203d33ec065d34e37977dd6ebca">UTF8_STRING</a>);</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        <span class="keywordflow">if</span> (atoms.<a class="code" href="classQList.html#a9d5b39a0a4ea141395a3d393a5f8cb18">contains</a>(<a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0af4c6552192d02cbde590bbe8eb8e4d21">COMPOUND_TEXT</a>)))</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0af4c6552192d02cbde590bbe8eb8e4d21">COMPOUND_TEXT</a>);</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        <span class="keywordflow">if</span> (atoms.<a class="code" href="classQList.html#a9d5b39a0a4ea141395a3d393a5f8cb18">contains</a>(<a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="qquerytransformparser__p_8h.html#a15c9f7bd2f0e9686df5d9df4f3314aa9a9a4a47c1606e295076055a9cc4373197">TEXT</a>)))</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="qquerytransformparser__p_8h.html#a15c9f7bd2f0e9686df5d9df4f3314aa9a9a4a47c1606e295076055a9cc4373197">TEXT</a>);</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <span class="keywordflow">if</span> (atoms.<a class="code" href="classQList.html#a9d5b39a0a4ea141395a3d393a5f8cb18">contains</a>(XA_STRING))</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;            <span class="keywordflow">return</span> XA_STRING;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    }</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="comment">// find matches for uri types</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordflow">if</span> (format == <a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;text/uri-list&quot;</span>)) {</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0">Atom</a> <a class="code" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a> = xdndMimeStringToAtom(format);</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        <span class="keywordflow">if</span> (a &amp;&amp; atoms.<a class="code" href="classQList.html#a9d5b39a0a4ea141395a3d393a5f8cb18">contains</a>(a))</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;            <span class="keywordflow">return</span> a;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        a = xdndMimeStringToAtom(<a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;text/x-moz-url&quot;</span>));</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <span class="keywordflow">if</span> (a &amp;&amp; atoms.<a class="code" href="classQList.html#a9d5b39a0a4ea141395a3d393a5f8cb18">contains</a>(a))</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;            <span class="keywordflow">return</span> a;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    }</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="comment">// find match for image</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="keywordflow">if</span> (format == <a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;image/ppm&quot;</span>)) {</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        <span class="keywordflow">if</span> (atoms.<a class="code" href="classQList.html#a9d5b39a0a4ea141395a3d393a5f8cb18">contains</a>(XA_PIXMAP))</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            <span class="keywordflow">return</span> XA_PIXMAP;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    }</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="comment">// for string/text requests try to use a format with a well-defined charset</span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="comment">// first to avoid encoding problems</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="keywordflow">if</span> (requestedType == <a class="code" href="classQVariant.html#a8e1414f284ce72d9e6a85f2dcf80c754a9022f746f3fd7dcdd7058f1aa794d53e">QVariant::String</a></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        &amp;&amp; format.<a class="code" href="classQString.html#a23d696df792149beab8d90125195cfee">startsWith</a>(<a class="code" href="classQLatin1String.html">QLatin1String</a>(<span class="stringliteral">&quot;text/&quot;</span>))</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        &amp;&amp; !format.<a class="code" href="classQString.html#aa723f6cd7a5d3f99182e6e73f86c94dd">contains</a>(<a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;charset=&quot;</span>))) {</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        <a class="code" href="classQString.html">QString</a> formatWithCharset = <a class="code" href="qprintengine__ps_8cpp.html#a387137c43ed9616d39ba90e890d181eb">format</a>;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        formatWithCharset.<a class="code" href="classQString.html#ac15050d5c0a530ac4caa6c564b3e5a6d">append</a>(<a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(<span class="stringliteral">&quot;;charset=utf-8&quot;</span>));</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        <a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0">Atom</a> <a class="code" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a> = xdndMimeStringToAtom(formatWithCharset);</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <span class="keywordflow">if</span> (a &amp;&amp; atoms.<a class="code" href="classQList.html#a9d5b39a0a4ea141395a3d393a5f8cb18">contains</a>(a)) {</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            *encoding = <span class="stringliteral">&quot;utf-8&quot;</span>;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a>;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        }</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    }</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0">Atom</a> <a class="code" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a> = xdndMimeStringToAtom(format);</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">if</span> (a &amp;&amp; atoms.<a class="code" href="classQList.html#a9d5b39a0a4ea141395a3d393a5f8cb18">contains</a>(a))</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <span class="keywordflow">return</span> a;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;}</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div><div class="line"><a name="l00707"></a><span class="lineno"><a class="line" href="structQX11Data.html#a0a7b8a17f50402ac258ca10f46b8732f">  707</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structQX11Data.html#a0a7b8a17f50402ac258ca10f46b8732f">QX11Data::xdndSetup</a>() {</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <a class="code" href="classQCursorData.html#adabd308f881bf1638448b7682a3d8ffb">QCursorData::initialize</a>();</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <a class="code" href="qcoreapplication_8cpp.html#a5cd2b8a6176e2d0c19c3d13ab8a22c81">qAddPostRoutine</a>(<a class="code" href="qdnd__x11_8cpp.html#a0cec5e911618a9b9d25b1fa5f73d8ae5">qt_xdnd_cleanup</a>);</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;}</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;</div><div class="line"><a name="l00713"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#a0cec5e911618a9b9d25b1fa5f73d8ae5">  713</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="qdnd__x11_8cpp.html#a0cec5e911618a9b9d25b1fa5f73d8ae5">qt_xdnd_cleanup</a>()</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;{</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keyword">delete</span> <a class="code" href="qdnd__x11_8cpp.html#a4f1a2125913fa11b8ed49b9e642872ed">noDropCursor</a>;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    noDropCursor = 0;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="keyword">delete</span> <a class="code" href="qdnd__x11_8cpp.html#a929168397c7c776a654bb63fe28ed39f">copyCursor</a>;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    copyCursor = 0;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="keyword">delete</span> <a class="code" href="qdnd__x11_8cpp.html#a2ccf1eada810bf9322438af000b3bd5c">moveCursor</a>;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    moveCursor = 0;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keyword">delete</span> <a class="code" href="qdnd__x11_8cpp.html#a056fdc81ae8e2fee63875f6ed073c70a">linkCursor</a>;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    linkCursor = 0;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="keyword">delete</span> <a class="code" href="qdnd__x11_8cpp.html#a89034fb525638a078aa8f951c422a4b1">defaultPm</a>;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    defaultPm = 0;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="keyword">delete</span> xdnd_data.<a class="code" href="structXdndData.html#a7768a80bf6d86278af9224b26b7de995">desktop_proxy</a>;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    xdnd_data.<a class="code" href="structXdndData.html#a7768a80bf6d86278af9224b26b7de995">desktop_proxy</a> = 0;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="keyword">delete</span> xdnd_data.<a class="code" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">deco</a>;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    xdnd_data.<a class="code" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">deco</a> = 0;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;}</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;</div><div class="line"><a name="l00732"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#aa110cb1c095d4551900a449c64d24424">  732</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classQWidget.html">QWidget</a> *<a class="code" href="qdnd__x11_8cpp.html#aa110cb1c095d4551900a449c64d24424">find_child</a>(<a class="code" href="classQWidget.html">QWidget</a> *tlw, <a class="code" href="classQPoint.html">QPoint</a> &amp; p)</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;{</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <a class="code" href="classQWidget.html">QWidget</a> *<a class="code" href="qapplication__mac_8mm.html#a1da84963114d4b55598eac347f3590de">widget</a> = tlw;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    p = widget-&gt;<a class="code" href="classQWidget.html#a36c4bbd73b9b4462035246533dd3dd77">mapFromGlobal</a>(p);</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="qfilesystemiterator__win_8cpp.html#a1d39aac66e12dae50a24cd7a9100ef33">done</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordflow">while</span> (!done) {</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        done = <span class="keyword">true</span>;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        <span class="keywordflow">if</span> (((<a class="code" href="classQExtraWidget.html">QExtraWidget</a>*)widget)-&gt;extraData() &amp;&amp;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;             ((<a class="code" href="classQExtraWidget.html">QExtraWidget</a>*)widget)-&gt;extraData()-&gt;xDndProxy != 0)</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;            <span class="keywordflow">break</span>; <span class="comment">// stop searching for widgets under the mouse cursor if found widget is a proxy.</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        <a class="code" href="classQList.html">QObjectList</a> <a class="code" href="classQObject.html#a308c498f61bb829dcfb5597935f0f8b6">children</a> = widget-&gt;<a class="code" href="classQObject.html#a308c498f61bb829dcfb5597935f0f8b6">children</a>();</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        <span class="keywordflow">if</span> (!children.<a class="code" href="classQList.html#ac273be8d520f0df354c17f126e9134f7">isEmpty</a>()) {</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = children.<a class="code" href="classQList.html#aa83cded751888bb21257cb4890652809">size</a>(); i &gt; 0;) {</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                --i;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                <a class="code" href="classQWidget.html">QWidget</a> *w = <a class="code" href="classQObject.html#a885122cb42fc5d786b25740fb1ff2c8e">qobject_cast</a>&lt;<a class="code" href="classQWidget.html">QWidget</a> *&gt;(children.<a class="code" href="classQList.html#ab32e1ab64b7837c2d0d7a89c4ca8d9c2">at</a>(i));</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                <span class="keywordflow">if</span> (!w)</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                <span class="keywordflow">if</span> (w-&gt;<a class="code" href="classQWidget.html#af45d2424e70bb04a0f5605defb1d3676">testAttribute</a>(<a class="code" href="namespaceQt.html#a290b49e92c89fec771e24612d766cdd9a16b4bd7c2155e14a5763cd8e218649e1">Qt::WA_TransparentForMouseEvents</a>))</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                <span class="keywordflow">if</span> (w-&gt;<a class="code" href="classQWidget.html#aef838e4f41c0ec315ffc19dc1cb931af">isVisible</a>() &amp;&amp;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                     w-&gt;<a class="code" href="classQWidget.html#a9d4bf781fa2c9acf742e08ce63b49790">geometry</a>().<a class="code" href="classQRect.html#a5600917ee06551e5315b1fe30961334f">contains</a>(p) &amp;&amp;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                     !w-&gt;<a class="code" href="classQWidget.html#ad3efa9e9b1d740f0d4f9a82fa84bc057">isWindow</a>()) {</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                    widget = w;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                    done = <span class="keyword">false</span>;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                    p = widget-&gt;<a class="code" href="classQWidget.html#a59e327b4d20368459a0f4195bf8bdd5c">mapFromParent</a>(p);</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                }</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;            }</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        }</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    }</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="qapplication__mac_8mm.html#a1da84963114d4b55598eac347f3590de">widget</a>;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;}</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;</div><div class="line"><a name="l00767"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#ac216787e26d6eecb07357c0ce4198872">  767</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="qdnd__x11_8cpp.html#ac216787e26d6eecb07357c0ce4198872">checkEmbedded</a>(<a class="code" href="classQWidget.html">QWidget</a>* w, <span class="keyword">const</span> <a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a>* xe)</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;{</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keywordflow">if</span> (!w)</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">if</span> (current_embedding_widget != 0 &amp;&amp; current_embedding_widget != w) {</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        <a class="code" href="qdnd__x11_8cpp.html#a5aa42095e78c73293ef0c77fab8c52e1">qt_xdnd_current_target</a> = ((<a class="code" href="classQExtraWidget.html">QExtraWidget</a>*)current_embedding_widget)-&gt;extraData()-&gt;xDndProxy;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        <a class="code" href="qdnd__x11_8cpp.html#a8c28975fcfa22adb03d40ca98695820b">qt_xdnd_current_proxy_target</a> = <a class="code" href="qdnd__x11_8cpp.html#a5aa42095e78c73293ef0c77fab8c52e1">qt_xdnd_current_target</a>;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        <a class="code" href="qdnd__x11_8cpp.html#ae998e95ec3a2ef2db6015516ad4b8a9f">qt_xdnd_send_leave</a>();</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        <a class="code" href="qdnd__x11_8cpp.html#a5aa42095e78c73293ef0c77fab8c52e1">qt_xdnd_current_target</a> = 0;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        <a class="code" href="qdnd__x11_8cpp.html#a8c28975fcfa22adb03d40ca98695820b">qt_xdnd_current_proxy_target</a> = 0;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        current_embedding_widget = 0;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    }</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <a class="code" href="structQWExtra.html">QWExtra</a>* extra = ((<a class="code" href="classQExtraWidget.html">QExtraWidget</a>*)w)-&gt;extraData();</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <span class="keywordflow">if</span> (extra &amp;&amp; extra-&gt;xDndProxy != 0) {</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        <span class="keywordflow">if</span> (current_embedding_widget != w) {</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            <a class="code" href="qdnd__x11_8cpp.html#afbdf264687c294a56fa0515b7b5273f9">last_enter_event</a>.xany.window = extra-&gt;xDndProxy;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;            XSendEvent(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, extra-&gt;xDndProxy, False, NoEventMask, &amp;<a class="code" href="qdnd__x11_8cpp.html#afbdf264687c294a56fa0515b7b5273f9">last_enter_event</a>);</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;            current_embedding_widget = w;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        }</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        ((<a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a>*)xe)-&gt;xany.<a class="code" href="classQWidget.html#a091bcfa8bfe3a48f45fda3c88de95935">window</a> = extra-&gt;xDndProxy;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        XSendEvent(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, extra-&gt;xDndProxy, False, NoEventMask, (<a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a>*)xe);</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        <span class="keywordflow">if</span> (qt_xdnd_current_widget != w) {</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;            qt_xdnd_current_widget = w;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        }</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    }</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    current_embedding_widget = 0;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;}</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div><div class="line"><a name="l00802"></a><span class="lineno"><a class="line" href="structQX11Data.html#a065919416648398180d490908f5033ac">  802</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structQX11Data.html#a065919416648398180d490908f5033ac">QX11Data::xdndHandleEnter</a>(<a class="code" href="classQWidget.html">QWidget</a> *, <span class="keyword">const</span> <a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a> * xe, <span class="keywordtype">bool</span> <span class="comment">/*passive*/</span>)</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;{</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    motifdnd_active = <span class="keyword">false</span>;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#afbdf264687c294a56fa0515b7b5273f9">last_enter_event</a>.xclient = xe-&gt;xclient;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">long</span> *<a class="code" href="qimagewriter_8cpp.html#a8dd48cb4bc7ae12584a6fde8950b1d12">l</a> = xe-&gt;xclient.data.l;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keywordtype">int</span> version = (int)(((<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)(l[1])) &gt;&gt; 24);</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="keywordflow">if</span> (version &gt; <a class="code" href="qdnd__x11_8cpp.html#a7e38f228d9017d8eac0d00bc8a588bbb">xdnd_version</a>)</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#a742ffc794232c5d5d81f60973f92b553">qt_xdnd_dragsource_xid</a> = l[0];</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="keywordtype">int</span> j = 0;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <span class="keywordflow">if</span> (l[1] &amp; 1) {</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        <span class="comment">// get the types from XdndTypeList</span></div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        <a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0">Atom</a>   <a class="code" href="qmetatype_8cpp.html#ac765329451135abec74c45e1897abf26">type</a> = <a class="code" href="qt__x11__p_8h.html#a08f51f22ad2ed13a25181c2604573110a74d8b25f4f670f3cbc937ed8cfe5b9ef">XNone</a>;</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        <span class="keywordtype">int</span> f;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> n, <a class="code" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a>;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *retval = 0;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        XGetWindowProperty(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, <a class="code" href="qdnd__x11_8cpp.html#a742ffc794232c5d5d81f60973f92b553">qt_xdnd_dragsource_xid</a>, <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0aeb1525c678d8420937668126fb9fe2a8">XdndTypelist</a>), 0,</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                           <a class="code" href="qdnd__x11_8cpp.html#ac1865ec497ac59aeb93786229eef74ed">qt_xdnd_max_type</a>, False, XA_ATOM, &amp;type, &amp;f,&amp;n,&amp;a,&amp;retval);</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        <span class="keywordflow">if</span> (retval) {</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            <a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0">Atom</a> *<a class="code" href="classQWidget.html#a769d29a16df15e8e58f4db5ca80a22d2">data</a> = (<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0">Atom</a> *)retval;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            <span class="keywordflow">for</span> (; j&lt;<a class="code" href="qdnd__x11_8cpp.html#ac1865ec497ac59aeb93786229eef74ed">qt_xdnd_max_type</a> &amp;&amp; j &lt; (int)n; j++) {</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                <a class="code" href="qdnd__x11_8cpp.html#aa03ed06ace217e538a6d2d46b67dc837">qt_xdnd_types</a>[j] = data[j];</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;            }</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;            XFree((<a class="code" href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*)data);</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        }</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        <span class="comment">// get the types from the message</span></div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        <span class="keywordflow">for</span>(i=2; i &lt; 5; i++) {</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;            <a class="code" href="qdnd__x11_8cpp.html#aa03ed06ace217e538a6d2d46b67dc837">qt_xdnd_types</a>[j++] = l[i];</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        }</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    }</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#aa03ed06ace217e538a6d2d46b67dc837">qt_xdnd_types</a>[j] = 0;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;}</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div><div class="line"><a name="l00842"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#ad8984f9a59189b89ebf8db8d50ca1f04">  842</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="qdnd__x11_8cpp.html#ad8984f9a59189b89ebf8db8d50ca1f04">handle_xdnd_position</a>(<a class="code" href="classQWidget.html">QWidget</a> *w, <span class="keyword">const</span> <a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a> * xe, <span class="keywordtype">bool</span> passive)</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;{</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *<a class="code" href="qimagewriter_8cpp.html#a8dd48cb4bc7ae12584a6fde8950b1d12">l</a> = (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *)xe-&gt;xclient.data.l;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <a class="code" href="classQPoint.html">QPoint</a> p((l[2] &amp; 0xffff0000) &gt;&gt; 16, l[2] &amp; 0x0000ffff);</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <a class="code" href="classQWidget.html">QWidget</a> * <a class="code" href="qnumeric__p_8h.html#aa8bc5d06b176e45541cdfaf9c2c9dfea">c</a> = <a class="code" href="qdnd__x11_8cpp.html#aa110cb1c095d4551900a449c64d24424">find_child</a>(w, p); <span class="comment">// changes p to to c-local coordinates</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keywordflow">if</span> (!passive &amp;&amp; <a class="code" href="qdnd__x11_8cpp.html#ac216787e26d6eecb07357c0ce4198872">checkEmbedded</a>(c, xe))</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="keywordflow">if</span> (!c || (!c-&gt;<a class="code" href="classQWidget.html#a0ed196e8e50ae08d7e1bf79ccfe5f1a4">acceptDrops</a>() &amp;&amp; (c-&gt;<a class="code" href="classQWidget.html#af32c7c4da65ba56211b84cab171ef969">windowType</a>() == <a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa07a5d1f8a9d05794167fa129b7fa45bb">Qt::Desktop</a>)))</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="keywordflow">if</span> (l[0] != <a class="code" href="qdnd__x11_8cpp.html#a742ffc794232c5d5d81f60973f92b553">qt_xdnd_dragsource_xid</a>) {</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        <a class="code" href="qdnd__x11_8cpp.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a>(<span class="stringliteral">&quot;xdnd drag position from unexpected source (%08lx not %08lx)&quot;</span>, l[0], <a class="code" href="qdnd__x11_8cpp.html#a742ffc794232c5d5d81f60973f92b553">qt_xdnd_dragsource_xid</a>);</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    }</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <span class="comment">// timestamp from the source</span></div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <span class="keywordflow">if</span> (l[3] != 0) {</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        <span class="comment">// Some X server/client combination swallow the first 32 bit and</span></div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        <span class="comment">// interpret a set bit 31 as negative sign.</span></div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        <a class="code" href="qdnd__x11_8cpp.html#ac8e78135032b3807882cc45e681fff7a">qt_xdnd_target_current_time</a> = <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;userTime =</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;            ((<span class="keyword">sizeof</span>(Time) == 8 &amp;&amp; xe-&gt;xclient.data.l[3] &lt; 0)</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;             ? <a class="code" href="qglobal_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>(l[3])</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;             : l[3]);</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    }</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <a class="code" href="classQDragManager.html">QDragManager</a> *manager = <a class="code" href="classQDragManager.html#ae9f511e9b0661bacc2d92c083e6e4c54">QDragManager::self</a>();</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <a class="code" href="classQMimeData.html">QMimeData</a> *dropData = manager-&gt;<a class="code" href="classQDragManager.html#acd7ace319521a145f84ea6ba8b5cf96c">object</a> ? manager-&gt;<a class="code" href="classQDragManager.html#a7791670fe9dc71bd07ba31b38725b6d4">dragPrivate</a>()-&gt;<a class="code" href="classQDragPrivate.html#aa2a36d0044e62f8f455e83c5719c815f">data</a> : manager-&gt;<a class="code" href="classQDragManager.html#ad837bc37bb8598ec11ca59711dbf7dac">dropData</a>;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    XClientMessageEvent response;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    response.type = ClientMessage;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    response.window = <a class="code" href="qdnd__x11_8cpp.html#a742ffc794232c5d5d81f60973f92b553">qt_xdnd_dragsource_xid</a>;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    response.format = 32;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    response.message_type = <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0af26a99fa88227677d646ddae4519168b">XdndStatus</a>);</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    response.data.l[0] = w-&gt;<a class="code" href="classQWidget.html#aa7fe0dd4e297bd72e03bae55067de79b">effectiveWinId</a>();</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    response.data.l[1] = 0; <span class="comment">// flags</span></div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    response.data.l[2] = 0; <span class="comment">// x, y</span></div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    response.data.l[3] = 0; <span class="comment">// w, h</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    response.data.l[4] = 0; <span class="comment">// action</span></div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="keywordflow">if</span> (!passive) { <span class="comment">// otherwise just reject</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        <span class="keywordflow">while</span> (c &amp;&amp; !c-&gt;<a class="code" href="classQWidget.html#a0ed196e8e50ae08d7e1bf79ccfe5f1a4">acceptDrops</a>() &amp;&amp; !c-&gt;<a class="code" href="classQWidget.html#ad3efa9e9b1d740f0d4f9a82fa84bc057">isWindow</a>()) {</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;            p = c-&gt;<a class="code" href="classQWidget.html#aa06544e9d32d8c39a5e9851c1ab67207">mapToParent</a>(p);</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;            c = c-&gt;<a class="code" href="classQWidget.html#acd566f3a8b3bf5518181475f153e9300">parentWidget</a>();</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        }</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        <a class="code" href="classQWidget.html">QWidget</a> *target_widget = c &amp;&amp; c-&gt;<a class="code" href="classQWidget.html#a0ed196e8e50ae08d7e1bf79ccfe5f1a4">acceptDrops</a>() ? <a class="code" href="qnumeric__p_8h.html#aa8bc5d06b176e45541cdfaf9c2c9dfea">c</a> : 0;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        <a class="code" href="classQRect.html">QRect</a> answerRect(c-&gt;<a class="code" href="classQWidget.html#a97f583490beed08725198bc764309540">mapToGlobal</a>(p), <a class="code" href="classQSize.html">QSize</a>(1,1));</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        <span class="keywordflow">if</span> (manager-&gt;<a class="code" href="classQDragManager.html#acd7ace319521a145f84ea6ba8b5cf96c">object</a>) {</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;            <a class="code" href="qdnd__x11_8cpp.html#a70e9226ee132bef518a50b37f92a78bb">possible_actions</a> = manager-&gt;<a class="code" href="classQDragManager.html#a7791670fe9dc71bd07ba31b38725b6d4">dragPrivate</a>()-&gt;<a class="code" href="classQDragPrivate.html#a4bdd0b50c32b4bae831e34dd25f784c1">possible_actions</a>;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;            <a class="code" href="qdnd__x11_8cpp.html#a70e9226ee132bef518a50b37f92a78bb">possible_actions</a> = Qt::DropActions(<a class="code" href="qdnd__x11_8cpp.html#a1e1564cfbfc21d249bcbb45b6ab3b496">xdndaction_to_qtaction</a>(l[4]));</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="comment">//             possible_actions |= Qt::CopyAction;</span></div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        }</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        <a class="code" href="classQDragMoveEvent.html">QDragMoveEvent</a> me(p, <a class="code" href="qdnd__x11_8cpp.html#a70e9226ee132bef518a50b37f92a78bb">possible_actions</a>, dropData, <a class="code" href="classQApplication.html#a8b283ab52de8a4fcca77b5d90301cabf">QApplication::mouseButtons</a>(), <a class="code" href="classQApplication.html#a8884026347297676505639ffac9269f6">QApplication::keyboardModifiers</a>());</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043">Qt::DropAction</a> accepted_action = <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043a7d5021238784afbb6b00e3cf8c45852d">Qt::IgnoreAction</a>;</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        <span class="keywordflow">if</span> (target_widget != qt_xdnd_current_widget) {</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;            <span class="keywordflow">if</span> (qt_xdnd_current_widget) {</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                <a class="code" href="classQDragLeaveEvent.html">QDragLeaveEvent</a> e;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                <a class="code" href="classQCoreApplication.html#a2760980ee2efec6b445854ce60771a3c">QApplication::sendEvent</a>(qt_xdnd_current_widget, &amp;e);</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;            }</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;            <span class="keywordflow">if</span> (qt_xdnd_current_widget != target_widget) {</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                qt_xdnd_current_widget = target_widget;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;            }</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;            <span class="keywordflow">if</span> (target_widget) {</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                qt_xdnd_current_position = p;</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                <a class="code" href="qdnd__x11_8cpp.html#a7410d5aab23150dd60ef40abcb6bca69">last_target_accepted_action</a> = <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043a7d5021238784afbb6b00e3cf8c45852d">Qt::IgnoreAction</a>;</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                <a class="code" href="classQDragEnterEvent.html">QDragEnterEvent</a> de(p, <a class="code" href="qdnd__x11_8cpp.html#a70e9226ee132bef518a50b37f92a78bb">possible_actions</a>, dropData, <a class="code" href="classQApplication.html#a8b283ab52de8a4fcca77b5d90301cabf">QApplication::mouseButtons</a>(), <a class="code" href="classQApplication.html#a8884026347297676505639ffac9269f6">QApplication::keyboardModifiers</a>());</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                <a class="code" href="classQCoreApplication.html#a2760980ee2efec6b445854ce60771a3c">QApplication::sendEvent</a>(target_widget, &amp;de);</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                <span class="keywordflow">if</span> (de.<a class="code" href="classQEvent.html#a72b2aa9f576d8670a11236f8e31ea9c5">isAccepted</a>() &amp;&amp; de.<a class="code" href="classQDropEvent.html#aa6075a744f177f890421733f16adcada">dropAction</a>() != <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043a7d5021238784afbb6b00e3cf8c45852d">Qt::IgnoreAction</a>)</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                    <a class="code" href="qdnd__x11_8cpp.html#a7410d5aab23150dd60ef40abcb6bca69">last_target_accepted_action</a> = de.<a class="code" href="classQDropEvent.html#aa6075a744f177f890421733f16adcada">dropAction</a>();</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;            }</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        }</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        <a class="code" href="qdnd__x11_8cpp.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a>() &lt;&lt; <span class="stringliteral">&quot;qt_handle_xdnd_position action=&quot;</span> &lt;&lt; <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;xdndAtomToString(l[4]);</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        <span class="keywordflow">if</span> (!target_widget) {</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;            answerRect = <a class="code" href="classQRect.html">QRect</a>(p, <a class="code" href="classQSize.html">QSize</a>(1, 1));</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;            qt_xdnd_current_widget = <a class="code" href="qnumeric__p_8h.html#aa8bc5d06b176e45541cdfaf9c2c9dfea">c</a>;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;            qt_xdnd_current_position = p;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="qdnd__x11_8cpp.html#a7410d5aab23150dd60ef40abcb6bca69">last_target_accepted_action</a> != <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043a7d5021238784afbb6b00e3cf8c45852d">Qt::IgnoreAction</a>) {</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                me.<a class="code" href="classQDropEvent.html#a45d10b342072d5c7401878fecb18fa5a">setDropAction</a>(<a class="code" href="qdnd__x11_8cpp.html#a7410d5aab23150dd60ef40abcb6bca69">last_target_accepted_action</a>);</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                me.<a class="code" href="classQDragMoveEvent.html#a573e117293ea0de5005e07208d1b41dd">accept</a>();</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;            }</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;            <a class="code" href="classQCoreApplication.html#a2760980ee2efec6b445854ce60771a3c">QApplication::sendEvent</a>(c, &amp;me);</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;            <span class="keywordflow">if</span> (me.<a class="code" href="classQEvent.html#a72b2aa9f576d8670a11236f8e31ea9c5">isAccepted</a>()) {</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                response.data.l[1] = 1; <span class="comment">// yes</span></div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                accepted_action = me.<a class="code" href="classQDropEvent.html#aa6075a744f177f890421733f16adcada">dropAction</a>();</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                <a class="code" href="qdnd__x11_8cpp.html#a7410d5aab23150dd60ef40abcb6bca69">last_target_accepted_action</a> = accepted_action;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                response.data.l[0] = 0;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                <a class="code" href="qdnd__x11_8cpp.html#a7410d5aab23150dd60ef40abcb6bca69">last_target_accepted_action</a> = <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043a7d5021238784afbb6b00e3cf8c45852d">Qt::IgnoreAction</a>;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;            }</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;            answerRect = me.<a class="code" href="classQDragMoveEvent.html#ab906a40bf4d6dbdb8c178425478a5666">answerRect</a>().<a class="code" href="classQRect.html#a7554a00cc9b55b53f8f276514a4c7949">intersected</a>(c-&gt;<a class="code" href="classQWidget.html#a6e1c763026a0f0e8d16f8133505d65fa">rect</a>());</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        }</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        answerRect = <a class="code" href="classQRect.html">QRect</a>(c-&gt;<a class="code" href="classQWidget.html#a97f583490beed08725198bc764309540">mapToGlobal</a>(answerRect.topLeft()), answerRect.size());</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        <span class="keywordflow">if</span> (answerRect.left() &lt; 0)</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;            answerRect.<a class="code" href="classQRect.html#a97f3a3bd2568697fcfb3830822a36dff">setLeft</a>(0);</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        <span class="keywordflow">if</span> (answerRect.right() &gt; 4096)</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;            answerRect.setRight(4096);</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        <span class="keywordflow">if</span> (answerRect.top() &lt; 0)</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;            answerRect.setTop(0);</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        <span class="keywordflow">if</span> (answerRect.bottom() &gt; 4096)</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;            answerRect.setBottom(4096);</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        <span class="keywordflow">if</span> (answerRect.width() &lt; 0)</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;            answerRect.setWidth(0);</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        <span class="keywordflow">if</span> (answerRect.height() &lt; 0)</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;            answerRect.setHeight(0);</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        response.data.l[2] = (answerRect.x() &lt;&lt; 16) + answerRect.y();</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        response.data.l[3] = (answerRect.width() &lt;&lt; 16) + answerRect.height();</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;        response.data.l[4] = <a class="code" href="qdnd__x11_8cpp.html#a94efadfc543c931e7d4bbb6eaea29c22">qtaction_to_xdndaction</a>(accepted_action);</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    }</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <span class="comment">// reset</span></div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#ac8e78135032b3807882cc45e681fff7a">qt_xdnd_target_current_time</a> = CurrentTime;</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <a class="code" href="classQWidget.html">QWidget</a> * source = <a class="code" href="classQWidget.html#a6a8da0b20b1f77c71a275c8abaa1569f">QWidget::find</a>(<a class="code" href="qdnd__x11_8cpp.html#a742ffc794232c5d5d81f60973f92b553">qt_xdnd_dragsource_xid</a>);</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <span class="keywordflow">if</span> (source &amp;&amp; (source-&gt;<a class="code" href="classQWidget.html#af32c7c4da65ba56211b84cab171ef969">windowType</a>() == <a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa07a5d1f8a9d05794167fa129b7fa45bb">Qt::Desktop</a>) &amp;&amp; !source-&gt;<a class="code" href="classQWidget.html#a0ed196e8e50ae08d7e1bf79ccfe5f1a4">acceptDrops</a>())</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        source = 0;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a>() &lt;&lt; <span class="stringliteral">&quot;sending XdndStatus&quot;</span>;</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    <span class="keywordflow">if</span> (source)</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        <a class="code" href="qdnd__x11_8cpp.html#aac97899b9cf5efdff67780c3ab1c289e">handle_xdnd_status</a>(source, (<span class="keyword">const</span> <a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a> *)&amp;response, passive);</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        XSendEvent(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, <a class="code" href="qdnd__x11_8cpp.html#a742ffc794232c5d5d81f60973f92b553">qt_xdnd_dragsource_xid</a>, False, NoEventMask, (<a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a>*)&amp;response);</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;}</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;</div><div class="line"><a name="l00979"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#ac429178f72a6750ff52a7719c1c33a78">  979</a></span>&#160;<span class="keyword">static</span> Bool <a class="code" href="qdnd__x11_8cpp.html#ac429178f72a6750ff52a7719c1c33a78">xdnd_position_scanner</a>(<a class="code" href="qwindowdefs_8h.html#a8eac9cd918bbb974619385adffa7c81b">Display</a> *, <a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a> *<a class="code" href="classQWidget.html#a3fba29c95a28e9aa28272c9b86474b9b">event</a>, <a class="code" href="qt__x11__p_8h.html#a4a246073c2fdc203041c7ae5348324e1">XPointer</a>)</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;{</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <span class="keywordflow">if</span> (event-&gt;type != ClientMessage)</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    XClientMessageEvent *ev = &amp;<span class="keyword">event</span>-&gt;xclient;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <span class="keywordflow">if</span> (ev-&gt;message_type == <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a4d45ff052b5c8407f9914d9550777780">XdndPosition</a>))</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;}</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;</div><div class="line"><a name="l00991"></a><span class="lineno"><a class="line" href="structQX11Data.html#abb3103e31d33374e6f9f0793f466d611">  991</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structQX11Data.html#abb3103e31d33374e6f9f0793f466d611">QX11Data::xdndHandlePosition</a>(<a class="code" href="classQWidget.html">QWidget</a> * w, <span class="keyword">const</span> <a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a> * xe, <span class="keywordtype">bool</span> passive)</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;{</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a>(<span class="stringliteral">&quot;xdndHandlePosition&quot;</span>);</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <span class="keywordflow">while</span> (XCheckIfEvent(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, (<a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a> *)xe, <a class="code" href="qdnd__x11_8cpp.html#ac429178f72a6750ff52a7719c1c33a78">xdnd_position_scanner</a>, 0))</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        ;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#ad8984f9a59189b89ebf8db8d50ca1f04">handle_xdnd_position</a>(w, xe, passive);</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;}</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;</div><div class="line"><a name="l01001"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#aac97899b9cf5efdff67780c3ab1c289e"> 1001</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="qdnd__x11_8cpp.html#aac97899b9cf5efdff67780c3ab1c289e">handle_xdnd_status</a>(<a class="code" href="classQWidget.html">QWidget</a> *, <span class="keyword">const</span> <a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a> * xe, <span class="keywordtype">bool</span>)</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;{</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *<a class="code" href="qimagewriter_8cpp.html#a8dd48cb4bc7ae12584a6fde8950b1d12">l</a> = (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *)xe-&gt;xclient.data.l;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <span class="comment">// ignore late status messages</span></div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <a class="code" href="qcocoasharedwindowmethods__mac__p_8h.html#a4bcf1ca8433d12097b8bbf9e3d75c334">if</a> (l[0] &amp;&amp; l[0] != <a class="code" href="qdnd__x11_8cpp.html#a8c28975fcfa22adb03d40ca98695820b">qt_xdnd_current_proxy_target</a>)</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043">Qt::DropAction</a> newAction = (l[1] &amp; 0x1) ? <a class="code" href="qdnd__x11_8cpp.html#a1e1564cfbfc21d249bcbb45b6ab3b496">xdndaction_to_qtaction</a>(l[4]) : <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043a7d5021238784afbb6b00e3cf8c45852d">Qt::IgnoreAction</a>;</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)(l[1] &amp; 2) == 0) {</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        <a class="code" href="classQPoint.html">QPoint</a> p((l[2] &amp; 0xffff0000) &gt;&gt; 16, l[2] &amp; 0x0000ffff);</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        <a class="code" href="classQSize.html">QSize</a> s((l[3] &amp; 0xffff0000) &gt;&gt; 16, l[3] &amp; 0x0000ffff);</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        qt_xdnd_source_sameanswer = <a class="code" href="classQRect.html">QRect</a>(p, s);</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        qt_xdnd_source_sameanswer = <a class="code" href="classQRect.html">QRect</a>();</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    }</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <a class="code" href="classQDragManager.html">QDragManager</a> *manager = <a class="code" href="classQDragManager.html#ae9f511e9b0661bacc2d92c083e6e4c54">QDragManager::self</a>();</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    manager-&gt;<a class="code" href="classQDragManager.html#a25ed32290b7de4688958ea8a348edf26">willDrop</a> = (l[1] &amp; 0x1);</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="qdnd__x11_8cpp.html#ae70ae4f55a56c90e0996e83771b510c6">global_accepted_action</a> != newAction)</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        manager-&gt;<a class="code" href="classQDragManager.html#a20408e162081e26caa157ba2c19d6884">emitActionChanged</a>(newAction);</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#ae70ae4f55a56c90e0996e83771b510c6">global_accepted_action</a> = newAction;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    manager-&gt;<a class="code" href="classQDragManager.html#a69c0d745f3597d5f7ab15938c74b3d98">updateCursor</a>();</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#a52776efd87119f73f96ac0ff87bd4178">waiting_for_status</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;}</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;</div><div class="line"><a name="l01025"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#a4721382e8b07f6f7a36fc4eebb79bbb4"> 1025</a></span>&#160;<span class="keyword">static</span> Bool <a class="code" href="qdnd__x11_8cpp.html#a4721382e8b07f6f7a36fc4eebb79bbb4">xdnd_status_scanner</a>(<a class="code" href="qwindowdefs_8h.html#a8eac9cd918bbb974619385adffa7c81b">Display</a> *, <a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a> *<a class="code" href="classQWidget.html#a3fba29c95a28e9aa28272c9b86474b9b">event</a>, <a class="code" href="qt__x11__p_8h.html#a4a246073c2fdc203041c7ae5348324e1">XPointer</a>)</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;{</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    <span class="keywordflow">if</span> (event-&gt;type != ClientMessage)</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    XClientMessageEvent *ev = &amp;<span class="keyword">event</span>-&gt;xclient;</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <span class="keywordflow">if</span> (ev-&gt;message_type == <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0af26a99fa88227677d646ddae4519168b">XdndStatus</a>))</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;}</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;</div><div class="line"><a name="l01037"></a><span class="lineno"><a class="line" href="structQX11Data.html#a26b4e2aeb4fe6b588489de2f3ccd8e9a"> 1037</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structQX11Data.html#a26b4e2aeb4fe6b588489de2f3ccd8e9a">QX11Data::xdndHandleStatus</a>(<a class="code" href="classQWidget.html">QWidget</a> * w, <span class="keyword">const</span> <a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a> * xe, <span class="keywordtype">bool</span> passive)</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;{</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a>(<span class="stringliteral">&quot;xdndHandleStatus&quot;</span>);</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <span class="keywordflow">while</span> (XCheckIfEvent(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, (<a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a> *)xe, <a class="code" href="qdnd__x11_8cpp.html#a4721382e8b07f6f7a36fc4eebb79bbb4">xdnd_status_scanner</a>, 0))</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        ;</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#aac97899b9cf5efdff67780c3ab1c289e">handle_xdnd_status</a>(w, xe, passive);</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a>(<span class="stringliteral">&quot;xdndHandleStatus end&quot;</span>);</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;}</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;</div><div class="line"><a name="l01047"></a><span class="lineno"><a class="line" href="structQX11Data.html#af5527efb9728d254734514648af03d60"> 1047</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structQX11Data.html#af5527efb9728d254734514648af03d60">QX11Data::xdndHandleLeave</a>(<a class="code" href="classQWidget.html">QWidget</a> *w, <span class="keyword">const</span> <a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a> * xe, <span class="keywordtype">bool</span> <span class="comment">/*passive*/</span>)</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;{</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a>(<span class="stringliteral">&quot;xdnd leave&quot;</span>);</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <span class="keywordflow">if</span> (!qt_xdnd_current_widget ||</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;         w-&gt;<a class="code" href="classQWidget.html#a091bcfa8bfe3a48f45fda3c88de95935">window</a>() != qt_xdnd_current_widget-&gt;<a class="code" href="classQWidget.html#a091bcfa8bfe3a48f45fda3c88de95935">window</a>()) {</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;        <span class="keywordflow">return</span>; <span class="comment">// sanity</span></div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    }</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="qdnd__x11_8cpp.html#ac216787e26d6eecb07357c0ce4198872">checkEmbedded</a>(current_embedding_widget, xe)) {</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        current_embedding_widget = 0;</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        qt_xdnd_current_widget = 0;</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    }</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *<a class="code" href="qimagewriter_8cpp.html#a8dd48cb4bc7ae12584a6fde8950b1d12">l</a> = (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *)xe-&gt;xclient.data.l;</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <a class="code" href="classQDragLeaveEvent.html">QDragLeaveEvent</a> e;</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <a class="code" href="classQCoreApplication.html#a2760980ee2efec6b445854ce60771a3c">QApplication::sendEvent</a>(qt_xdnd_current_widget, &amp;e);</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <span class="keywordflow">if</span> (l[0] != <a class="code" href="qdnd__x11_8cpp.html#a742ffc794232c5d5d81f60973f92b553">qt_xdnd_dragsource_xid</a>) {</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        <span class="comment">// This often happens - leave other-process window quickly</span></div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        <a class="code" href="qdnd__x11_8cpp.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a>(<span class="stringliteral">&quot;xdnd drag leave from unexpected source (%08lx not %08lx&quot;</span>, l[0], <a class="code" href="qdnd__x11_8cpp.html#a742ffc794232c5d5d81f60973f92b553">qt_xdnd_dragsource_xid</a>);</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        qt_xdnd_current_widget = 0;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    }</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#a742ffc794232c5d5d81f60973f92b553">qt_xdnd_dragsource_xid</a> = 0;</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#aa03ed06ace217e538a6d2d46b67dc837">qt_xdnd_types</a>[0] = 0;</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    qt_xdnd_current_widget = 0;</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;}</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;</div><div class="line"><a name="l01079"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#ae998e95ec3a2ef2db6015516ad4b8a9f"> 1079</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="qdnd__x11_8cpp.html#ae998e95ec3a2ef2db6015516ad4b8a9f">qt_xdnd_send_leave</a>()</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;{</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="qdnd__x11_8cpp.html#a5aa42095e78c73293ef0c77fab8c52e1">qt_xdnd_current_target</a>)</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <a class="code" href="classQDragManager.html">QDragManager</a> *manager = <a class="code" href="classQDragManager.html#ae9f511e9b0661bacc2d92c083e6e4c54">QDragManager::self</a>();</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    XClientMessageEvent leave;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    leave.type = ClientMessage;</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    leave.window = <a class="code" href="qdnd__x11_8cpp.html#a5aa42095e78c73293ef0c77fab8c52e1">qt_xdnd_current_target</a>;</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    leave.format = 32;</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    leave.message_type = <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a9b3c3eaa6596a652e3e6dcb5f5656b6a">XdndLeave</a>);</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    leave.data.l[0] = manager-&gt;<a class="code" href="classQDragManager.html#a7791670fe9dc71bd07ba31b38725b6d4">dragPrivate</a>()-&gt;<a class="code" href="classQDragPrivate.html#a6b039fec6b634544fca4947f7b8355a8">source</a>-&gt;<a class="code" href="classQWidget.html#aa7fe0dd4e297bd72e03bae55067de79b">effectiveWinId</a>();</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    leave.data.l[1] = 0; <span class="comment">// flags</span></div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    leave.data.l[2] = 0; <span class="comment">// x, y</span></div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    leave.data.l[3] = 0; <span class="comment">// w, h</span></div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    leave.data.l[4] = 0; <span class="comment">// just null</span></div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <a class="code" href="classQWidget.html">QWidget</a> * w = <a class="code" href="classQWidget.html#a6a8da0b20b1f77c71a275c8abaa1569f">QWidget::find</a>(<a class="code" href="qdnd__x11_8cpp.html#a8c28975fcfa22adb03d40ca98695820b">qt_xdnd_current_proxy_target</a>);</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="keywordflow">if</span> (w &amp;&amp; (w-&gt;<a class="code" href="classQWidget.html#af32c7c4da65ba56211b84cab171ef969">windowType</a>() == <a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa07a5d1f8a9d05794167fa129b7fa45bb">Qt::Desktop</a>) &amp;&amp; !w-&gt;<a class="code" href="classQWidget.html#a0ed196e8e50ae08d7e1bf79ccfe5f1a4">acceptDrops</a>())</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        w = 0;</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="keywordflow">if</span> (w)</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;xdndHandleLeave(w, (<span class="keyword">const</span> <a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a> *)&amp;leave, <span class="keyword">false</span>);</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        XSendEvent(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, <a class="code" href="qdnd__x11_8cpp.html#a8c28975fcfa22adb03d40ca98695820b">qt_xdnd_current_proxy_target</a>, False,</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;                    NoEventMask, (<a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a>*)&amp;leave);</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <span class="comment">// reset the drag manager state</span></div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    manager-&gt;<a class="code" href="classQDragManager.html#a25ed32290b7de4688958ea8a348edf26">willDrop</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="qdnd__x11_8cpp.html#ae70ae4f55a56c90e0996e83771b510c6">global_accepted_action</a> != <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043a7d5021238784afbb6b00e3cf8c45852d">Qt::IgnoreAction</a>)</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        manager-&gt;<a class="code" href="classQDragManager.html#a20408e162081e26caa157ba2c19d6884">emitActionChanged</a>(<a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043a7d5021238784afbb6b00e3cf8c45852d">Qt::IgnoreAction</a>);</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#ae70ae4f55a56c90e0996e83771b510c6">global_accepted_action</a> = <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043a7d5021238784afbb6b00e3cf8c45852d">Qt::IgnoreAction</a>;</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    manager-&gt;<a class="code" href="classQDragManager.html#a69c0d745f3597d5f7ab15938c74b3d98">updateCursor</a>();</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#a5aa42095e78c73293ef0c77fab8c52e1">qt_xdnd_current_target</a> = 0;</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#a8c28975fcfa22adb03d40ca98695820b">qt_xdnd_current_proxy_target</a> = 0;</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#a45e6047b4a0f6f30880a9c94c838451b">qt_xdnd_source_current_time</a> = 0;</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#a52776efd87119f73f96ac0ff87bd4178">waiting_for_status</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;}</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;</div><div class="line"><a name="l01120"></a><span class="lineno"><a class="line" href="structQX11Data.html#adfe75ebf3b8639425be3afe33e6ef545"> 1120</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structQX11Data.html#adfe75ebf3b8639425be3afe33e6ef545">QX11Data::xdndHandleDrop</a>(<a class="code" href="classQWidget.html">QWidget</a> *, <span class="keyword">const</span> <a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a> * xe, <span class="keywordtype">bool</span> passive)</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;{</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a>(<span class="stringliteral">&quot;xdndHandleDrop&quot;</span>);</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <span class="keywordflow">if</span> (!qt_xdnd_current_widget) {</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        <a class="code" href="qdnd__x11_8cpp.html#a742ffc794232c5d5d81f60973f92b553">qt_xdnd_dragsource_xid</a> = 0;</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        <span class="keywordflow">return</span>; <span class="comment">// sanity</span></div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    }</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="keywordflow">if</span> (!passive &amp;&amp; <a class="code" href="qdnd__x11_8cpp.html#ac216787e26d6eecb07357c0ce4198872">checkEmbedded</a>(qt_xdnd_current_widget, xe)){</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        current_embedding_widget = 0;</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        <a class="code" href="qdnd__x11_8cpp.html#a742ffc794232c5d5d81f60973f92b553">qt_xdnd_dragsource_xid</a> = 0;</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        qt_xdnd_current_widget = 0;</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    }</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *<a class="code" href="qimagewriter_8cpp.html#a8dd48cb4bc7ae12584a6fde8950b1d12">l</a> = (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *)xe-&gt;xclient.data.l;</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <a class="code" href="classQDragManager.html">QDragManager</a> *manager = <a class="code" href="classQDragManager.html#ae9f511e9b0661bacc2d92c083e6e4c54">QDragManager::self</a>();</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a>(<span class="stringliteral">&quot;xdnd drop&quot;</span>);</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    <span class="keywordflow">if</span> (l[0] != <a class="code" href="qdnd__x11_8cpp.html#a742ffc794232c5d5d81f60973f92b553">qt_xdnd_dragsource_xid</a>) {</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;        <a class="code" href="qdnd__x11_8cpp.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a>(<span class="stringliteral">&quot;xdnd drop from unexpected source (%08lx not %08lx&quot;</span>, l[0], <a class="code" href="qdnd__x11_8cpp.html#a742ffc794232c5d5d81f60973f92b553">qt_xdnd_dragsource_xid</a>);</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    }</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    <span class="comment">// update the &quot;user time&quot; from the timestamp in the event.</span></div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <span class="keywordflow">if</span> (l[2] != 0) {</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        <span class="comment">// Some X server/client combination swallow the first 32 bit and</span></div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        <span class="comment">// interpret a set bit 31 as negative sign.</span></div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        <a class="code" href="qdnd__x11_8cpp.html#ac8e78135032b3807882cc45e681fff7a">qt_xdnd_target_current_time</a> = <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;userTime =</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;            ((<span class="keyword">sizeof</span>(Time) == 8 &amp;&amp; xe-&gt;xclient.data.l[2] &lt; 0)</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;             ? <a class="code" href="qglobal_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>(l[2])</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;             :  l[2]);</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    }</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="keywordflow">if</span> (!passive) {</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        <span class="comment">// this could be a same-application drop, just proxied due to</span></div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;        <span class="comment">// some XEMBEDding, so try to find the real QMimeData used</span></div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        <span class="comment">// based on the timestamp for this drop.</span></div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        <a class="code" href="classQMimeData.html">QMimeData</a> *dropData = 0;</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="qbuiltintypes_8cpp.html#abc44de815465f08d372c4796f0b134dc">at</a> = <a class="code" href="qdnd__x11_8cpp.html#a87738c5c7607253b05f2bd85d5df82bc">findXdndDropTransactionByTime</a>(<a class="code" href="qdnd__x11_8cpp.html#ac8e78135032b3807882cc45e681fff7a">qt_xdnd_target_current_time</a>);</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;        <span class="keywordflow">if</span> (at != -1) {</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;            dropData = <a class="code" href="classQDragManager.html#a7791670fe9dc71bd07ba31b38725b6d4">QDragManager::dragPrivate</a>(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;dndDropTransactions.at(at).object)-&gt;<a class="code" href="classQWidget.html#a769d29a16df15e8e58f4db5ca80a22d2">data</a>;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;            <span class="comment">// Can&#39;t use the source QMimeData if we need the image conversion code from xdndObtainData</span></div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;            <span class="keywordflow">if</span> (dropData &amp;&amp; dropData-&gt;<a class="code" href="classQMimeData.html#a4efd533f71b34ee99b7de866587fc288">hasImage</a>())</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;                dropData = 0;</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;        }</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;        <span class="comment">// if we can&#39;t find it, then use the data in the drag manager</span></div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;        <span class="keywordflow">if</span> (!dropData) {</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;            <span class="keywordflow">if</span> (manager-&gt;object &amp;&amp; !manager-&gt;dragPrivate()-&gt;data-&gt;hasImage())</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                dropData = manager-&gt;dragPrivate()-&gt;<a class="code" href="classQMimeData.html#aca26a96c25e67f7e4907a0067978fec5">data</a>;</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                dropData = manager-&gt;dropData;</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;        }</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;        <span class="comment">// Drop coming from another app? Update keyboard modifiers.</span></div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="qdnd__x11_8cpp.html#aa93146a4c3cf68369120db33b57a4dcb">qt_xdnd_dragging</a>) {</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;            <a class="code" href="classQApplicationPrivate.html#a7e39c23d45bf420c87e3aa6220f529e0">QApplicationPrivate::modifier_buttons</a> = <a class="code" href="classQApplication.html#af7820a490eac0d1beef71de9cda1a70c">QApplication::queryKeyboardModifiers</a>();</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;        }</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;        <a class="code" href="classQDropEvent.html">QDropEvent</a> de(qt_xdnd_current_position, <a class="code" href="qdnd__x11_8cpp.html#a70e9226ee132bef518a50b37f92a78bb">possible_actions</a>, dropData,</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;                      <a class="code" href="classQApplication.html#a8b283ab52de8a4fcca77b5d90301cabf">QApplication::mouseButtons</a>(), <a class="code" href="classQApplication.html#a8884026347297676505639ffac9269f6">QApplication::keyboardModifiers</a>());</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        <a class="code" href="classQCoreApplication.html#a2760980ee2efec6b445854ce60771a3c">QApplication::sendEvent</a>(qt_xdnd_current_widget, &amp;de);</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;        <span class="keywordflow">if</span> (!de.<a class="code" href="classQEvent.html#a72b2aa9f576d8670a11236f8e31ea9c5">isAccepted</a>()) {</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;            <span class="comment">// Ignore a failed drag</span></div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;            <a class="code" href="qdnd__x11_8cpp.html#ae70ae4f55a56c90e0996e83771b510c6">global_accepted_action</a> = <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043a7d5021238784afbb6b00e3cf8c45852d">Qt::IgnoreAction</a>;</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;            <a class="code" href="qdnd__x11_8cpp.html#ae70ae4f55a56c90e0996e83771b510c6">global_accepted_action</a> = de.<a class="code" href="classQDropEvent.html#aa6075a744f177f890421733f16adcada">dropAction</a>();</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;        }</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;        XClientMessageEvent finished;</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        finished.type = ClientMessage;</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;        finished.window = <a class="code" href="qdnd__x11_8cpp.html#a742ffc794232c5d5d81f60973f92b553">qt_xdnd_dragsource_xid</a>;</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;        finished.format = 32;</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        finished.message_type = <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a50f4908b0d7d3660b933175f58a56629">XdndFinished</a>);</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;        <a class="code" href="qdnd__x11_8cpp.html#ab36302516875c631cd76a0642298594e">DNDDEBUG</a> &lt;&lt; <span class="stringliteral">&quot;xdndHandleDrop&quot;</span></div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;qt_xdnd_current_widget&quot;</span> &lt;&lt; qt_xdnd_current_widget</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;             &lt;&lt; (qt_xdnd_current_widget ? qt_xdnd_current_widget-&gt;<a class="code" href="classQWidget.html#aa7fe0dd4e297bd72e03bae55067de79b">effectiveWinId</a>() : 0)</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;t_xdnd_current_widget-&gt;window()&quot;</span></div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;             &lt;&lt; (qt_xdnd_current_widget ? qt_xdnd_current_widget-&gt;<a class="code" href="classQWidget.html#a091bcfa8bfe3a48f45fda3c88de95935">window</a>() : 0)</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;             &lt;&lt; (qt_xdnd_current_widget ? qt_xdnd_current_widget-&gt;<a class="code" href="classQWidget.html#a091bcfa8bfe3a48f45fda3c88de95935">window</a>()-&gt;<a class="code" href="classQWidget.html#a0c197484aa97e41f326f39313895b155">internalWinId</a>() : 0);</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;        finished.<a class="code" href="classQPointer.html#aa4403941672e831992524989ca534c68">data</a>.l[0] = qt_xdnd_current_widget?qt_xdnd_current_widget-&gt;<a class="code" href="classQWidget.html#a091bcfa8bfe3a48f45fda3c88de95935">window</a>()-&gt;<a class="code" href="classQWidget.html#a0c197484aa97e41f326f39313895b155">internalWinId</a>():0;</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;        finished.data.l[1] = de.<a class="code" href="classQEvent.html#a72b2aa9f576d8670a11236f8e31ea9c5">isAccepted</a>() ? 1 : 0; <span class="comment">// flags</span></div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        finished.data.l[2] = <a class="code" href="qdnd__x11_8cpp.html#a94efadfc543c931e7d4bbb6eaea29c22">qtaction_to_xdndaction</a>(<a class="code" href="qdnd__x11_8cpp.html#ae70ae4f55a56c90e0996e83771b510c6">global_accepted_action</a>);</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        XSendEvent(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, <a class="code" href="qdnd__x11_8cpp.html#a742ffc794232c5d5d81f60973f92b553">qt_xdnd_dragsource_xid</a>, False,</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;                    NoEventMask, (<a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a>*)&amp;finished);</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;        <a class="code" href="classQDragLeaveEvent.html">QDragLeaveEvent</a> e;</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;        <a class="code" href="classQCoreApplication.html#a2760980ee2efec6b445854ce60771a3c">QApplication::sendEvent</a>(qt_xdnd_current_widget, &amp;e);</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    }</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#a742ffc794232c5d5d81f60973f92b553">qt_xdnd_dragsource_xid</a> = 0;</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    qt_xdnd_current_widget = 0;</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#a52776efd87119f73f96ac0ff87bd4178">waiting_for_status</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <span class="comment">// reset</span></div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#ac8e78135032b3807882cc45e681fff7a">qt_xdnd_target_current_time</a> = CurrentTime;</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;}</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;</div><div class="line"><a name="l01217"></a><span class="lineno"><a class="line" href="structQX11Data.html#add1f92c738ed5228eb74c5d40c045ab5"> 1217</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structQX11Data.html#add1f92c738ed5228eb74c5d40c045ab5">QX11Data::xdndHandleFinished</a>(<a class="code" href="classQWidget.html">QWidget</a> *, <span class="keyword">const</span> <a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a> * xe, <span class="keywordtype">bool</span> passive)</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;{</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a>(<span class="stringliteral">&quot;xdndHandleFinished&quot;</span>);</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *<a class="code" href="qimagewriter_8cpp.html#a8dd48cb4bc7ae12584a6fde8950b1d12">l</a> = (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *)xe-&gt;xclient.data.l;</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#ab36302516875c631cd76a0642298594e">DNDDEBUG</a> &lt;&lt; <span class="stringliteral">&quot;xdndHandleFinished, l[0]&quot;</span> &lt;&lt; l[0]</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;qt_xdnd_current_target&quot;</span> &lt;&lt; <a class="code" href="qdnd__x11_8cpp.html#a5aa42095e78c73293ef0c77fab8c52e1">qt_xdnd_current_target</a></div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;qt_xdnd_current_proxy_targe&quot;</span> &lt;&lt; <a class="code" href="qdnd__x11_8cpp.html#a8c28975fcfa22adb03d40ca98695820b">qt_xdnd_current_proxy_target</a>;</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    <a class="code" href="qcocoasharedwindowmethods__mac__p_8h.html#a4bcf1ca8433d12097b8bbf9e3d75c334">if</a> (l[0]) {</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="qbuiltintypes_8cpp.html#abc44de815465f08d372c4796f0b134dc">at</a> = <a class="code" href="qdnd__x11_8cpp.html#ac363fbadfbb1323bb4fbd22b59b3aa9b">findXdndDropTransactionByWindow</a>(l[0]);</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        <span class="keywordflow">if</span> (at != -1) {</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;            <a class="code" href="qdnd__x11_8cpp.html#ab79d8b0615aafda4bbed5ca5f1a2f200">restartXdndDropExpiryTimer</a>();</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;            <a class="code" href="structQXdndDropTransaction.html">QXdndDropTransaction</a> t = <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;dndDropTransactions.takeAt(at);</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;            <a class="code" href="classQDragManager.html">QDragManager</a> *manager = <a class="code" href="classQDragManager.html#ae9f511e9b0661bacc2d92c083e6e4c54">QDragManager::self</a>();</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;            <a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa8e73f9b9c1eab37872a43901afd06767">Window</a> target = <a class="code" href="qdnd__x11_8cpp.html#a5aa42095e78c73293ef0c77fab8c52e1">qt_xdnd_current_target</a>;</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;            <a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa8e73f9b9c1eab37872a43901afd06767">Window</a> proxy_target = <a class="code" href="qdnd__x11_8cpp.html#a8c28975fcfa22adb03d40ca98695820b">qt_xdnd_current_proxy_target</a>;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;            <a class="code" href="classQWidget.html">QWidget</a> *embedding_widget = <a class="code" href="qdnd__x11_8cpp.html#a90e2de53546b66c0b701a3ab2d154b69">current_embedding_widget</a>;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;            <a class="code" href="classQDrag.html">QDrag</a> *currentObject = manager-&gt;<a class="code" href="classQDragManager.html#acd7ace319521a145f84ea6ba8b5cf96c">object</a>;</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;            <a class="code" href="qdnd__x11_8cpp.html#a5aa42095e78c73293ef0c77fab8c52e1">qt_xdnd_current_target</a> = t.<a class="code" href="structQXdndDropTransaction.html#a692ade7747aab67f010ac03aaad3a738">target</a>;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;            <a class="code" href="qdnd__x11_8cpp.html#a8c28975fcfa22adb03d40ca98695820b">qt_xdnd_current_proxy_target</a> = t.<a class="code" href="structQXdndDropTransaction.html#ab2e365c8baa79c2ec66fb242359a3b80">proxy_target</a>;</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;            current_embedding_widget = t.<a class="code" href="structQXdndDropTransaction.html#ab705f1cf04c3d2723523daf33d71148a">embedding_widget</a>;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;            manager-&gt;<a class="code" href="classQDragManager.html#acd7ace319521a145f84ea6ba8b5cf96c">object</a> = t.<a class="code" href="structQXdndDropTransaction.html#a79ab019c966e95a938aa0633f944f7b9">object</a>;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;            <span class="keywordflow">if</span> (!passive)</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;                (void) <a class="code" href="qdnd__x11_8cpp.html#ac216787e26d6eecb07357c0ce4198872">checkEmbedded</a>(qt_xdnd_current_widget, xe);</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;            current_embedding_widget = 0;</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;            <a class="code" href="qdnd__x11_8cpp.html#a5aa42095e78c73293ef0c77fab8c52e1">qt_xdnd_current_target</a> = 0;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;            <a class="code" href="qdnd__x11_8cpp.html#a8c28975fcfa22adb03d40ca98695820b">qt_xdnd_current_proxy_target</a> = 0;</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;            <span class="keywordflow">if</span> (t.<a class="code" href="structQXdndDropTransaction.html#a79ab019c966e95a938aa0633f944f7b9">object</a>)</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;                t.<a class="code" href="structQXdndDropTransaction.html#a79ab019c966e95a938aa0633f944f7b9">object</a>-&gt;<a class="code" href="classQObject.html#af6982f45bdad0833b8f3ee5688cccbfb">deleteLater</a>();</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;            <a class="code" href="qdnd__x11_8cpp.html#a5aa42095e78c73293ef0c77fab8c52e1">qt_xdnd_current_target</a> = target;</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;            <a class="code" href="qdnd__x11_8cpp.html#a8c28975fcfa22adb03d40ca98695820b">qt_xdnd_current_proxy_target</a> = proxy_target;</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;            current_embedding_widget = embedding_widget;</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;            manager-&gt;<a class="code" href="classQDragManager.html#acd7ace319521a145f84ea6ba8b5cf96c">object</a> = currentObject;</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;        }</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    }</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#a52776efd87119f73f96ac0ff87bd4178">waiting_for_status</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;}</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQDragManager.html#a001550e7604a770fed6d0e59e40279bf">QDragManager::timerEvent</a>(<a class="code" href="classQTimerEvent.html">QTimerEvent</a>* e)</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;{</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    <span class="keywordflow">if</span> (e-&gt;<a class="code" href="classQTimerEvent.html#af80c5d38951d5964d7d6d185aeb7b364">timerId</a>() == <a class="code" href="qdnd__x11_8cpp.html#af4fec4bb2e18682d985110069f6e85c1">heartbeat</a> &amp;&amp; qt_xdnd_source_sameanswer.<a class="code" href="classQRect.html#ae9557528c859e71accb055963c6521e8">isNull</a>()) {</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;        <a class="code" href="classQWidget.html#a627734afc161645c53ddbc80276d9018">move</a>(<a class="code" href="classQCursor.html#a8b5f012c646895b53d821f77ae2e9713">QCursor::pos</a>());</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e-&gt;<a class="code" href="classQTimerEvent.html#af80c5d38951d5964d7d6d185aeb7b364">timerId</a>() == <a class="code" href="qdnd__x11_8cpp.html#a8c3c0c5de6572d912a61d82d13e019a5">transaction_expiry_timer</a>) {</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;dndDropTransactions.count(); ++i) {</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;            <span class="keyword">const</span> <a class="code" href="structQXdndDropTransaction.html">QXdndDropTransaction</a> &amp;t = <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;dndDropTransactions.at(i);</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;            <span class="keywordflow">if</span> (t.<a class="code" href="structQXdndDropTransaction.html#a349101b1608042d8ec7b3068d4baf7cf">targetWidget</a>) {</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;                <span class="comment">// dnd within the same process, don&#39;t delete these</span></div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;            }</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;            t.<a class="code" href="structQXdndDropTransaction.html#a79ab019c966e95a938aa0633f944f7b9">object</a>-&gt;<a class="code" href="classQObject.html#af6982f45bdad0833b8f3ee5688cccbfb">deleteLater</a>();</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;            <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;dndDropTransactions.removeAt(i--);</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        }</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;        <a class="code" href="classQObject.html#af3541fffb7562f18c698ff7a4c00963b">killTimer</a>(<a class="code" href="qdnd__x11_8cpp.html#a8c3c0c5de6572d912a61d82d13e019a5">transaction_expiry_timer</a>);</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        <a class="code" href="qdnd__x11_8cpp.html#a8c3c0c5de6572d912a61d82d13e019a5">transaction_expiry_timer</a> = -1;</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    }</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;}</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQDragManager.html#a1ba9cb562a250f0de947d840a54f5228">QDragManager::eventFilter</a>(<a class="code" href="classQObject.html">QObject</a> * o, <a class="code" href="classQEvent.html">QEvent</a> * e)</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;{</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    <span class="keywordflow">if</span> (beingCancelled) {</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;        <span class="keywordflow">if</span> (e-&gt;<a class="code" href="classQEvent.html#a4538e47c5088cdfad20ea17076563947">type</a>() == <a class="code" href="classQEvent.html#a36f905fa770866e1aac2144c37682d2ca6a31912ef39f02d88bf4f805c1504102">QEvent::KeyRelease</a> &amp;&amp; ((<a class="code" href="classQKeyEvent.html">QKeyEvent</a>*)e)-&gt;key() == <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a0441fc6738f2dec848f5de01a997c4b8">Qt::Key_Escape</a>) {</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;            <a class="code" href="qcoreapplication_8h.html#af3bf03a2bf98820de7ae03bef13c7d07">qApp</a>-&gt;removeEventFilter(<span class="keyword">this</span>);</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;            <a class="code" href="qglobal_8h.html#ac29a7ecc02f777dfeb2b68a051561c35">Q_ASSERT</a>(<span class="keywordtype">object</span> == 0);</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;            beingCancelled = <span class="keyword">false</span>;</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;            eventLoop-&gt;exit();</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// block the key release</span></div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;        }</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    }</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <a class="code" href="qglobal_8h.html#ac29a7ecc02f777dfeb2b68a051561c35">Q_ASSERT</a>(<span class="keywordtype">object</span> != 0);</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <span class="keywordflow">if</span> (!o-&gt;<a class="code" href="classQObject.html#affcb6200509ace5b000b5075a52e38f8">isWidgetType</a>())</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    <span class="keywordflow">if</span> (e-&gt;<a class="code" href="classQEvent.html#a4538e47c5088cdfad20ea17076563947">type</a>() == <a class="code" href="classQEvent.html#a36f905fa770866e1aac2144c37682d2ca73e0a089cb5e76eb2793bb5558d2c03d">QEvent::MouseMove</a>) {</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;        <a class="code" href="classQMouseEvent.html">QMouseEvent</a>* me = (<a class="code" href="classQMouseEvent.html">QMouseEvent</a> *)e;</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;        <a class="code" href="classQWidget.html#a627734afc161645c53ddbc80276d9018">move</a>(me-&gt;<a class="code" href="classQMouseEvent.html#a9479137c49c317f9a9788bbe79dbbc95">globalPos</a>());</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e-&gt;<a class="code" href="classQEvent.html#a4538e47c5088cdfad20ea17076563947">type</a>() == <a class="code" href="classQEvent.html#a36f905fa770866e1aac2144c37682d2caf2d33f3957ba257366364e031c6a00ef">QEvent::MouseButtonRelease</a>) {</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;        <a class="code" href="qdnd__x11_8cpp.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a>(<span class="stringliteral">&quot;pre drop&quot;</span>);</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;        <a class="code" href="qcoreapplication_8h.html#af3bf03a2bf98820de7ae03bef13c7d07">qApp</a>-&gt;removeEventFilter(<span class="keyword">this</span>);</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;        <span class="keywordflow">if</span> (willDrop)</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;            drop();</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;            cancel();</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;        <a class="code" href="qdnd__x11_8cpp.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a>(<span class="stringliteral">&quot;drop, resetting object&quot;</span>);</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;        beingCancelled = <span class="keyword">false</span>;</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;        eventLoop-&gt;exit();</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    }</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <span class="keywordflow">if</span> (e-&gt;<a class="code" href="classQEvent.html#a4538e47c5088cdfad20ea17076563947">type</a>() == <a class="code" href="classQEvent.html#a36f905fa770866e1aac2144c37682d2ca48a3049271850a2a2df12fb9a0209214">QEvent::ShortcutOverride</a>) {</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        <span class="comment">// prevent accelerators from firing while dragging</span></div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;        e-&gt;<a class="code" href="classQEvent.html#adc2bcec331a602a4904009203761ac13">accept</a>();</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    }</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    <span class="keywordflow">if</span> (e-&gt;<a class="code" href="classQEvent.html#a4538e47c5088cdfad20ea17076563947">type</a>() == <a class="code" href="classQEvent.html#a36f905fa770866e1aac2144c37682d2ca794fec12c843e3133e43205f7dddd765">QEvent::KeyPress</a> || e-&gt;<a class="code" href="classQEvent.html#a4538e47c5088cdfad20ea17076563947">type</a>() == <a class="code" href="classQEvent.html#a36f905fa770866e1aac2144c37682d2ca6a31912ef39f02d88bf4f805c1504102">QEvent::KeyRelease</a>) {</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        <a class="code" href="classQKeyEvent.html">QKeyEvent</a> *ke = ((<a class="code" href="classQKeyEvent.html">QKeyEvent</a>*)e);</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;        <span class="keywordflow">if</span> (ke-&gt;<a class="code" href="classQKeyEvent.html#ac86f4d3ed3161a7990a53b59aa547485">key</a>() == <a class="code" href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a0441fc6738f2dec848f5de01a997c4b8">Qt::Key_Escape</a> &amp;&amp; e-&gt;<a class="code" href="classQEvent.html#a4538e47c5088cdfad20ea17076563947">type</a>() == <a class="code" href="classQEvent.html#a36f905fa770866e1aac2144c37682d2ca794fec12c843e3133e43205f7dddd765">QEvent::KeyPress</a>) {</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;            cancel();</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;            <a class="code" href="qcoreapplication_8h.html#af3bf03a2bf98820de7ae03bef13c7d07">qApp</a>-&gt;removeEventFilter(<span class="keyword">this</span>);</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;            beingCancelled = <span class="keyword">false</span>;</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;            eventLoop-&gt;exit();</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;            qt_xdnd_source_sameanswer = <a class="code" href="classQRect.html">QRect</a>(); <span class="comment">// force move</span></div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;            <a class="code" href="classQWidget.html#a627734afc161645c53ddbc80276d9018">move</a>(<a class="code" href="classQCursor.html#a8b5f012c646895b53d821f77ae2e9713">QCursor::pos</a>());</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;        }</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// Eat all key events</span></div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    }</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <span class="comment">// ### We bind modality to widgets, so we have to do this</span></div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <span class="comment">// ###  &quot;manually&quot;.</span></div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <span class="comment">// DnD is modal - eat all other interactive events</span></div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    <span class="keywordflow">switch</span> (e-&gt;<a class="code" href="classQEvent.html#a4538e47c5088cdfad20ea17076563947">type</a>()) {</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classQEvent.html#a36f905fa770866e1aac2144c37682d2ca94742b4e3921778a9349261b9ba01c36">QEvent::MouseButtonPress</a>:</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classQEvent.html#a36f905fa770866e1aac2144c37682d2caf2d33f3957ba257366364e031c6a00ef">QEvent::MouseButtonRelease</a>:</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classQEvent.html#a36f905fa770866e1aac2144c37682d2cacaaed1dbbcd6a45a7e342913096d5eae">QEvent::MouseButtonDblClick</a>:</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classQEvent.html#a36f905fa770866e1aac2144c37682d2ca73e0a089cb5e76eb2793bb5558d2c03d">QEvent::MouseMove</a>:</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classQEvent.html#a36f905fa770866e1aac2144c37682d2ca794fec12c843e3133e43205f7dddd765">QEvent::KeyPress</a>:</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classQEvent.html#a36f905fa770866e1aac2144c37682d2ca6a31912ef39f02d88bf4f805c1504102">QEvent::KeyRelease</a>:</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classQEvent.html#a36f905fa770866e1aac2144c37682d2ca839a432fd2c9b70bdc5d93f0f75f7761">QEvent::Wheel</a>:</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classQEvent.html#a36f905fa770866e1aac2144c37682d2ca48a3049271850a2a2df12fb9a0209214">QEvent::ShortcutOverride</a>:</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;<span class="preprocessor">#ifdef QT3_SUPPORT</span></div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;      <span class="keywordflow">case</span> QEvent::Accel:</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;      <span class="keywordflow">case</span> QEvent::AccelAvailable:</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    }</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;}</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQDragManager.html#a69c0d745f3597d5f7ab15938c74b3d98">QDragManager::updateCursor</a>()</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;{</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    <span class="keywordflow">if</span> (!noDropCursor) {</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;<span class="preprocessor">#ifndef QT_NO_CURSOR</span></div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;        noDropCursor = <span class="keyword">new</span> <a class="code" href="classQCursor.html">QCursor</a>(<a class="code" href="namespaceQt.html#a6d774d2676850ebdccc027a7d06f9e1daddcf39c7e5f6af922c8abda25fb34023">Qt::ForbiddenCursor</a>);</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        moveCursor = <span class="keyword">new</span> <a class="code" href="classQCursor.html">QCursor</a>(<a class="code" href="namespaceQt.html#a6d774d2676850ebdccc027a7d06f9e1dac17718529915ef260fcdf37de4b7955f">Qt::DragMoveCursor</a>);</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;        copyCursor = <span class="keyword">new</span> <a class="code" href="classQCursor.html">QCursor</a>(<a class="code" href="namespaceQt.html#a6d774d2676850ebdccc027a7d06f9e1da195c42b3c9b08a3aa394c71280aefc29">Qt::DragCopyCursor</a>);</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        linkCursor = <span class="keyword">new</span> <a class="code" href="classQCursor.html">QCursor</a>(<a class="code" href="namespaceQt.html#a6d774d2676850ebdccc027a7d06f9e1da636e74d70da8be71cff494dc67ffc0c5">Qt::DragLinkCursor</a>);</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    }</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <a class="code" href="classQCursor.html">QCursor</a> *<a class="code" href="qnumeric__p_8h.html#aa8bc5d06b176e45541cdfaf9c2c9dfea">c</a>;</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <span class="keywordflow">if</span> (willDrop) {</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="qdnd__x11_8cpp.html#ae70ae4f55a56c90e0996e83771b510c6">global_accepted_action</a> == <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043a263405c8eeca7d0acf2bee35ade236f9">Qt::CopyAction</a>) {</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;            c = <a class="code" href="qdnd__x11_8cpp.html#a929168397c7c776a654bb63fe28ed39f">copyCursor</a>;</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="qdnd__x11_8cpp.html#ae70ae4f55a56c90e0996e83771b510c6">global_accepted_action</a> == <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043af7511588e8175b82f3a5bb9531b14158">Qt::LinkAction</a>) {</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;            c = <a class="code" href="qdnd__x11_8cpp.html#a056fdc81ae8e2fee63875f6ed073c70a">linkCursor</a>;</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;            c = <a class="code" href="qdnd__x11_8cpp.html#a2ccf1eada810bf9322438af000b3bd5c">moveCursor</a>;</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        }</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;        <span class="keywordflow">if</span> (xdnd_data.<a class="code" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">deco</a>) {</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;            xdnd_data.<a class="code" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">deco</a>-&gt;<a class="code" href="classQWidget.html#a8687422a6c9d477d0eaa47f77d3d0d31">show</a>();</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;            xdnd_data.<a class="code" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">deco</a>-&gt;<a class="code" href="classQWidget.html#a0fb42b07fcd7bc40160b5ad2ca7aa882">raise</a>();</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;        }</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;        c = <a class="code" href="qdnd__x11_8cpp.html#a4f1a2125913fa11b8ed49b9e642872ed">noDropCursor</a>;</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;        <span class="comment">//if (qt_xdnd_deco)</span></div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;        <span class="comment">//    qt_xdnd_deco-&gt;hide();</span></div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    }</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;<span class="preprocessor">#ifndef QT_NO_CURSOR</span></div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    <span class="keywordflow">if</span> (c)</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;        <a class="code" href="qcoreapplication_8h.html#af3bf03a2bf98820de7ae03bef13c7d07">qApp</a>-&gt;changeOverrideCursor(*c);</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;}</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQDragManager.html#ab08882c10fcf19d9bb392e17cb87faed">QDragManager::cancel</a>(<span class="keywordtype">bool</span> deleteSource)</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;{</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a>(<span class="stringliteral">&quot;QDragManager::cancel&quot;</span>);</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <a class="code" href="qglobal_8h.html#ac29a7ecc02f777dfeb2b68a051561c35">Q_ASSERT</a>(<a class="code" href="qdnd__x11_8cpp.html#af4fec4bb2e18682d985110069f6e85c1">heartbeat</a> != -1);</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    <a class="code" href="classQObject.html#af3541fffb7562f18c698ff7a4c00963b">killTimer</a>(<a class="code" href="qdnd__x11_8cpp.html#af4fec4bb2e18682d985110069f6e85c1">heartbeat</a>);</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#af4fec4bb2e18682d985110069f6e85c1">heartbeat</a> = -1;</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    beingCancelled = <span class="keyword">true</span>;</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#aa93146a4c3cf68369120db33b57a4dcb">qt_xdnd_dragging</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="qdnd__x11_8cpp.html#a5aa42095e78c73293ef0c77fab8c52e1">qt_xdnd_current_target</a>)</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;        <a class="code" href="qdnd__x11_8cpp.html#ae998e95ec3a2ef2db6015516ad4b8a9f">qt_xdnd_send_leave</a>();</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;<span class="preprocessor">#ifndef QT_NO_CURSOR</span></div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    <span class="keywordflow">if</span> (restoreCursor) {</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;        <a class="code" href="classQApplication.html#ae3db8fae215a9a8b57a46048e4cda6b9">QApplication::restoreOverrideCursor</a>();</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;        restoreCursor = <span class="keyword">false</span>;</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    }</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    <span class="keywordflow">if</span> (deleteSource &amp;&amp; <span class="keywordtype">object</span>)</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;        <span class="keywordtype">object</span>-&gt;deleteLater();</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    <span class="keywordtype">object</span> = 0;</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <a class="code" href="qobject_8cpp.html#a6ea911cb0988eac3a120b150a39d3d28">qDeleteInEventHandler</a>(xdnd_data.<a class="code" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">deco</a>);</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    xdnd_data.<a class="code" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">deco</a> = 0;</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#ae70ae4f55a56c90e0996e83771b510c6">global_accepted_action</a> = <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043a7d5021238784afbb6b00e3cf8c45852d">Qt::IgnoreAction</a>;</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;}</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;<span class="preprocessor">#ifndef QT_NO_SHAPE</span></div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;<span class="keyword">static</span></div><div class="line"><a name="l01427"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#aefb648da2c7c812e921cbe91532e66eb"> 1427</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="qdnd__x11_8cpp.html#aefb648da2c7c812e921cbe91532e66eb">windowInteractsWithPosition</a>(<span class="keyword">const</span> <a class="code" href="classQPoint.html">QPoint</a> &amp; <a class="code" href="classQWidget.html#a2d40b6c316a4c264c4671b7eac7830fc">pos</a>, <a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa8e73f9b9c1eab37872a43901afd06767">Window</a> w, <span class="keywordtype">int</span> shapeType)</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;{</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <span class="keywordtype">int</span> nrectanglesRet, dummyOrdering;</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    XRectangle *rectangles = XShapeGetRectangles(<a class="code" href="classQX11Info.html#a42ee923b2497c27cf2fd0464cf2a1d0b">QX11Info::display</a>(), w, shapeType, &amp;nrectanglesRet, &amp;dummyOrdering);</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <span class="keywordtype">bool</span> interacts = <span class="keyword">false</span>;</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    <span class="keywordflow">if</span> (rectangles) {</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; !interacts &amp;&amp; i &lt; nrectanglesRet; ++i)</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;            interacts = <a class="code" href="classQRect.html">QRect</a>(rectangles[i].<a class="code" href="classQWidget.html#ac7abf6a9079a2110c38ffd2ae78a5936">x</a>, rectangles[i].<a class="code" href="classQWidget.html#a24bd589a09a52c20accc2076223498ba">y</a>, rectangles[i].<a class="code" href="classQWidget.html#a59f4af0b3791c5995de8e3da2d8cd1c0">width</a>, rectangles[i].<a class="code" href="classQWidget.html#afdc77d0bc31466651005851719b5ee98">height</a>).<a class="code" href="classQRect.html#a5600917ee06551e5315b1fe30961334f">contains</a>(pos);</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;        XFree(rectangles);</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    }</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    <span class="keywordflow">return</span> interacts;</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;}</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;<span class="keyword">static</span></div><div class="line"><a name="l01442"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#a8c45f2510cf563febb125a1e02c1f535"> 1442</a></span>&#160;<a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa8e73f9b9c1eab37872a43901afd06767">Window</a> <a class="code" href="qdnd__x11_8cpp.html#a8c45f2510cf563febb125a1e02c1f535">findRealWindow</a>(<span class="keyword">const</span> <a class="code" href="classQPoint.html">QPoint</a> &amp; <a class="code" href="classQWidget.html#a2d40b6c316a4c264c4671b7eac7830fc">pos</a>, <a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa8e73f9b9c1eab37872a43901afd06767">Window</a> w, <span class="keywordtype">int</span> md, <span class="keywordtype">bool</span> ignoreNonXdndAwareWindows)</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;{</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <span class="keywordflow">if</span> (xdnd_data.<a class="code" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">deco</a> &amp;&amp; w == xdnd_data.<a class="code" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">deco</a>-&gt;<a class="code" href="classQWidget.html#aa7fe0dd4e297bd72e03bae55067de79b">effectiveWinId</a>())</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    <span class="keywordflow">if</span> (md) {</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;        <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;ignoreBadwindow();</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;        XWindowAttributes attr;</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        XGetWindowAttributes(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, w, &amp;attr);</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;badwindow())</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;            <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;        <span class="keywordflow">if</span> (attr.map_state == IsViewable</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;            &amp;&amp; <a class="code" href="classQRect.html">QRect</a>(attr.x,attr.y,attr.width,attr.height).<a class="code" href="classQRect.html#a5600917ee06551e5315b1fe30961334f">contains</a>(pos)) {</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;            <span class="keywordtype">bool</span> windowContainsMouse = !ignoreNonXdndAwareWindows;</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;            {</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;                <a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0">Atom</a>   <a class="code" href="qmetatype_8cpp.html#ac765329451135abec74c45e1897abf26">type</a> = <a class="code" href="qt__x11__p_8h.html#a08f51f22ad2ed13a25181c2604573110a74d8b25f4f670f3cbc937ed8cfe5b9ef">XNone</a>;</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;                <span class="keywordtype">int</span> f;</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;                <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> n, <a class="code" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a>;</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;                <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="classQWidget.html#a769d29a16df15e8e58f4db5ca80a22d2">data</a>;</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;                XGetWindowProperty(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, w, <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a0aa5c49d36838ec3df568fe5ef6c51dc">XdndAware</a>), 0, 0, False,</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;                                   AnyPropertyType, &amp;type, &amp;f,&amp;n,&amp;a,&amp;data);</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;                <span class="keywordflow">if</span> (data) XFree(data);</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;                <span class="keywordflow">if</span> (type) {</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;<span class="preprocessor">#ifdef QT_NO_SHAPE</span></div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;                    <span class="keywordflow">return</span> w;</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;<span class="preprocessor">#else // !QT_NO_SHAPE</span></div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classQPoint.html">QPoint</a> relPos = pos - <a class="code" href="classQPoint.html">QPoint</a>(attr.x,attr.y);</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;                    <span class="comment">// When ShapeInput and ShapeBounding are not set they return a single rectangle with the geometry of the window, this is why we</span></div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;                    <span class="comment">// need an &amp;&amp; here so that in the case one is set and the other is not we still get the correct result.</span></div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;<span class="preprocessor">#if defined(ShapeInput) &amp;&amp; defined(ShapeBounding)</span></div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;                    windowContainsMouse = <a class="code" href="qdnd__x11_8cpp.html#aefb648da2c7c812e921cbe91532e66eb">windowInteractsWithPosition</a>(relPos, w, ShapeInput) &amp;&amp; <a class="code" href="qdnd__x11_8cpp.html#aefb648da2c7c812e921cbe91532e66eb">windowInteractsWithPosition</a>(relPos, w, ShapeBounding);</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;<span class="preprocessor">#elif defined(ShapeBounding)</span></div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;                    windowContainsMouse = <a class="code" href="qdnd__x11_8cpp.html#aefb648da2c7c812e921cbe91532e66eb">windowInteractsWithPosition</a>(relPos, w, ShapeBounding);</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;                    windowContainsMouse = <span class="keyword">true</span>;</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;                    <span class="keywordflow">if</span> (windowContainsMouse)</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;                        <span class="keywordflow">return</span> w;</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;<span class="preprocessor">#endif // QT_NO_SHAPE</span></div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;                }</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;            }</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;            <a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa8e73f9b9c1eab37872a43901afd06767">Window</a> r, p;</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;            <a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa8e73f9b9c1eab37872a43901afd06767">Window</a>* <a class="code" href="qnumeric__p_8h.html#aa8bc5d06b176e45541cdfaf9c2c9dfea">c</a>;</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;            <a class="code" href="qglobal_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> nc;</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;            <span class="keywordflow">if</span> (XQueryTree(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, w, &amp;r, &amp;p, &amp;c, &amp;nc)) {</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;                r=0;</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="qglobal_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i=nc; !r &amp;&amp; i--;) {</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;                    r = <a class="code" href="qdnd__x11_8cpp.html#a8c45f2510cf563febb125a1e02c1f535">findRealWindow</a>(pos-<a class="code" href="classQPoint.html">QPoint</a>(attr.x,attr.y),</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;                                        c[i], md-1, ignoreNonXdndAwareWindows);</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;                }</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;                XFree(c);</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;                <span class="keywordflow">if</span> (r)</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;                    <span class="keywordflow">return</span> r;</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;                <span class="comment">// We didn&#39;t find a client window!  Just use the</span></div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;                <span class="comment">// innermost window.</span></div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;            }</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;            <span class="comment">// No children!</span></div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;            <span class="keywordflow">if</span> (!windowContainsMouse)</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;                <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;                <span class="keywordflow">return</span> w;</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;        }</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    }</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;}</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQDragManager.html#a704eb6e4f9170bddbc2604188168bdcc">QDragManager::move</a>(<span class="keyword">const</span> <a class="code" href="classQPoint.html">QPoint</a> &amp; globalPos)</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;{</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;<span class="preprocessor">#ifdef QT_NO_CURSOR</span></div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    <a class="code" href="qglobal_8h.html#ab50b9ec9f8efb4c169cbd1a13b1fe2b1">Q_UNUSED</a>(globalPos);</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a>() &lt;&lt; <span class="stringliteral">&quot;QDragManager::move enter&quot;</span>;</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    <span class="keywordflow">if</span> (!<span class="keywordtype">object</span>) {</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;        <span class="comment">// perhaps the target crashed?</span></div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    }</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <span class="keywordtype">int</span> screen = QCursor::x11Screen();</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="qdnd__x11_8cpp.html#a22e09786270a7ef559b1612a047dcfcf">qt_xdnd_current_screen</a> == -1 &amp;&amp; screen != <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;defaultScreen) || (screen != <a class="code" href="qdnd__x11_8cpp.html#a22e09786270a7ef559b1612a047dcfcf">qt_xdnd_current_screen</a>)) {</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;        <span class="comment">// recreate the pixmap on the new screen...</span></div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;        <span class="keyword">delete</span> xdnd_data.<a class="code" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">deco</a>;</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;        <a class="code" href="classQWidget.html">QWidget</a>* <a class="code" href="classQObject.html#a5cb3e027df098415194ae1f4b688b515">parent</a> = <span class="keywordtype">object</span>-&gt;source()-&gt;window()-&gt;x11Info().screen() == screen</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;            ? <span class="keywordtype">object</span>-&gt;source()-&gt;window() : <a class="code" href="classQApplication.html#aab5a968c5d842a15564c4a8203303052">QApplication::desktop</a>()-&gt;<a class="code" href="classQDesktopWidget.html#a09e0b6d965ff4ab525b9bb8da793f39a">screen</a>(screen);</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;        xdnd_data.<a class="code" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">deco</a> = <span class="keyword">new</span> <a class="code" href="classQShapedPixmapWidget.html#aaaec2c6eaa4dade1b7a1d1ce60294877">QShapedPixmapWidget</a>(parent);</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classQWidget.html#a92a963214b33ccca1f3ce0379e79309c">QWidget::mouseGrabber</a>()) {</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;            updatePixmap();</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;            xdnd_data.<a class="code" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">deco</a>-&gt;<a class="code" href="classQWidget.html#ad0bdb75fd1ce789c86739639cdd4119e">grabMouse</a>();</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;        }</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    }</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    xdnd_data.<a class="code" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">deco</a>-&gt;<a class="code" href="classQWidget.html#a627734afc161645c53ddbc80276d9018">move</a>(<a class="code" href="classQCursor.html#a8b5f012c646895b53d821f77ae2e9713">QCursor::pos</a>() - xdnd_data.<a class="code" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">deco</a>-&gt;<a class="code" href="classQShapedPixmapWidget.html#a468570123e1972e598e731a2a63385bf">pm_hot</a>);</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <span class="keywordflow">if</span> (qt_xdnd_source_sameanswer.<a class="code" href="classQRect.html#a5600917ee06551e5315b1fe30961334f">contains</a>(globalPos) &amp;&amp; qt_xdnd_source_sameanswer.<a class="code" href="classQRect.html#ab939987e1fb10dec481fdd0d713c0145">isValid</a>())</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#a22e09786270a7ef559b1612a047dcfcf">qt_xdnd_current_screen</a> = screen;</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;    <a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa8e73f9b9c1eab37872a43901afd06767">Window</a> rootwin = <a class="code" href="classQX11Info.html#ad067e8c371bc5d78a00d0b431cda8f13">QX11Info::appRootWindow</a>(<a class="code" href="qdnd__x11_8cpp.html#a22e09786270a7ef559b1612a047dcfcf">qt_xdnd_current_screen</a>);</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    <a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa8e73f9b9c1eab37872a43901afd06767">Window</a> target = 0;</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    <span class="keywordtype">int</span> lx = 0, ly = 0;</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <span class="keywordflow">if</span> (!XTranslateCoordinates(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, rootwin, rootwin, globalPos.<a class="code" href="classQPoint.html#a14861329ac9e84a82ab0049e497fe267">x</a>(), globalPos.<a class="code" href="classQPoint.html#aa241cfaf926eef9a0710bffcbc086219">y</a>(), &amp;lx, &amp;ly, &amp;target))</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;        <span class="comment">// some weird error...</span></div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    <span class="keywordflow">if</span> (target == rootwin) {</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;        <span class="comment">// Ok.</span></div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (target) {</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;        <span class="comment">//me</span></div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;        <a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa8e73f9b9c1eab37872a43901afd06767">Window</a> src = rootwin;</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;        <span class="keywordflow">while</span> (target != 0) {</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;            <a class="code" href="qdnd__x11_8cpp.html#ab36302516875c631cd76a0642298594e">DNDDEBUG</a> &lt;&lt; <span class="stringliteral">&quot;checking target for XdndAware&quot;</span> &lt;&lt; <a class="code" href="classQWidget.html#a6a8da0b20b1f77c71a275c8abaa1569f">QWidget::find</a>(target) &lt;&lt; target;</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;            <span class="keywordtype">int</span> lx2, ly2;</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;            <a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa8e73f9b9c1eab37872a43901afd06767">Window</a> t;</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;            <span class="comment">// translate coordinates</span></div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;            <span class="keywordflow">if</span> (!XTranslateCoordinates(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, src, target, lx, ly, &amp;lx2, &amp;ly2, &amp;t)) {</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;                target = 0;</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;            }</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;            lx = lx2;</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;            ly = ly2;</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;            src = target;</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;        <span class="comment">// check if it has XdndAware</span></div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;        <a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0">Atom</a> <a class="code" href="qmetatype_8cpp.html#ac765329451135abec74c45e1897abf26">type</a> = 0;</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;        <span class="keywordtype">int</span> f;</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> n, <a class="code" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a>;</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="classQWidget.html#a769d29a16df15e8e58f4db5ca80a22d2">data</a> = 0;</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;        XGetWindowProperty(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, target, <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a0aa5c49d36838ec3df568fe5ef6c51dc">XdndAware</a>), 0, 0, False,</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;                               AnyPropertyType, &amp;type, &amp;f,&amp;n,&amp;a,&amp;data);</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;        <span class="keywordflow">if</span> (data)</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;                XFree(data);</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;        <span class="keywordflow">if</span> (type) {</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;                <a class="code" href="qdnd__x11_8cpp.html#ab36302516875c631cd76a0642298594e">DNDDEBUG</a> &lt;&lt; <span class="stringliteral">&quot;Found XdndAware on &quot;</span> &lt;&lt; <a class="code" href="classQWidget.html#a6a8da0b20b1f77c71a275c8abaa1569f">QWidget::find</a>(target) &lt;&lt; target;</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;            }</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;            <span class="comment">// find child at the coordinates</span></div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;            <span class="keywordflow">if</span> (!XTranslateCoordinates(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, src, src, lx, ly, &amp;lx2, &amp;ly2, &amp;target)) {</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;                target = 0;</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;            }</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;        }</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;        <span class="keywordflow">if</span> (xdnd_data.<a class="code" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">deco</a> &amp;&amp; (!target || target == xdnd_data.<a class="code" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">deco</a>-&gt;<a class="code" href="classQWidget.html#aa7fe0dd4e297bd72e03bae55067de79b">effectiveWinId</a>())) {</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;            <a class="code" href="qdnd__x11_8cpp.html#ab36302516875c631cd76a0642298594e">DNDDEBUG</a> &lt;&lt; <span class="stringliteral">&quot;need to find real window&quot;</span>;</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;            target = <a class="code" href="qdnd__x11_8cpp.html#a8c45f2510cf563febb125a1e02c1f535">findRealWindow</a>(globalPos, rootwin, 6, <span class="keyword">true</span>);</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;            <span class="keywordflow">if</span> (target == 0)</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;                target = <a class="code" href="qdnd__x11_8cpp.html#a8c45f2510cf563febb125a1e02c1f535">findRealWindow</a>(globalPos, rootwin, 6, <span class="keyword">false</span>);</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;            <a class="code" href="qdnd__x11_8cpp.html#ab36302516875c631cd76a0642298594e">DNDDEBUG</a> &lt;&lt; <span class="stringliteral">&quot;real window found&quot;</span> &lt;&lt; <a class="code" href="classQWidget.html#a6a8da0b20b1f77c71a275c8abaa1569f">QWidget::find</a>(target) &lt;&lt; target;</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;        }</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    }</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    <a class="code" href="classQWidget.html">QWidget</a>* w;</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    <span class="keywordflow">if</span> (target) {</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;        w = <a class="code" href="classQWidget.html#a6a8da0b20b1f77c71a275c8abaa1569f">QWidget::find</a>((<a class="code" href="qwindowdefs_8h.html#a08fcbd33489219e78cbe3dd55b1c0f5e">WId</a>)target);</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;        <span class="keywordflow">if</span> (w &amp;&amp; (w-&gt;<a class="code" href="classQWidget.html#af32c7c4da65ba56211b84cab171ef969">windowType</a>() == <a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa07a5d1f8a9d05794167fa129b7fa45bb">Qt::Desktop</a>) &amp;&amp; !w-&gt;<a class="code" href="classQWidget.html#a0ed196e8e50ae08d7e1bf79ccfe5f1a4">acceptDrops</a>())</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;            w = 0;</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;        w = 0;</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;        target = rootwin;</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    }</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#ab36302516875c631cd76a0642298594e">DNDDEBUG</a> &lt;&lt; <span class="stringliteral">&quot;and the final target is &quot;</span> &lt;&lt; <a class="code" href="classQWidget.html#a6a8da0b20b1f77c71a275c8abaa1569f">QWidget::find</a>(target) &lt;&lt; target;</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#ab36302516875c631cd76a0642298594e">DNDDEBUG</a> &lt;&lt; <span class="stringliteral">&quot;the widget w is&quot;</span> &lt;&lt; w;</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    <a class="code" href="qwindowdefs_8h.html#a08fcbd33489219e78cbe3dd55b1c0f5e">WId</a> proxy_target = <a class="code" href="qdnd__x11_8cpp.html#a0fdaa996aa0be0afd4a6075991f8911b">xdndProxy</a>(target);</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    <span class="keywordflow">if</span> (!proxy_target)</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;        proxy_target = target;</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;    <span class="keywordtype">int</span> target_version = 1;</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    <span class="keywordflow">if</span> (proxy_target) {</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;        <a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0">Atom</a>   <a class="code" href="qmetatype_8cpp.html#ac765329451135abec74c45e1897abf26">type</a> = <a class="code" href="qt__x11__p_8h.html#a08f51f22ad2ed13a25181c2604573110a74d8b25f4f670f3cbc937ed8cfe5b9ef">XNone</a>;</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;        <span class="keywordtype">int</span> r, f;</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> n, <a class="code" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a>;</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *retval;</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;        <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;ignoreBadwindow();</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;        r = XGetWindowProperty(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, proxy_target, <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a0aa5c49d36838ec3df568fe5ef6c51dc">XdndAware</a>), 0,</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;                               1, False, AnyPropertyType, &amp;type, &amp;f,&amp;n,&amp;a,&amp;retval);</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;        <span class="keywordtype">int</span> *tv = (<span class="keywordtype">int</span> *)retval;</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;        <span class="keywordflow">if</span> (r != <a class="code" href="qprinterinfo__unix__p_8h.html#a103e76ed4bd42f776f7f260080b98b3fafdfbdf3247bd36a1f17270d5cec74c9c">Success</a> || <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;badwindow()) {</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;            target = 0;</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;            target_version = <a class="code" href="qglobal_8h.html#a6d0450aa696b2c3684c16be18edd169a">qMin</a>(<a class="code" href="qdnd__x11_8cpp.html#a7e38f228d9017d8eac0d00bc8a588bbb">xdnd_version</a>,tv ? *tv : 1);</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;            <span class="keywordflow">if</span> (tv)</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;                XFree(tv);</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;<span class="comment">//             if (!(!X11-&gt;badwindow() &amp;&amp; type))</span></div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;<span class="comment">//                 target = 0;</span></div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;        }</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    }</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    <span class="keywordflow">if</span> (target != <a class="code" href="qdnd__x11_8cpp.html#a5aa42095e78c73293ef0c77fab8c52e1">qt_xdnd_current_target</a>) {</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="qdnd__x11_8cpp.html#a5aa42095e78c73293ef0c77fab8c52e1">qt_xdnd_current_target</a>)</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;            <a class="code" href="qdnd__x11_8cpp.html#ae998e95ec3a2ef2db6015516ad4b8a9f">qt_xdnd_send_leave</a>();</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;        <a class="code" href="qdnd__x11_8cpp.html#a5aa42095e78c73293ef0c77fab8c52e1">qt_xdnd_current_target</a> = target;</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;        <a class="code" href="qdnd__x11_8cpp.html#a8c28975fcfa22adb03d40ca98695820b">qt_xdnd_current_proxy_target</a> = proxy_target;</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;        <span class="keywordflow">if</span> (target) {</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;            <a class="code" href="classQVector.html">QVector&lt;Atom&gt;</a> <a class="code" href="qmetatype_8cpp.html#ade93bf2999a86a0287f25c9d1dab4fa4">types</a>;</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;            <span class="keywordtype">int</span> flags = target_version &lt;&lt; 24;</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;            <a class="code" href="classQStringList.html">QStringList</a> fmts = <a class="code" href="classQInternalMimeData.html#ae50a44dd16325864aa7289716f81006d">QInternalMimeData::formatsHelper</a>(dragPrivate()-&gt;<a class="code" href="classQWidget.html#a769d29a16df15e8e58f4db5ca80a22d2">data</a>);</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; fmts.<a class="code" href="classQList.html#aa83cded751888bb21257cb4890652809">size</a>(); ++i) {</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;                <a class="code" href="classQList.html">QList&lt;Atom&gt;</a> atoms = <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;xdndMimeAtomsForFormat(fmts.<a class="code" href="classQList.html#ab32e1ab64b7837c2d0d7a89c4ca8d9c2">at</a>(i));</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; atoms.<a class="code" href="classQList.html#aa83cded751888bb21257cb4890652809">size</a>(); ++j) {</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;                    <span class="keywordflow">if</span> (!types.<a class="code" href="classQVector.html#ab5455ba37a7b53a1adbfd6cfa4f027a4">contains</a>(atoms.<a class="code" href="classQList.html#ab32e1ab64b7837c2d0d7a89c4ca8d9c2">at</a>(j)))</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;                        types.<a class="code" href="classQVector.html#ad3536b6c85748f8b0b376d5d9ba0e721">append</a>(atoms.<a class="code" href="classQList.html#ab32e1ab64b7837c2d0d7a89c4ca8d9c2">at</a>(j));</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;                }</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;            }</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;            <span class="keywordflow">if</span> (types.<a class="code" href="classQVector.html#a3b40ac78d8377b150a0467a7fe139eef">size</a>() &gt; 3) {</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;                XChangeProperty(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display,</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;                                dragPrivate()-&gt;source-&gt;effectiveWinId(), <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0aeb1525c678d8420937668126fb9fe2a8">XdndTypelist</a>),</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;                                XA_ATOM, 32, PropModeReplace,</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;                                (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)types.<a class="code" href="classQVector.html#acc8068ddfe8bc93852558914a5e73b5a">data</a>(),</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;                                types.<a class="code" href="classQVector.html#a3b40ac78d8377b150a0467a7fe139eef">size</a>());</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;                flags |= 0x0001;</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;            }</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;            XClientMessageEvent enter;</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;            enter.type = ClientMessage;</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;            enter.window = target;</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;            enter.format = 32;</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;            enter.message_type = <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a59e7f1039f05b931272e57f83967880c">XdndEnter</a>);</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;            enter.data.l[0] = dragPrivate()-&gt;source-&gt;effectiveWinId();</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;            enter.data.l[1] = flags;</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;            enter.data.l[2] = types.<a class="code" href="classQVector.html#a3b40ac78d8377b150a0467a7fe139eef">size</a>()&gt;0 ? types.<a class="code" href="classQVector.html#a089ac11f22dec7de12a9ac819ab15175">at</a>(0) : 0;</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;            enter.data.l[3] = types.<a class="code" href="classQVector.html#a3b40ac78d8377b150a0467a7fe139eef">size</a>()&gt;1 ? types.<a class="code" href="classQVector.html#a089ac11f22dec7de12a9ac819ab15175">at</a>(1) : 0;</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;            enter.data.l[4] = types.<a class="code" href="classQVector.html#a3b40ac78d8377b150a0467a7fe139eef">size</a>()&gt;2 ? types.<a class="code" href="classQVector.html#a089ac11f22dec7de12a9ac819ab15175">at</a>(2) : 0;</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;            <span class="comment">// provisionally set the rectangle to 5x5 pixels...</span></div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;            qt_xdnd_source_sameanswer = <a class="code" href="classQRect.html">QRect</a>(globalPos.<a class="code" href="classQPoint.html#a14861329ac9e84a82ab0049e497fe267">x</a>() - 2,</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;                                              globalPos.<a class="code" href="classQPoint.html#aa241cfaf926eef9a0710bffcbc086219">y</a>() -2 , 5, 5);</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;            <a class="code" href="qdnd__x11_8cpp.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a>(<span class="stringliteral">&quot;sending Xdnd enter&quot;</span>);</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;            <span class="keywordflow">if</span> (w)</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;                <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;xdndHandleEnter(w, (<span class="keyword">const</span> <a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a> *)&amp;enter, <span class="keyword">false</span>);</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (target)</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;                XSendEvent(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, proxy_target, False, NoEventMask, (<a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a>*)&amp;enter);</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;            <a class="code" href="qdnd__x11_8cpp.html#a52776efd87119f73f96ac0ff87bd4178">waiting_for_status</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;        }</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    }</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="qdnd__x11_8cpp.html#a52776efd87119f73f96ac0ff87bd4178">waiting_for_status</a>)</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    <span class="keywordflow">if</span> (target) {</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;        <a class="code" href="qdnd__x11_8cpp.html#a52776efd87119f73f96ac0ff87bd4178">waiting_for_status</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;        XClientMessageEvent <a class="code" href="classQWidget.html#a627734afc161645c53ddbc80276d9018">move</a>;</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;        move.type = ClientMessage;</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;        move.window = target;</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;        move.format = 32;</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;        move.message_type = <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a4d45ff052b5c8407f9914d9550777780">XdndPosition</a>);</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;        move.window = target;</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;        move.data.l[0] = dragPrivate()-&gt;source-&gt;effectiveWinId();</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;        move.data.l[1] = 0; <span class="comment">// flags</span></div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;        move.data.l[2] = (globalPos.<a class="code" href="classQPoint.html#a14861329ac9e84a82ab0049e497fe267">x</a>() &lt;&lt; 16) + globalPos.<a class="code" href="classQPoint.html#aa241cfaf926eef9a0710bffcbc086219">y</a>();</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;        move.data.l[3] = <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;time;</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;        move.data.l[4] = <a class="code" href="qdnd__x11_8cpp.html#a94efadfc543c931e7d4bbb6eaea29c22">qtaction_to_xdndaction</a>(defaultAction(dragPrivate()-&gt;<a class="code" href="qdnd__x11_8cpp.html#a70e9226ee132bef518a50b37f92a78bb">possible_actions</a>, <a class="code" href="classQApplication.html#a8884026347297676505639ffac9269f6">QApplication::keyboardModifiers</a>()));</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;        <a class="code" href="qdnd__x11_8cpp.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a>(<span class="stringliteral">&quot;sending Xdnd position&quot;</span>);</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;        <a class="code" href="qdnd__x11_8cpp.html#a45e6047b4a0f6f30880a9c94c838451b">qt_xdnd_source_current_time</a> = <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;time;</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;        <span class="keywordflow">if</span> (w)</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;            <a class="code" href="qdnd__x11_8cpp.html#ad8984f9a59189b89ebf8db8d50ca1f04">handle_xdnd_position</a>(w, (<span class="keyword">const</span> <a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a> *)&amp;move, <span class="keyword">false</span>);</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;            XSendEvent(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, proxy_target, False, NoEventMask,</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;                       (<a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a>*)&amp;move);</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;        <span class="keywordflow">if</span> (willDrop) {</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;            willDrop = <span class="keyword">false</span>;</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;            updateCursor();</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;        }</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    }</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a>() &lt;&lt; <span class="stringliteral">&quot;QDragManager::move leave&quot;</span>;</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;}</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQDragManager.html#ac4f14b0e03251c5748d662c048315888">QDragManager::drop</a>()</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;{</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    <a class="code" href="qglobal_8h.html#ac29a7ecc02f777dfeb2b68a051561c35">Q_ASSERT</a>(<a class="code" href="qdnd__x11_8cpp.html#af4fec4bb2e18682d985110069f6e85c1">heartbeat</a> != -1);</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <a class="code" href="classQObject.html#af3541fffb7562f18c698ff7a4c00963b">killTimer</a>(<a class="code" href="qdnd__x11_8cpp.html#af4fec4bb2e18682d985110069f6e85c1">heartbeat</a>);</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#af4fec4bb2e18682d985110069f6e85c1">heartbeat</a> = -1;</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#aa93146a4c3cf68369120db33b57a4dcb">qt_xdnd_dragging</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="qdnd__x11_8cpp.html#a5aa42095e78c73293ef0c77fab8c52e1">qt_xdnd_current_target</a>)</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    <a class="code" href="qobject_8cpp.html#a6ea911cb0988eac3a120b150a39d3d28">qDeleteInEventHandler</a>(xdnd_data.<a class="code" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">deco</a>);</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    xdnd_data.<a class="code" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">deco</a> = 0;</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    XClientMessageEvent drop;</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;    drop.type = ClientMessage;</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;    drop.<a class="code" href="classQWidget.html#a091bcfa8bfe3a48f45fda3c88de95935">window</a> = <a class="code" href="qdnd__x11_8cpp.html#a5aa42095e78c73293ef0c77fab8c52e1">qt_xdnd_current_target</a>;</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;    drop.format = 32;</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    drop.message_type = <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0afe0eedc6139e7c9a12c9c2f147dc6e90">XdndDrop</a>);</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    drop.data.l[0] = dragPrivate()-&gt;source-&gt;effectiveWinId();</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    drop.data.l[1] = 0; <span class="comment">// flags</span></div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    drop.data.l[2] = <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;time;</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    drop.data.l[3] = 0;</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    drop.data.l[4] = 0;</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <a class="code" href="classQWidget.html">QWidget</a> * w = <a class="code" href="classQWidget.html#a6a8da0b20b1f77c71a275c8abaa1569f">QWidget::find</a>(<a class="code" href="qdnd__x11_8cpp.html#a8c28975fcfa22adb03d40ca98695820b">qt_xdnd_current_proxy_target</a>);</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    <span class="keywordflow">if</span> (w &amp;&amp; (w-&gt;<a class="code" href="classQWidget.html#af32c7c4da65ba56211b84cab171ef969">windowType</a>() == <a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa07a5d1f8a9d05794167fa129b7fa45bb">Qt::Desktop</a>) &amp;&amp; !w-&gt;<a class="code" href="classQWidget.html#a0ed196e8e50ae08d7e1bf79ccfe5f1a4">acceptDrops</a>())</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;        w = 0;</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;    <a class="code" href="structQXdndDropTransaction.html">QXdndDropTransaction</a> t = {</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;        <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;time,</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;        <a class="code" href="qdnd__x11_8cpp.html#a5aa42095e78c73293ef0c77fab8c52e1">qt_xdnd_current_target</a>,</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;        <a class="code" href="qdnd__x11_8cpp.html#a8c28975fcfa22adb03d40ca98695820b">qt_xdnd_current_proxy_target</a>,</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;        w,</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;        <a class="code" href="qdnd__x11_8cpp.html#a90e2de53546b66c0b701a3ab2d154b69">current_embedding_widget</a>,</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;        <span class="keywordtype">object</span></div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    };</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;dndDropTransactions.append(t);</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#ab79d8b0615aafda4bbed5ca5f1a2f200">restartXdndDropExpiryTimer</a>();</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    <span class="keywordflow">if</span> (w)</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;        <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;xdndHandleDrop(w, (<span class="keyword">const</span> <a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a> *)&amp;drop, <span class="keyword">false</span>);</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;        XSendEvent(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, <a class="code" href="qdnd__x11_8cpp.html#a8c28975fcfa22adb03d40ca98695820b">qt_xdnd_current_proxy_target</a>, False,</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;                   NoEventMask, (<a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a>*)&amp;drop);</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#a5aa42095e78c73293ef0c77fab8c52e1">qt_xdnd_current_target</a> = 0;</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#a8c28975fcfa22adb03d40ca98695820b">qt_xdnd_current_proxy_target</a> = 0;</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#a45e6047b4a0f6f30880a9c94c838451b">qt_xdnd_source_current_time</a> = 0;</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    current_embedding_widget = 0;</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    <span class="keywordtype">object</span> = 0;</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;<span class="preprocessor">#ifndef QT_NO_CURSOR</span></div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    <span class="keywordflow">if</span> (restoreCursor) {</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;        <a class="code" href="classQApplication.html#ae3db8fae215a9a8b57a46048e4cda6b9">QApplication::restoreOverrideCursor</a>();</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;        restoreCursor = <span class="keyword">false</span>;</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    }</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;}</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;</div><div class="line"><a name="l01782"></a><span class="lineno"><a class="line" href="structQX11Data.html#ab059b56ad2492de57ff107617333d11d"> 1782</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structQX11Data.html#ab059b56ad2492de57ff107617333d11d">QX11Data::xdndHandleBadwindow</a>()</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;{</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="qdnd__x11_8cpp.html#a5aa42095e78c73293ef0c77fab8c52e1">qt_xdnd_current_target</a>) {</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;        <a class="code" href="classQDragManager.html">QDragManager</a> *manager = <a class="code" href="classQDragManager.html#ae9f511e9b0661bacc2d92c083e6e4c54">QDragManager::self</a>();</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;        <span class="keywordflow">if</span> (manager-&gt;<a class="code" href="classQDragManager.html#acd7ace319521a145f84ea6ba8b5cf96c">object</a>) {</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;            <a class="code" href="qdnd__x11_8cpp.html#a5aa42095e78c73293ef0c77fab8c52e1">qt_xdnd_current_target</a> = 0;</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;            <a class="code" href="qdnd__x11_8cpp.html#a8c28975fcfa22adb03d40ca98695820b">qt_xdnd_current_proxy_target</a> = 0;</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;            manager-&gt;<a class="code" href="classQDragManager.html#acd7ace319521a145f84ea6ba8b5cf96c">object</a>-&gt;<a class="code" href="classQObject.html#af6982f45bdad0833b8f3ee5688cccbfb">deleteLater</a>();</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;            manager-&gt;<a class="code" href="classQDragManager.html#acd7ace319521a145f84ea6ba8b5cf96c">object</a> = 0;</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;            xdnd_data.<a class="code" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">deco</a>-&gt;<a class="code" href="classQObject.html#af6982f45bdad0833b8f3ee5688cccbfb">deleteLater</a>(); <span class="comment">//delay freeing to avoid crash QTBUG-19363</span></div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;            xdnd_data.<a class="code" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">deco</a> = 0;</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;        }</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    }</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="qdnd__x11_8cpp.html#a742ffc794232c5d5d81f60973f92b553">qt_xdnd_dragsource_xid</a>) {</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;        <a class="code" href="qdnd__x11_8cpp.html#a742ffc794232c5d5d81f60973f92b553">qt_xdnd_dragsource_xid</a> = 0;</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;        <span class="keywordflow">if</span> (qt_xdnd_current_widget) {</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;            <a class="code" href="classQCoreApplication.html#adb9ab49f133c9ee64d1e633ca9746047">QApplication::postEvent</a>(qt_xdnd_current_widget, <span class="keyword">new</span> <a class="code" href="classQDragLeaveEvent.html">QDragLeaveEvent</a>);</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;            qt_xdnd_current_widget = 0;</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;        }</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    }</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;}</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;</div><div class="line"><a name="l01807"></a><span class="lineno"><a class="line" href="structQX11Data.html#a0286978e14347e4024f52ece1a3d1390"> 1807</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structQX11Data.html#a0286978e14347e4024f52ece1a3d1390">QX11Data::xdndHandleSelectionRequest</a>(<span class="keyword">const</span> XSelectionRequestEvent * req)</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;{</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    <span class="keywordflow">if</span> (!req)</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    <a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a> evt;</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    evt.xselection.type = SelectionNotify;</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    evt.xselection.display = req-&gt;display;</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    evt.xselection.requestor = req-&gt;requestor;</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    evt.xselection.selection = req-&gt;selection;</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    evt.xselection.target = <a class="code" href="qt__x11__p_8h.html#a08f51f22ad2ed13a25181c2604573110a74d8b25f4f670f3cbc937ed8cfe5b9ef">XNone</a>;</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    evt.xselection.property = <a class="code" href="qt__x11__p_8h.html#a08f51f22ad2ed13a25181c2604573110a74d8b25f4f670f3cbc937ed8cfe5b9ef">XNone</a>;</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    evt.xselection.time = req-&gt;time;</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    <a class="code" href="classQDragManager.html">QDragManager</a> *manager = <a class="code" href="classQDragManager.html#ae9f511e9b0661bacc2d92c083e6e4c54">QDragManager::self</a>();</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;    <a class="code" href="classQDrag.html">QDrag</a> *currentObject = manager-&gt;<a class="code" href="classQDragManager.html#acd7ace319521a145f84ea6ba8b5cf96c">object</a>;</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    <span class="comment">// which transaction do we use? (note: -2 means use current manager-&gt;object)</span></div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="qbuiltintypes_8cpp.html#abc44de815465f08d372c4796f0b134dc">at</a> = -1;</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    <span class="comment">// figure out which data the requestor is really interested in</span></div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <span class="keywordflow">if</span> (manager-&gt;<a class="code" href="classQDragManager.html#acd7ace319521a145f84ea6ba8b5cf96c">object</a> &amp;&amp; req-&gt;time == <a class="code" href="qdnd__x11_8cpp.html#a45e6047b4a0f6f30880a9c94c838451b">qt_xdnd_source_current_time</a>) {</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;        <span class="comment">// requestor wants the current drag data</span></div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;        at = -2;</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;        <span class="comment">// if someone has requested data in response to XdndDrop, find the corresponding transaction. the</span></div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;        <span class="comment">// spec says to call XConvertSelection() using the timestamp from the XdndDrop</span></div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;        at = <a class="code" href="qdnd__x11_8cpp.html#a87738c5c7607253b05f2bd85d5df82bc">findXdndDropTransactionByTime</a>(req-&gt;time);</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;        <span class="keywordflow">if</span> (at == -1) {</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;            <span class="comment">// no dice, perhaps the client was nice enough to use the same window id in XConvertSelection()</span></div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;            <span class="comment">// that we sent the XdndDrop event to.</span></div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;            at = <a class="code" href="qdnd__x11_8cpp.html#ac363fbadfbb1323bb4fbd22b59b3aa9b">findXdndDropTransactionByWindow</a>(req-&gt;requestor);</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;        }</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;        <span class="keywordflow">if</span> (at == -1 &amp;&amp; req-&gt;time == CurrentTime) {</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;            <span class="comment">// previous Qt versions always requested the data on a child of the target window</span></div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;            <span class="comment">// using CurrentTime... but it could be asking for either drop data or the current drag&#39;s data</span></div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;            <a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa8e73f9b9c1eab37872a43901afd06767">Window</a> target = <a class="code" href="qdnd__x11_8cpp.html#ac56bd3ac6d2fd5f731ff6d7f6c7e0e53">findXdndAwareParent</a>(req-&gt;requestor);</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;            <span class="keywordflow">if</span> (target) {</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="qdnd__x11_8cpp.html#a5aa42095e78c73293ef0c77fab8c52e1">qt_xdnd_current_target</a> &amp;&amp; <a class="code" href="qdnd__x11_8cpp.html#a5aa42095e78c73293ef0c77fab8c52e1">qt_xdnd_current_target</a> == target)</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;                    at = -2;</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;                    at = <a class="code" href="qdnd__x11_8cpp.html#ac363fbadfbb1323bb4fbd22b59b3aa9b">findXdndDropTransactionByWindow</a>(target);</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;            }</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;        }</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    }</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    <span class="keywordflow">if</span> (at &gt;= 0) {</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;        <a class="code" href="qdnd__x11_8cpp.html#ab79d8b0615aafda4bbed5ca5f1a2f200">restartXdndDropExpiryTimer</a>();</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;        <span class="comment">// use the drag object from an XdndDrop tansaction</span></div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;        manager-&gt;<a class="code" href="classQDragManager.html#acd7ace319521a145f84ea6ba8b5cf96c">object</a> = <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;dndDropTransactions.at(at).object;</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (at != -2) {</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;        <span class="comment">// no transaction found, we&#39;ll have to reject the request</span></div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;        manager-&gt;<a class="code" href="classQDragManager.html#acd7ace319521a145f84ea6ba8b5cf96c">object</a> = 0;</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;    }</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    <span class="keywordflow">if</span> (manager-&gt;<a class="code" href="classQDragManager.html#acd7ace319521a145f84ea6ba8b5cf96c">object</a>) {</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;        <a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0">Atom</a> atomFormat = req-&gt;target;</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;        <span class="keywordtype">int</span> dataFormat = 0;</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;        <a class="code" href="classQByteArray.html">QByteArray</a> <a class="code" href="classQWidget.html#a769d29a16df15e8e58f4db5ca80a22d2">data</a>;</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;xdndMimeDataForAtom(req-&gt;target, manager-&gt;<a class="code" href="classQDragManager.html#a7791670fe9dc71bd07ba31b38725b6d4">dragPrivate</a>()-&gt;<a class="code" href="classQDragPrivate.html#aa2a36d0044e62f8f455e83c5719c815f">data</a>,</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;                                     &amp;<a class="code" href="classQWidget.html#a769d29a16df15e8e58f4db5ca80a22d2">data</a>, &amp;atomFormat, &amp;dataFormat)) {</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;            <span class="keywordtype">int</span> dataSize = data.<a class="code" href="classQByteArray.html#a0cd331ee1b05147f3173fb85dfcd0ccd">size</a>() / (dataFormat / 8);</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;            XChangeProperty (<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, req-&gt;requestor, req-&gt;property,</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;                             atomFormat, dataFormat, PropModeReplace,</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;                             (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)data.<a class="code" href="classQByteArray.html#a00805e2d9e3237e6c18b3d64859b2ef8">data</a>(), dataSize);</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;            evt.xselection.property = req-&gt;property;</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;            evt.xselection.target = atomFormat;</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;        }</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    }</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    <span class="comment">// reset manager-&gt;object in case we modified it above</span></div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;    manager-&gt;<a class="code" href="classQDragManager.html#acd7ace319521a145f84ea6ba8b5cf96c">object</a> = currentObject;</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;    <span class="comment">// ### this can die if req-&gt;requestor crashes at the wrong</span></div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;    <span class="comment">// ### moment</span></div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    XSendEvent(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, req-&gt;requestor, False, 0, &amp;evt);</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;}</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;</div><div class="line"><a name="l01883"></a><span class="lineno"><a class="line" href="qdnd__x11_8cpp.html#aab89d38cff1f9943242b8e9a30595f08"> 1883</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classQVariant.html">QVariant</a> <a class="code" href="qdnd__x11_8cpp.html#aab89d38cff1f9943242b8e9a30595f08">xdndObtainData</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="qprintengine__ps_8cpp.html#a387137c43ed9616d39ba90e890d181eb">format</a>, <a class="code" href="classQVariant.html#a8e1414f284ce72d9e6a85f2dcf80c754">QVariant::Type</a> requestedType)</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;{</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    <a class="code" href="classQByteArray.html">QByteArray</a> result;</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;    <a class="code" href="classQWidget.html">QWidget</a>* w;</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    <a class="code" href="classQDragManager.html">QDragManager</a> *manager = <a class="code" href="classQDragManager.html#ae9f511e9b0661bacc2d92c083e6e4c54">QDragManager::self</a>();</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="qdnd__x11_8cpp.html#a742ffc794232c5d5d81f60973f92b553">qt_xdnd_dragsource_xid</a> &amp;&amp; manager-&gt;<a class="code" href="classQDragManager.html#acd7ace319521a145f84ea6ba8b5cf96c">object</a> &amp;&amp;</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;         (w=<a class="code" href="classQWidget.html#a6a8da0b20b1f77c71a275c8abaa1569f">QWidget::find</a>(<a class="code" href="qdnd__x11_8cpp.html#a742ffc794232c5d5d81f60973f92b553">qt_xdnd_dragsource_xid</a>))</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;         &amp;&amp; (!(w-&gt;<a class="code" href="classQWidget.html#af32c7c4da65ba56211b84cab171ef969">windowType</a>() == <a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa07a5d1f8a9d05794167fa129b7fa45bb">Qt::Desktop</a>) || w-&gt;<a class="code" href="classQWidget.html#a0ed196e8e50ae08d7e1bf79ccfe5f1a4">acceptDrops</a>()))</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    {</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;        <a class="code" href="classQDragPrivate.html">QDragPrivate</a> * o = <a class="code" href="classQDragManager.html#ae9f511e9b0661bacc2d92c083e6e4c54">QDragManager::self</a>()-&gt;<a class="code" href="classQDragManager.html#a7791670fe9dc71bd07ba31b38725b6d4">dragPrivate</a>();</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;        <span class="keyword">const</span> <a class="code" href="classQString.html">QString</a> mimeType = <a class="code" href="classQString.html#a09b8b144ffd130ce7d065bacf7cd495e">QString::fromLatin1</a>(format);</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;        <span class="keywordflow">if</span> (o-&gt;<a class="code" href="classQDragPrivate.html#aa2a36d0044e62f8f455e83c5719c815f">data</a>-&gt;<a class="code" href="classQMimeData.html#a7c872f27c761af1f067f0b80613bd262">hasFormat</a>(mimeType)) {</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;            result = o-&gt;<a class="code" href="classQDragPrivate.html#aa2a36d0044e62f8f455e83c5719c815f">data</a>-&gt;<a class="code" href="classQMimeData.html#aca26a96c25e67f7e4907a0067978fec5">data</a>(mimeType);</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mimeType.<a class="code" href="classQString.html#a23d696df792149beab8d90125195cfee">startsWith</a>(<a class="code" href="classQLatin1String.html">QLatin1String</a>(<span class="stringliteral">&quot;image/&quot;</span>)) &amp;&amp; o-&gt;<a class="code" href="classQDragPrivate.html#aa2a36d0044e62f8f455e83c5719c815f">data</a>-&gt;<a class="code" href="classQMimeData.html#a4efd533f71b34ee99b7de866587fc288">hasImage</a>()) {</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;            <span class="comment">// ### duplicated from QInternalMimeData::renderDataHelper</span></div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;            <a class="code" href="classQImage.html">QImage</a> image = <a class="code" href="qvariant_8h.html#ab59931d305c140c85a357631116b0bd6">qvariant_cast</a>&lt;<a class="code" href="classQImage.html">QImage</a>&gt;(o-&gt;<a class="code" href="classQDragPrivate.html#aa2a36d0044e62f8f455e83c5719c815f">data</a>-&gt;<a class="code" href="classQMimeData.html#a2397679aeb504ec7ee22a86f00e87214">imageData</a>());</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;            <a class="code" href="classQBuffer.html">QBuffer</a> buf(&amp;result);</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;            buf.open(<a class="code" href="classQIODevice.html#af4c3367f5f33e4ae6d653d49e9f88d53af613ae41df167bfbdf5d1245ab1fc319">QBuffer::WriteOnly</a>);</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;            image.<a class="code" href="classQImage.html#ad2a09a1ef5f4d2cb74ef4746db86b0ec">save</a>(&amp;buf, mimeType.<a class="code" href="classQString.html#a0e3c8883986091e3e82971b0574fd882">mid</a>(mimeType.<a class="code" href="classQString.html#afffb887b72dd3ae599f1e6205c5248d9">indexOf</a>(<a class="code" href="structQLatin1Char.html">QLatin1Char</a>(<span class="charliteral">&#39;/&#39;</span>)) + 1).toLatin1().<a class="code" href="classQString.html#a9aa2f1aaf2a1a81d7ace1190fa704155">toUpper</a>());</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;        }</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;        <span class="keywordflow">return</span> result;</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;    }</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    <a class="code" href="classQList.html">QList&lt;Atom&gt;</a> atoms;</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    <span class="keywordtype">int</span> i = 0;</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    <span class="keywordflow">while</span> ((<a class="code" href="qdnd__x11_8cpp.html#aa03ed06ace217e538a6d2d46b67dc837">qt_xdnd_types</a>[i])) {</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;        atoms.<a class="code" href="classQList.html#a3a1e18c5fb9cc04324825a46540638c5">append</a>(<a class="code" href="qdnd__x11_8cpp.html#aa03ed06ace217e538a6d2d46b67dc837">qt_xdnd_types</a>[i]);</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;        ++i;</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    }</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;    <a class="code" href="classQByteArray.html">QByteArray</a> encoding;</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;    <a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0">Atom</a> <a class="code" href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a> = <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;xdndMimeAtomForFormat(<a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(format), requestedType, atoms, &amp;encoding);</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;    <span class="keywordflow">if</span> (!a)</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;        <span class="keywordflow">return</span> result;</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;    <span class="keywordflow">if</span> (XGetSelectionOwner(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0ad84a94e19678afdb417f012070350c60">XdndSelection</a>)) == <a class="code" href="qt__x11__p_8h.html#a08f51f22ad2ed13a25181c2604573110a74d8b25f4f670f3cbc937ed8cfe5b9ef">XNone</a>)</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;        <span class="keywordflow">return</span> result; <span class="comment">// should never happen?</span></div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;    <a class="code" href="classQWidget.html">QWidget</a>* tw = <a class="code" href="qdnd__x11_8cpp.html#a435afa7b7a3ea4af05f9b0cde3ef8920">qt_xdnd_current_widget</a>;</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;    <span class="keywordflow">if</span> (!qt_xdnd_current_widget || (qt_xdnd_current_widget-&gt;<a class="code" href="classQWidget.html#af32c7c4da65ba56211b84cab171ef969">windowType</a>() == <a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa07a5d1f8a9d05794167fa129b7fa45bb">Qt::Desktop</a>))</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;        tw = <span class="keyword">new</span> <a class="code" href="classQWidget.html#a0395e0f96402f8c7ee2b54c71c9c8cef">QWidget</a>;</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;    XConvertSelection(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0ad84a94e19678afdb417f012070350c60">XdndSelection</a>), a, <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0ad84a94e19678afdb417f012070350c60">XdndSelection</a>), tw-&gt;<a class="code" href="classQWidget.html#aa7fe0dd4e297bd72e03bae55067de79b">effectiveWinId</a>(),</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;                      <a class="code" href="qdnd__x11_8cpp.html#ac8e78135032b3807882cc45e681fff7a">qt_xdnd_target_current_time</a>);</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;    XFlush(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display);</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;    <a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a> xevent;</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    <span class="keywordtype">bool</span> got=<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;clipboardWaitForEvent(tw-&gt;<a class="code" href="classQWidget.html#aa7fe0dd4e297bd72e03bae55067de79b">effectiveWinId</a>(), SelectionNotify, &amp;xevent, 5000);</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;    <span class="keywordflow">if</span> (got) {</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;        <a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0">Atom</a> <a class="code" href="qmetatype_8cpp.html#ac765329451135abec74c45e1897abf26">type</a>;</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;clipboardReadProperty(tw-&gt;<a class="code" href="classQWidget.html#aa7fe0dd4e297bd72e03bae55067de79b">effectiveWinId</a>(), <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0ad84a94e19678afdb417f012070350c60">XdndSelection</a>), <span class="keyword">true</span>, &amp;result, 0, &amp;<a class="code" href="qmetatype_8cpp.html#ac765329451135abec74c45e1897abf26">type</a>, 0)) {</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;            <span class="keywordflow">if</span> (type == <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a4b2589a520e8df33c649cd69c50a0f40">INCR</a>)) {</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;                <span class="keywordtype">int</span> nbytes = result.<a class="code" href="classQByteArray.html#a0cd331ee1b05147f3173fb85dfcd0ccd">size</a>() &gt;= 4 ? *((<span class="keywordtype">int</span>*)result.<a class="code" href="classQByteArray.html#a00805e2d9e3237e6c18b3d64859b2ef8">data</a>()) : 0;</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;                result = <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;clipboardReadIncrementalProperty(tw-&gt;<a class="code" href="classQWidget.html#aa7fe0dd4e297bd72e03bae55067de79b">effectiveWinId</a>(), <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0ad84a94e19678afdb417f012070350c60">XdndSelection</a>), nbytes, <span class="keyword">false</span>);</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type != a &amp;&amp; type != <a class="code" href="qt__x11__p_8h.html#a08f51f22ad2ed13a25181c2604573110a74d8b25f4f670f3cbc937ed8cfe5b9ef">XNone</a>) {</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;                <a class="code" href="qdnd__x11_8cpp.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a>(<span class="stringliteral">&quot;Qt clipboard: unknown atom %ld&quot;</span>, type);</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;            }</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;        }</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;    }</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;    <span class="keywordflow">if</span> (!qt_xdnd_current_widget || (qt_xdnd_current_widget-&gt;<a class="code" href="classQWidget.html#af32c7c4da65ba56211b84cab171ef969">windowType</a>() == <a class="code" href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa07a5d1f8a9d05794167fa129b7fa45bb">Qt::Desktop</a>))</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;        <span class="keyword">delete</span> tw;</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;xdndMimeConvertToFormat(a, result, <a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(format), requestedType, encoding);</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;}</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;<span class="comment">  Enable drag and drop for widget w by installing the proper</span></div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;<span class="comment">  properties on w&#39;s toplevel widget.</span></div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01954"></a><span class="lineno"><a class="line" href="structQX11Data.html#a7259a3e677153105ebe69357a2d5ebfe"> 1954</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structQX11Data.html#a7259a3e677153105ebe69357a2d5ebfe">QX11Data::dndEnable</a>(<a class="code" href="classQWidget.html">QWidget</a>* w, <span class="keywordtype">bool</span> on)</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;{</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;    w = w-&gt;<a class="code" href="classQWidget.html#a091bcfa8bfe3a48f45fda3c88de95935">window</a>();</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;    <span class="keywordflow">if</span> (<span class="keywordtype">bool</span>(((<a class="code" href="classQExtraWidget.html">QExtraWidget</a>*)w)-&gt;topData()-&gt;dnd) == on)</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// been there, done that</span></div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;    ((<a class="code" href="classQExtraWidget.html">QExtraWidget</a>*)w)-&gt;topData()-&gt;dnd = on ? 1 : 0;</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;    motifdndEnable(w, on);</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="qdnd__x11_8cpp.html#a3b16b8294f9619793c06ce1732c51710">xdndEnable</a>(w, on);</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;}</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;<a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043">Qt::DropAction</a> <a class="code" href="classQDragManager.html#a785a650f3fea3858608bb742a592e9ac">QDragManager::drag</a>(<a class="code" href="classQDrag.html">QDrag</a> * o)</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;{</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;    <span class="keywordflow">if</span> (<span class="keywordtype">object</span> == o || !o || !o-&gt;d_func()-&gt;<a class="code" href="classQDrag.html#ac9e88715e2b88bb3efe1789526701de5">source</a>)</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043a7d5021238784afbb6b00e3cf8c45852d">Qt::IgnoreAction</a>;</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;    <span class="keywordflow">if</span> (<span class="keywordtype">object</span>) {</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;        cancel();</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;        <a class="code" href="qcoreapplication_8h.html#af3bf03a2bf98820de7ae03bef13c7d07">qApp</a>-&gt;removeEventFilter(<span class="keyword">this</span>);</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;        beingCancelled = <span class="keyword">false</span>;</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;    }</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;    <span class="keywordflow">if</span> (<span class="keywordtype">object</span>) {</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;        <span class="comment">// the last drag and drop operation hasn&#39;t finished, so we are going to wait</span></div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;        <span class="comment">// for one second to see if it does... if the finish message comes after this,</span></div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;        <span class="comment">// then we could still have problems, but this is highly unlikely</span></div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;        <a class="code" href="classQCoreApplication.html#a3ed44e8d476ab36c4c49ebf6c50ea1a2">QApplication::flush</a>();</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;        <a class="code" href="classQElapsedTimer.html">QElapsedTimer</a> <a class="code" href="qapplication__mac_8mm.html#a641b67476a9fd65d994c204ce786996f">timer</a>;</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;        timer.<a class="code" href="classQElapsedTimer.html#a011429f1286f65d035f27845d7454e02">start</a>();</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;        <span class="keywordflow">do</span> {</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;            <a class="code" href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a> <a class="code" href="classQWidget.html#a3fba29c95a28e9aa28272c9b86474b9b">event</a>;</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;            <span class="comment">// Pass the event through the event dispatcher filter so that applications</span></div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;            <span class="comment">// which install an event filter on the dispatcher get to handle it first.</span></div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;            <span class="keywordflow">if</span> (XCheckTypedEvent(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, ClientMessage, &amp;event) &amp;&amp;</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;                !<a class="code" href="classQAbstractEventDispatcher.html#a197be92052dbd9a19958214262696f72">QAbstractEventDispatcher::instance</a>()-&gt;<a class="code" href="classQAbstractEventDispatcher.html#a06ecb34c50682fe3994067f61cdec481">filterEvent</a>(&amp;event))</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;                <a class="code" href="qcoreapplication_8h.html#af3bf03a2bf98820de7ae03bef13c7d07">qApp</a>-&gt;x11ProcessEvent(&amp;event);</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;            <span class="comment">// sleep 50 ms, so we don&#39;t use up CPU cycles all the time.</span></div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;            <span class="keyword">struct </span>timeval usleep_tv;</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;            usleep_tv.tv_sec = 0;</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;            usleep_tv.tv_usec = 50000;</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;            <a class="code" href="qfunctions__nacl_8cpp.html#a63bad960746361d24877cc9fb1267ac1">select</a>(0, 0, 0, 0, &amp;usleep_tv);</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;        } <span class="keywordflow">while</span> (<span class="keywordtype">object</span> &amp;&amp; timer.<a class="code" href="classQElapsedTimer.html#a15350e9c8ea73051f8e3ab7b1da48f50">hasExpired</a>(1000));</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;    }</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;    <span class="keywordtype">object</span> = o;</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;    <span class="keywordtype">object</span>-&gt;d_func()-&gt;<a class="code" href="classQDrag.html#a40405397f6958dc86c20eab805ba9638">target</a> = 0;</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;    xdnd_data.<a class="code" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">deco</a> = <span class="keyword">new</span> <a class="code" href="classQShapedPixmapWidget.html#aaaec2c6eaa4dade1b7a1d1ce60294877">QShapedPixmapWidget</a>(object-&gt;source()-&gt;window());</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;    willDrop = <span class="keyword">false</span>;</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;    updatePixmap();</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;    <a class="code" href="qcoreapplication_8h.html#af3bf03a2bf98820de7ae03bef13c7d07">qApp</a>-&gt;installEventFilter(<span class="keyword">this</span>);</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;    XSetSelectionOwner(<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;display, <a class="code" href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a>(<a class="code" href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0ad84a94e19678afdb417f012070350c60">XdndSelection</a>), dragPrivate()-&gt;source-&gt;window()-&gt;internalWinId(), <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;time);</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#ae70ae4f55a56c90e0996e83771b510c6">global_accepted_action</a> = <a class="code" href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043a263405c8eeca7d0acf2bee35ade236f9">Qt::CopyAction</a>;</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;    qt_xdnd_source_sameanswer = <a class="code" href="classQRect.html">QRect</a>();</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;<span class="preprocessor">#ifndef QT_NO_CURSOR</span></div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;    <span class="comment">// set the override cursor (must be done here, since it is updated</span></div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;    <span class="comment">// in the call to move() below)</span></div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;    <a class="code" href="qcoreapplication_8h.html#af3bf03a2bf98820de7ae03bef13c7d07">qApp</a>-&gt;setOverrideCursor(<a class="code" href="namespaceQt.html#a6d774d2676850ebdccc027a7d06f9e1da99a60c008dce29f02e6aaa84a7183d51">Qt::ArrowCursor</a>);</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;    restoreCursor = <span class="keyword">true</span>;</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;    <a class="code" href="classQWidget.html#a627734afc161645c53ddbc80276d9018">move</a>(<a class="code" href="classQCursor.html#a8b5f012c646895b53d821f77ae2e9713">QCursor::pos</a>());</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#af4fec4bb2e18682d985110069f6e85c1">heartbeat</a> = <a class="code" href="classQObject.html#a385d704837451d4692f7e1fe1b1a0c98">startTimer</a>(200);</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#aa93146a4c3cf68369120db33b57a4dcb">qt_xdnd_dragging</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classQWidget.html#a92a963214b33ccca1f3ce0379e79309c">QWidget::mouseGrabber</a>())</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;        xdnd_data.<a class="code" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">deco</a>-&gt;<a class="code" href="classQWidget.html#ad0bdb75fd1ce789c86739639cdd4119e">grabMouse</a>();</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;    eventLoop = <span class="keyword">new</span> <a class="code" href="classQEventLoop.html">QEventLoop</a>;</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;    (void) eventLoop-&gt;<a class="code" href="classQEventLoop.html#a0fda485b976d6760ea7ab2afab7d7d10">exec</a>();</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;    <span class="keyword">delete</span> eventLoop;</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;    eventLoop = 0;</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;<span class="preprocessor">#ifndef QT_NO_CURSOR</span></div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    <span class="keywordflow">if</span> (restoreCursor) {</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;        <a class="code" href="qcoreapplication_8h.html#af3bf03a2bf98820de7ae03bef13c7d07">qApp</a>-&gt;restoreOverrideCursor();</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;        restoreCursor = <span class="keyword">false</span>;</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;    }</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;    <span class="comment">// delete cursors as they may be different next drag.</span></div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;    <span class="keyword">delete</span> <a class="code" href="qdnd__x11_8cpp.html#a4f1a2125913fa11b8ed49b9e642872ed">noDropCursor</a>;</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;    noDropCursor = 0;</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;    <span class="keyword">delete</span> <a class="code" href="qdnd__x11_8cpp.html#a929168397c7c776a654bb63fe28ed39f">copyCursor</a>;</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    copyCursor = 0;</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;    <span class="keyword">delete</span> <a class="code" href="qdnd__x11_8cpp.html#a2ccf1eada810bf9322438af000b3bd5c">moveCursor</a>;</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;    moveCursor = 0;</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    <span class="keyword">delete</span> <a class="code" href="qdnd__x11_8cpp.html#a056fdc81ae8e2fee63875f6ed073c70a">linkCursor</a>;</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;    linkCursor = 0;</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;</div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;    <span class="keyword">delete</span> xdnd_data.<a class="code" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">deco</a>;</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;    xdnd_data.<a class="code" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">deco</a> = 0;</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="qdnd__x11_8cpp.html#af4fec4bb2e18682d985110069f6e85c1">heartbeat</a> != -1)</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;        <a class="code" href="classQObject.html#af3541fffb7562f18c698ff7a4c00963b">killTimer</a>(<a class="code" href="qdnd__x11_8cpp.html#af4fec4bb2e18682d985110069f6e85c1">heartbeat</a>);</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#af4fec4bb2e18682d985110069f6e85c1">heartbeat</a> = -1;</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#a22e09786270a7ef559b1612a047dcfcf">qt_xdnd_current_screen</a> = -1;</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    <a class="code" href="qdnd__x11_8cpp.html#aa93146a4c3cf68369120db33b57a4dcb">qt_xdnd_dragging</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;</div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="qdnd__x11_8cpp.html#ae70ae4f55a56c90e0996e83771b510c6">global_accepted_action</a>;</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    <span class="comment">// object persists until we get an xdnd_finish message</span></div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;}</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classQDragManager.html#aabb2e6ddb999a3ac757def006bcb0a23">QDragManager::updatePixmap</a>()</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;{</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    <span class="keywordflow">if</span> (xdnd_data.<a class="code" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">deco</a>) {</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;        <a class="code" href="classQPixmap.html">QPixmap</a> pm;</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;        <a class="code" href="classQPoint.html">QPoint</a> <a class="code" href="classQShapedPixmapWidget.html#a468570123e1972e598e731a2a63385bf">pm_hot</a>(<a class="code" href="qdnd__x11_8cpp.html#aa79cdcc837ef853c1e5a68239459e40e">default_pm_hotx</a>,<a class="code" href="qdnd__x11_8cpp.html#adb78894c9ef82e1fa25f6476f0a3467c">default_pm_hoty</a>);</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;        <span class="keywordflow">if</span> (<span class="keywordtype">object</span>) {</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;            pm = dragPrivate()-&gt;pixmap;</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;            <span class="keywordflow">if</span> (!pm.<a class="code" href="classQPixmap.html#a6af763873ee1f4869e317ca31539583e">isNull</a>())</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;                pm_hot = dragPrivate()-&gt;hotspot;</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;        }</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;        <span class="keywordflow">if</span> (pm.<a class="code" href="classQPixmap.html#a6af763873ee1f4869e317ca31539583e">isNull</a>()) {</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;            <span class="keywordflow">if</span> (!defaultPm)</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;                defaultPm = <span class="keyword">new</span> <a class="code" href="classQWidget.html#a99bd2cfa39fb24352eb803e6e785d262">QPixmap</a>(<a class="code" href="qdnd__x11_8cpp.html#a83675dececb36c81404f147e0aab21c4">default_pm</a>);</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;            pm = *<a class="code" href="qdnd__x11_8cpp.html#a89034fb525638a078aa8f951c422a4b1">defaultPm</a>;</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;        }</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;        xdnd_data.<a class="code" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">deco</a>-&gt;<a class="code" href="classQShapedPixmapWidget.html#a468570123e1972e598e731a2a63385bf">pm_hot</a> = <a class="code" href="classQShapedPixmapWidget.html#a468570123e1972e598e731a2a63385bf">pm_hot</a>;</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;        xdnd_data.<a class="code" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">deco</a>-&gt;<a class="code" href="classQShapedPixmapWidget.html#ac519e646f3c6981007ef0600efcafa51">setPixmap</a>(pm);</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;        xdnd_data.<a class="code" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">deco</a>-&gt;<a class="code" href="classQWidget.html#a627734afc161645c53ddbc80276d9018">move</a>(<a class="code" href="classQCursor.html#a8b5f012c646895b53d821f77ae2e9713">QCursor::pos</a>()-pm_hot);</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;        xdnd_data.<a class="code" href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">deco</a>-&gt;<a class="code" href="classQWidget.html#a8687422a6c9d477d0eaa47f77d3d0d31">show</a>();</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;    }</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;}</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;<a class="code" href="classQVariant.html">QVariant</a> <a class="code" href="classQDropData.html#a1d6ee44c42ddad73674da48e33f11fc4">QDropData::retrieveData_sys</a>(<span class="keyword">const</span> <a class="code" href="classQString.html">QString</a> &amp;mimetype, <a class="code" href="classQVariant.html#a8e1414f284ce72d9e6a85f2dcf80c754">QVariant::Type</a> requestedType)<span class="keyword"> const</span></div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;    <a class="code" href="classQByteArray.html">QByteArray</a> <a class="code" href="qsimplecodec_8cpp.html#ae8d4351c34fff5317b75f2dc62ae30df">mime</a> = mimetype.<a class="code" href="classQString.html#a9491884b49163344c4a03c738125f93d">toLatin1</a>();</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;    <a class="code" href="classQVariant.html">QVariant</a> <a class="code" href="classQWidget.html#a769d29a16df15e8e58f4db5ca80a22d2">data</a> = <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;motifdnd_active</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;                      ? <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;motifdndObtainData(mime)</div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;                      : <a class="code" href="qdnd__x11_8cpp.html#aab89d38cff1f9943242b8e9a30595f08">xdndObtainData</a>(mime, requestedType);</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classQWidget.html#a769d29a16df15e8e58f4db5ca80a22d2">data</a>;</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;}</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classQDropData.html#a436ac4ea376dbb9f22016b542f1826db">QDropData::hasFormat_sys</a>(<span class="keyword">const</span> <a class="code" href="classQString.html">QString</a> &amp;<a class="code" href="qprintengine__ps_8cpp.html#a387137c43ed9616d39ba90e890d181eb">format</a>)<span class="keyword"> const</span></div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;    <span class="keywordflow">return</span> formats().contains(format);</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;}</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;<a class="code" href="classQStringList.html">QStringList</a> <a class="code" href="classQDropData.html#a67571d265b02e55f7fe628d3efe275f3">QDropData::formats_sys</a>()<span class="keyword"> const</span></div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;    <a class="code" href="classQStringList.html">QStringList</a> formats;</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;motifdnd_active) {</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;        <span class="keywordtype">int</span> i = 0;</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;        <a class="code" href="classQByteArray.html">QByteArray</a> fmt;</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;        <span class="keywordflow">while</span> (!(fmt = <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;motifdndFormat(i)).<a class="code" href="namespaceQTest.html#abe820185b0af5a4ee3ae2527081fb774">isEmpty</a>()) {</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;            formats.<a class="code" href="classQList.html#a3a1e18c5fb9cc04324825a46540638c5">append</a>(<a class="code" href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a>(fmt));</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;            ++i;</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;        }</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;        <span class="keywordtype">int</span> i = 0;</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;        <span class="keywordflow">while</span> ((<a class="code" href="qdnd__x11_8cpp.html#aa03ed06ace217e538a6d2d46b67dc837">qt_xdnd_types</a>[i])) {</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;            <a class="code" href="classQStringList.html">QStringList</a> formatsForAtom = <a class="code" href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a>-&gt;xdndMimeFormatsForAtom(<a class="code" href="qdnd__x11_8cpp.html#aa03ed06ace217e538a6d2d46b67dc837">qt_xdnd_types</a>[i]);</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; formatsForAtom.<a class="code" href="classQList.html#aa83cded751888bb21257cb4890652809">size</a>(); ++j) {</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;                <span class="keywordflow">if</span> (!formats.<a class="code" href="classQStringList.html#a5ae9ca4dea38e854137506d5c93f03f4">contains</a>(formatsForAtom.<a class="code" href="classQList.html#ab32e1ab64b7837c2d0d7a89c4ca8d9c2">at</a>(j)))</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;                    formats.<a class="code" href="classQList.html#a3a1e18c5fb9cc04324825a46540638c5">append</a>(formatsForAtom.<a class="code" href="classQList.html#ab32e1ab64b7837c2d0d7a89c4ca8d9c2">at</a>(j));</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;            }</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;            ++i;</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;        }</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;    }</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;    <span class="keywordflow">return</span> formats;</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;}</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;<a class="code" href="qglobal_8h.html#af0211888b9fea89f8a616cd6566c521e">QT_END_NAMESPACE</a></div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;<span class="preprocessor">#endif // QT_NO_DRAGANDDROP</span></div><div class="ttc" id="classQVariant_html"><div class="ttname"><a href="classQVariant.html">QVariant</a></div><div class="ttdoc">The QVariant class acts like a union for the most common Qt data types. </div><div class="ttdef"><b>Definition:</b> <a href="qvariant_8h_source.html#l00092">qvariant.h:92</a></div></div>
<div class="ttc" id="qvariant_8h_html"><div class="ttname"><a href="qvariant_8h.html">qvariant.h</a></div></div>
<div class="ttc" id="namespaceQt_html_a6d774d2676850ebdccc027a7d06f9e1da99a60c008dce29f02e6aaa84a7183d51"><div class="ttname"><a href="namespaceQt.html#a6d774d2676850ebdccc027a7d06f9e1da99a60c008dce29f02e6aaa84a7183d51">Qt::ArrowCursor</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l01263">qnamespace.h:1263</a></div></div>
<div class="ttc" id="classQWidget_html_a2d40b6c316a4c264c4671b7eac7830fc"><div class="ttname"><a href="classQWidget.html#a2d40b6c316a4c264c4671b7eac7830fc">QWidget::pos</a></div><div class="ttdeci">QPoint pos() const</div></div>
<div class="ttc" id="classQObject_html_a385d704837451d4692f7e1fe1b1a0c98"><div class="ttname"><a href="classQObject.html#a385d704837451d4692f7e1fe1b1a0c98">QObject::startTimer</a></div><div class="ttdeci">int startTimer(int interval)</div><div class="ttdoc">Starts a timer and returns a timer identifier, or returns zero if it could not start a timer...</div><div class="ttdef"><b>Definition:</b> <a href="qobject_8cpp_source.html#l01623">qobject.cpp:1623</a></div></div>
<div class="ttc" id="classQString_html_aa723f6cd7a5d3f99182e6e73f86c94dd"><div class="ttname"><a href="classQString.html#aa723f6cd7a5d3f99182e6e73f86c94dd">QString::contains</a></div><div class="ttdeci">QBool contains(QChar c, Qt::CaseSensitivity cs=Qt::CaseSensitive) const</div><div class="ttdef"><b>Definition:</b> <a href="qstring_8h_source.html#l00904">qstring.h:904</a></div></div>
<div class="ttc" id="classQPainter_html"><div class="ttname"><a href="classQPainter.html">QPainter</a></div><div class="ttdoc">The QPainter class performs low-level painting on widgets and other paint devices. </div><div class="ttdef"><b>Definition:</b> <a href="qpainter_8h_source.html#l00086">qpainter.h:86</a></div></div>
<div class="ttc" id="classQDragManager_html_a69c0d745f3597d5f7ab15938c74b3d98"><div class="ttname"><a href="classQDragManager.html#a69c0d745f3597d5f7ab15938c74b3d98">QDragManager::updateCursor</a></div><div class="ttdeci">void updateCursor()</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__mac_8mm_source.html#l00268">qdnd_mac.mm:268</a></div></div>
<div class="ttc" id="classQPixmap_html_a1f2750b6254847c94ef5d6213be342b7"><div class="ttname"><a href="classQPixmap.html#a1f2750b6254847c94ef5d6213be342b7">QPixmap::toImage</a></div><div class="ttdeci">QImage toImage() const</div><div class="ttdoc">Converts the pixmap to a QImage. </div><div class="ttdef"><b>Definition:</b> <a href="qpixmap_8cpp_source.html#l00542">qpixmap.cpp:542</a></div></div>
<div class="ttc" id="qiodevice_8h_html"><div class="ttname"><a href="qiodevice_8h.html">qiodevice.h</a></div></div>
<div class="ttc" id="classQWidget_html_acd566f3a8b3bf5518181475f153e9300"><div class="ttname"><a href="classQWidget.html#acd566f3a8b3bf5518181475f153e9300">QWidget::parentWidget</a></div><div class="ttdeci">QWidget * parentWidget() const</div><div class="ttdoc">Returns the parent of this widget, or 0 if it does not have any parent widget. </div><div class="ttdef"><b>Definition:</b> <a href="qwidget_8h_source.html#l01035">qwidget.h:1035</a></div></div>
<div class="ttc" id="classQDragPrivate_html_a4bdd0b50c32b4bae831e34dd25f784c1"><div class="ttname"><a href="classQDragPrivate.html#a4bdd0b50c32b4bae831e34dd25f784c1">QDragPrivate::possible_actions</a></div><div class="ttdeci">Qt::DropActions possible_actions</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__p_8h_source.html#l00182">qdnd_p.h:182</a></div></div>
<div class="ttc" id="classQPixmap_html_abe47634085ac138e8a93d76301686868"><div class="ttname"><a href="classQPixmap.html#abe47634085ac138e8a93d76301686868">QPixmap::fromImage</a></div><div class="ttdeci">static QPixmap fromImage(const QImage &amp;image, Qt::ImageConversionFlags flags=Qt::AutoColor)</div><div class="ttdoc">Converts the given image to a pixmap using the specified flags to control the conversion. </div><div class="ttdef"><b>Definition:</b> <a href="qpixmap_8cpp_source.html#l02197">qpixmap.cpp:2197</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_a94efadfc543c931e7d4bbb6eaea29c22"><div class="ttname"><a href="qdnd__x11_8cpp.html#a94efadfc543c931e7d4bbb6eaea29c22">qtaction_to_xdndaction</a></div><div class="ttdeci">static int qtaction_to_xdndaction(Qt::DropAction a)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00189">qdnd_x11.cpp:189</a></div></div>
<div class="ttc" id="classQDragManager_html_ab40191436b2ab5e2bb82cf9008791bbf"><div class="ttname"><a href="classQDragManager.html#ab40191436b2ab5e2bb82cf9008791bbf">QDragManager::xdndMimeTransferedPixmap</a></div><div class="ttdeci">QPixmap xdndMimeTransferedPixmap[2]</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__p_8h_source.html#l00259">qdnd_p.h:259</a></div></div>
<div class="ttc" id="namespaceQt_html_acc0cb4faac300e58b71c2054b9e1d71aad280c99a976b54a8a692de7026bcf74c"><div class="ttname"><a href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aad280c99a976b54a8a692de7026bcf74c">Qt::Tool</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00277">qnamespace.h:277</a></div></div>
<div class="ttc" id="classQElapsedTimer_html_a15350e9c8ea73051f8e3ab7b1da48f50"><div class="ttname"><a href="classQElapsedTimer.html#a15350e9c8ea73051f8e3ab7b1da48f50">QElapsedTimer::hasExpired</a></div><div class="ttdeci">bool hasExpired(qint64 timeout) const</div><div class="ttdoc">Returns true if this QElapsedTimer has already expired by timeout milliseconds (that is...</div><div class="ttdef"><b>Definition:</b> <a href="qelapsedtimer_8cpp_source.html#l00269">qelapsedtimer.cpp:269</a></div></div>
<div class="ttc" id="classQKeyEvent_html"><div class="ttname"><a href="classQKeyEvent.html">QKeyEvent</a></div><div class="ttdoc">The QKeyEvent class describes a key event. </div><div class="ttdef"><b>Definition:</b> <a href="qevent_8h_source.html#l00224">qevent.h:224</a></div></div>
<div class="ttc" id="classQDropData_html_a436ac4ea376dbb9f22016b542f1826db"><div class="ttname"><a href="classQDropData.html#a436ac4ea376dbb9f22016b542f1826db">QDropData::hasFormat_sys</a></div><div class="ttdeci">bool hasFormat_sys(const QString &amp;mimeType) const</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__mac_8mm_source.html#l00214">qdnd_mac.mm:214</a></div></div>
<div class="ttc" id="qwindowdefs_8h_html_a08fcbd33489219e78cbe3dd55b1c0f5e"><div class="ttname"><a href="qwindowdefs_8h.html#a08fcbd33489219e78cbe3dd55b1c0f5e">WId</a></div><div class="ttdeci">unsigned long WId</div><div class="ttdef"><b>Definition:</b> <a href="qwindowdefs_8h_source.html#l00119">qwindowdefs.h:119</a></div></div>
<div class="ttc" id="structQX11Data_html_abb3103e31d33374e6f9f0793f466d611"><div class="ttname"><a href="structQX11Data.html#abb3103e31d33374e6f9f0793f466d611">QX11Data::xdndHandlePosition</a></div><div class="ttdeci">void xdndHandlePosition(QWidget *, const XEvent *, bool)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00991">qdnd_x11.cpp:991</a></div></div>
<div class="ttc" id="namespaceQXcbAtom_html_ae0d50e173ccbe293594603e314b3eea0ad84a94e19678afdb417f012070350c60"><div class="ttname"><a href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0ad84a94e19678afdb417f012070350c60">QXcbAtom::XdndSelection</a></div><div class="ttdef"><b>Definition:</b> <a href="qxcbconnection_8h_source.html#l00177">qxcbconnection.h:177</a></div></div>
<div class="ttc" id="classQRect_html_ae9557528c859e71accb055963c6521e8"><div class="ttname"><a href="classQRect.html#ae9557528c859e71accb055963c6521e8">QRect::isNull</a></div><div class="ttdeci">bool isNull() const</div><div class="ttdoc">Returns true if the rectangle is a null rectangle, otherwise returns false. </div><div class="ttdef"><b>Definition:</b> <a href="qrect_8h_source.html#l00231">qrect.h:231</a></div></div>
<div class="ttc" id="classQWidget_html_ad0bdb75fd1ce789c86739639cdd4119e"><div class="ttname"><a href="classQWidget.html#ad0bdb75fd1ce789c86739639cdd4119e">QWidget::grabMouse</a></div><div class="ttdeci">void grabMouse()</div><div class="ttdoc">Grabs the mouse input. </div><div class="ttdef"><b>Definition:</b> <a href="qwidget__mac_8mm_source.html#l03308">qwidget_mac.mm:3308</a></div></div>
<div class="ttc" id="qelapsedtimer_8h_html"><div class="ttname"><a href="qelapsedtimer_8h.html">qelapsedtimer.h</a></div></div>
<div class="ttc" id="classQString_html_a804c9b75b66a1a97cdd3ef59e36b181e"><div class="ttname"><a href="classQString.html#a804c9b75b66a1a97cdd3ef59e36b181e">QString::fromLocal8Bit</a></div><div class="ttdeci">static QString fromLocal8Bit(const char *, int size=-1)</div><div class="ttdoc">Returns a QString initialized with the first size characters of the 8-bit string str. </div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l04245">qstring.cpp:4245</a></div></div>
<div class="ttc" id="qmetatype_8cpp_html_ac765329451135abec74c45e1897abf26"><div class="ttname"><a href="qmetatype_8cpp.html#ac765329451135abec74c45e1897abf26">type</a></div><div class="ttdeci">int type</div><div class="ttdef"><b>Definition:</b> <a href="qmetatype_8cpp_source.html#l00239">qmetatype.cpp:239</a></div></div>
<div class="ttc" id="classQDropData_html_a67571d265b02e55f7fe628d3efe275f3"><div class="ttname"><a href="classQDropData.html#a67571d265b02e55f7fe628d3efe275f3">QDropData::formats_sys</a></div><div class="ttdeci">QStringList formats_sys() const</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__mac_8mm_source.html#l00245">qdnd_mac.mm:245</a></div></div>
<div class="ttc" id="classQAbstractEventDispatcher_html_a06ecb34c50682fe3994067f61cdec481"><div class="ttname"><a href="classQAbstractEventDispatcher.html#a06ecb34c50682fe3994067f61cdec481">QAbstractEventDispatcher::filterEvent</a></div><div class="ttdeci">bool filterEvent(void *message)</div><div class="ttdoc">Sends message through the event filter that was set by setEventFilter(). </div><div class="ttdef"><b>Definition:</b> <a href="qabstracteventdispatcher_8cpp_source.html#l00560">qabstracteventdispatcher.cpp:560</a></div></div>
<div class="ttc" id="classQWidget_html_a24bd589a09a52c20accc2076223498ba"><div class="ttname"><a href="classQWidget.html#a24bd589a09a52c20accc2076223498ba">QWidget::y</a></div><div class="ttdeci">int y() const</div></div>
<div class="ttc" id="classQCursor_html"><div class="ttname"><a href="classQCursor.html">QCursor</a></div><div class="ttdoc">The QCursor class provides a mouse cursor with an arbitrary shape. </div><div class="ttdef"><b>Definition:</b> <a href="qcursor_8h_source.html#l00089">qcursor.h:89</a></div></div>
<div class="ttc" id="classQShapedPixmapWidget_html_a7d39580c034e5b2205cf8015374b09ce"><div class="ttname"><a href="classQShapedPixmapWidget.html#a7d39580c034e5b2205cf8015374b09ce">QShapedPixmapWidget::pixmap</a></div><div class="ttdeci">QPixmap pixmap</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__qws_8cpp_source.html#l00090">qdnd_qws.cpp:90</a></div></div>
<div class="ttc" id="qnumeric__p_8h_html_aa8bc5d06b176e45541cdfaf9c2c9dfea"><div class="ttname"><a href="qnumeric__p_8h.html#aa8bc5d06b176e45541cdfaf9c2c9dfea">c</a></div><div class="ttdeci">unsigned char c[8]</div><div class="ttdef"><b>Definition:</b> <a href="qnumeric__p_8h_source.html#l00062">qnumeric_p.h:62</a></div></div>
<div class="ttc" id="namespaceQt_html_aab89d2c3465e41bbae6ee0f740c12043a7d5021238784afbb6b00e3cf8c45852d"><div class="ttname"><a href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043a7d5021238784afbb6b00e3cf8c45852d">Qt::IgnoreAction</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l01603">qnamespace.h:1603</a></div></div>
<div class="ttc" id="qglobal_8h_html_a6d0450aa696b2c3684c16be18edd169a"><div class="ttname"><a href="qglobal_8h.html#a6d0450aa696b2c3684c16be18edd169a">qMin</a></div><div class="ttdeci">Q_DECL_CONSTEXPR const T &amp; qMin(const T &amp;a, const T &amp;b)</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l01215">qglobal.h:1215</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_aa79cdcc837ef853c1e5a68239459e40e"><div class="ttname"><a href="qdnd__x11_8cpp.html#aa79cdcc837ef853c1e5a68239459e40e">default_pm_hotx</a></div><div class="ttdeci">static const int default_pm_hotx</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00260">qdnd_x11.cpp:260</a></div></div>
<div class="ttc" id="classQDrag_html_ac9e88715e2b88bb3efe1789526701de5"><div class="ttname"><a href="classQDrag.html#ac9e88715e2b88bb3efe1789526701de5">QDrag::source</a></div><div class="ttdeci">QWidget * source() const</div><div class="ttdoc">Returns the source of the drag object. </div><div class="ttdef"><b>Definition:</b> <a href="qdrag_8cpp_source.html#l00209">qdrag.cpp:209</a></div></div>
<div class="ttc" id="qglobal_8h_html_af0211888b9fea89f8a616cd6566c521e"><div class="ttname"><a href="qglobal_8h.html#af0211888b9fea89f8a616cd6566c521e">QT_END_NAMESPACE</a></div><div class="ttdeci">#define QT_END_NAMESPACE</div><div class="ttdoc">This macro expands to. </div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l00090">qglobal.h:90</a></div></div>
<div class="ttc" id="classQEvent_html_a36f905fa770866e1aac2144c37682d2cacaaed1dbbcd6a45a7e342913096d5eae"><div class="ttname"><a href="classQEvent.html#a36f905fa770866e1aac2144c37682d2cacaaed1dbbcd6a45a7e342913096d5eae">QEvent::MouseButtonDblClick</a></div><div class="ttdef"><b>Definition:</b> <a href="qcoreevent_8h_source.html#l00073">qcoreevent.h:73</a></div></div>
<div class="ttc" id="classQDrag_html"><div class="ttname"><a href="classQDrag.html">QDrag</a></div><div class="ttdoc">The QDrag class provides support for MIME-based drag and drop data transfer. </div><div class="ttdef"><b>Definition:</b> <a href="qdrag_8h_source.html#l00061">qdrag.h:61</a></div></div>
<div class="ttc" id="structQTLWExtra_html"><div class="ttname"><a href="structQTLWExtra.html">QTLWExtra</a></div><div class="ttdef"><b>Definition:</b> <a href="qwidget__p_8h_source.html#l00160">qwidget_p.h:160</a></div></div>
<div class="ttc" id="classQPixmap_html_a71696b7e1ae9454048aab0b9896c11d5"><div class="ttname"><a href="classQPixmap.html#a71696b7e1ae9454048aab0b9896c11d5">QPixmap::width</a></div><div class="ttdeci">int width() const</div><div class="ttdoc">Returns the width of the pixmap. </div><div class="ttdef"><b>Definition:</b> <a href="qpixmap_8cpp_source.html#l00630">qpixmap.cpp:630</a></div></div>
<div class="ttc" id="structXdndData_html_a7768a80bf6d86278af9224b26b7de995"><div class="ttname"><a href="structXdndData.html#a7768a80bf6d86278af9224b26b7de995">XdndData::desktop_proxy</a></div><div class="ttdeci">QWidget * desktop_proxy</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00318">qdnd_x11.cpp:318</a></div></div>
<div class="ttc" id="qapplication__mac_8mm_html_a1da84963114d4b55598eac347f3590de"><div class="ttname"><a href="qapplication__mac_8mm.html#a1da84963114d4b55598eac347f3590de">widget</a></div><div class="ttdeci">QPointer&lt; QWidget &gt; widget</div><div class="ttdef"><b>Definition:</b> <a href="qapplication__mac_8mm_source.html#l00879">qapplication_mac.mm:879</a></div></div>
<div class="ttc" id="structQXdndDropTransaction_html_a692ade7747aab67f010ac03aaad3a738"><div class="ttname"><a href="structQXdndDropTransaction.html#a692ade7747aab67f010ac03aaad3a738">QXdndDropTransaction::target</a></div><div class="ttdeci">Window target</div><div class="ttdef"><b>Definition:</b> <a href="qt__x11__p_8h_source.html#l00328">qt_x11_p.h:328</a></div></div>
<div class="ttc" id="classQByteArray_html_a00805e2d9e3237e6c18b3d64859b2ef8"><div class="ttname"><a href="classQByteArray.html#a00805e2d9e3237e6c18b3d64859b2ef8">QByteArray::data</a></div><div class="ttdeci">char * data()</div><div class="ttdoc">Returns a pointer to the data stored in the byte array. </div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8h_source.html#l00429">qbytearray.h:429</a></div></div>
<div class="ttc" id="qdebug_8h_html"><div class="ttname"><a href="qdebug_8h.html">qdebug.h</a></div></div>
<div class="ttc" id="namespaceQXcbAtom_html_ae0d50e173ccbe293594603e314b3eea0af26a99fa88227677d646ddae4519168b"><div class="ttname"><a href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0af26a99fa88227677d646ddae4519168b">QXcbAtom::XdndStatus</a></div><div class="ttdef"><b>Definition:</b> <a href="qxcbconnection_8h_source.html#l00170">qxcbconnection.h:170</a></div></div>
<div class="ttc" id="namespaceQt_html_a6d774d2676850ebdccc027a7d06f9e1daddcf39c7e5f6af922c8abda25fb34023"><div class="ttname"><a href="namespaceQt.html#a6d774d2676850ebdccc027a7d06f9e1daddcf39c7e5f6af922c8abda25fb34023">Qt::ForbiddenCursor</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l01277">qnamespace.h:1277</a></div></div>
<div class="ttc" id="qwidget_8h_html"><div class="ttname"><a href="qwidget_8h.html">qwidget.h</a></div></div>
<div class="ttc" id="classQEvent_html_a36f905fa770866e1aac2144c37682d2ca839a432fd2c9b70bdc5d93f0f75f7761"><div class="ttname"><a href="classQEvent.html#a36f905fa770866e1aac2144c37682d2ca839a432fd2c9b70bdc5d93f0f75f7761">QEvent::Wheel</a></div><div class="ttdef"><b>Definition:</b> <a href="qcoreevent_8h_source.html#l00100">qcoreevent.h:100</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_ac8e78135032b3807882cc45e681fff7a"><div class="ttname"><a href="qdnd__x11_8cpp.html#ac8e78135032b3807882cc45e681fff7a">qt_xdnd_target_current_time</a></div><div class="ttdeci">static Time qt_xdnd_target_current_time</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00233">qdnd_x11.cpp:233</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_a3143b57146ef21ea3727156d369558f2a4b78f763eb7c4edd16353f73bf6192da"><div class="ttname"><a href="qdnd__x11_8cpp.html#a3143b57146ef21ea3727156d369558f2a4b78f763eb7c4edd16353f73bf6192da">XdndDropTransactionTimeout</a></div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00122">qdnd_x11.cpp:122</a></div></div>
<div class="ttc" id="namespaceQt_html_acc0cb4faac300e58b71c2054b9e1d71aa7a5137c367e3fe65639c756d1feb4b6e"><div class="ttname"><a href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa7a5137c367e3fe65639c756d1feb4b6e">Qt::BypassGraphicsProxyWidget</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00307">qnamespace.h:307</a></div></div>
<div class="ttc" id="qapplication_8h_html"><div class="ttname"><a href="qapplication_8h.html">qapplication.h</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_ab02c52adf0efed08ad3908a1cb0c672f"><div class="ttname"><a href="qdnd__x11_8cpp.html#ab02c52adf0efed08ad3908a1cb0c672f">qt_xdnd_current_position</a></div><div class="ttdeci">static QPoint qt_xdnd_current_position</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00231">qdnd_x11.cpp:231</a></div></div>
<div class="ttc" id="qcoreapplication_8cpp_html_a5cd2b8a6176e2d0c19c3d13ab8a22c81"><div class="ttname"><a href="qcoreapplication_8cpp.html#a5cd2b8a6176e2d0c19c3d13ab8a22c81">qAddPostRoutine</a></div><div class="ttdeci">void qAddPostRoutine(QtCleanUpFunction p)</div><div class="ttdef"><b>Definition:</b> <a href="qcoreapplication_8cpp_source.html#l00273">qcoreapplication.cpp:273</a></div></div>
<div class="ttc" id="classQWidget_html_ad3efa9e9b1d740f0d4f9a82fa84bc057"><div class="ttname"><a href="classQWidget.html#ad3efa9e9b1d740f0d4f9a82fa84bc057">QWidget::isWindow</a></div><div class="ttdeci">bool isWindow() const</div><div class="ttdoc">Returns true if the widget is an independent window, otherwise returns false. </div><div class="ttdef"><b>Definition:</b> <a href="qwidget_8h_source.html#l00945">qwidget.h:945</a></div></div>
<div class="ttc" id="classQWidget_html_aa7fe0dd4e297bd72e03bae55067de79b"><div class="ttname"><a href="classQWidget.html#aa7fe0dd4e297bd72e03bae55067de79b">QWidget::effectiveWinId</a></div><div class="ttdeci">WId effectiveWinId() const</div><div class="ttdoc">Returns the effective window system identifier of the widget, i. </div><div class="ttdef"><b>Definition:</b> <a href="qwidget_8cpp_source.html#l02654">qwidget.cpp:2654</a></div></div>
<div class="ttc" id="classQCoreApplication_html_adb9ab49f133c9ee64d1e633ca9746047"><div class="ttname"><a href="classQCoreApplication.html#adb9ab49f133c9ee64d1e633ca9746047">QCoreApplication::postEvent</a></div><div class="ttdeci">static void postEvent(QObject *receiver, QEvent *event)</div><div class="ttdoc">Adds the event event, with the object receiver as the receiver of the event, to an event queue and re...</div><div class="ttdef"><b>Definition:</b> <a href="qcoreapplication_8cpp_source.html#l01315">qcoreapplication.cpp:1315</a></div></div>
<div class="ttc" id="classQWidget_html_aef838e4f41c0ec315ffc19dc1cb931af"><div class="ttname"><a href="classQWidget.html#aef838e4f41c0ec315ffc19dc1cb931af">QWidget::isVisible</a></div><div class="ttdeci">bool isVisible() const</div><div class="ttdef"><b>Definition:</b> <a href="qwidget_8h_source.html#l01005">qwidget.h:1005</a></div></div>
<div class="ttc" id="structQWExtra_html"><div class="ttname"><a href="structQWExtra.html">QWExtra</a></div><div class="ttdef"><b>Definition:</b> <a href="qwidget__p_8h_source.html#l00244">qwidget_p.h:244</a></div></div>
<div class="ttc" id="classQAbstractEventDispatcher_html_a197be92052dbd9a19958214262696f72"><div class="ttname"><a href="classQAbstractEventDispatcher.html#a197be92052dbd9a19958214262696f72">QAbstractEventDispatcher::instance</a></div><div class="ttdeci">static QAbstractEventDispatcher * instance(QThread *thread=0)</div><div class="ttdoc">Returns a pointer to the event dispatcher object for the specified thread. </div><div class="ttdef"><b>Definition:</b> <a href="qabstracteventdispatcher_8cpp_source.html#l00314">qabstracteventdispatcher.cpp:314</a></div></div>
<div class="ttc" id="classQBuffer_html_a4922fe3ebe8082870b09f19eb7d4b77d"><div class="ttname"><a href="classQBuffer.html#a4922fe3ebe8082870b09f19eb7d4b77d">QBuffer::open</a></div><div class="ttdeci">bool open(OpenMode openMode)</div><div class="ttdoc">Reimplemented Function </div><div class="ttdef"><b>Definition:</b> <a href="qbuffer_8cpp_source.html#l00338">qbuffer.cpp:338</a></div></div>
<div class="ttc" id="classQDragManager_html_acd7ace319521a145f84ea6ba8b5cf96c"><div class="ttname"><a href="classQDragManager.html#acd7ace319521a145f84ea6ba8b5cf96c">QDragManager::object</a></div><div class="ttdeci">QDrag * object</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__p_8h_source.html#l00238">qdnd_p.h:238</a></div></div>
<div class="ttc" id="classQEvent_html_a36f905fa770866e1aac2144c37682d2ca48a3049271850a2a2df12fb9a0209214"><div class="ttname"><a href="classQEvent.html#a36f905fa770866e1aac2144c37682d2ca48a3049271850a2a2df12fb9a0209214">QEvent::ShortcutOverride</a></div><div class="ttdef"><b>Definition:</b> <a href="qcoreevent_8h_source.html#l00175">qcoreevent.h:175</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_aa110cb1c095d4551900a449c64d24424"><div class="ttname"><a href="qdnd__x11_8cpp.html#aa110cb1c095d4551900a449c64d24424">find_child</a></div><div class="ttdeci">static QWidget * find_child(QWidget *tlw, QPoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00732">qdnd_x11.cpp:732</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_ac1865ec497ac59aeb93786229eef74ed"><div class="ttname"><a href="qdnd__x11_8cpp.html#ac1865ec497ac59aeb93786229eef74ed">qt_xdnd_max_type</a></div><div class="ttdeci">const int qt_xdnd_max_type</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00216">qdnd_x11.cpp:216</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_a1e1564cfbfc21d249bcbb45b6ab3b496"><div class="ttname"><a href="qdnd__x11_8cpp.html#a1e1564cfbfc21d249bcbb45b6ab3b496">xdndaction_to_qtaction</a></div><div class="ttdeci">static Qt::DropAction xdndaction_to_qtaction(Atom atom)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00178">qdnd_x11.cpp:178</a></div></div>
<div class="ttc" id="qbuiltintypes_8cpp_html_abc44de815465f08d372c4796f0b134dc"><div class="ttname"><a href="qbuiltintypes_8cpp.html#abc44de815465f08d372c4796f0b134dc">at</a></div><div class="ttdeci">#define at(className, varName)</div><div class="ttdef"><b>Definition:</b> <a href="qbuiltintypes_8cpp_source.html#l00073">qbuiltintypes.cpp:73</a></div></div>
<div class="ttc" id="structQX11Data_html_a330f56fd95787b1547b851b0fa9fc4e2"><div class="ttname"><a href="structQX11Data.html#a330f56fd95787b1547b851b0fa9fc4e2">QX11Data::xdndMimeAtomToString</a></div><div class="ttdeci">QString xdndMimeAtomToString(Atom a)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00433">qdnd_x11.cpp:433</a></div></div>
<div class="ttc" id="classQByteArray_html"><div class="ttname"><a href="classQByteArray.html">QByteArray</a></div><div class="ttdoc">The QByteArray class provides an array of bytes. </div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8h_source.html#l00135">qbytearray.h:135</a></div></div>
<div class="ttc" id="classQX11Info_html_ad067e8c371bc5d78a00d0b431cda8f13"><div class="ttname"><a href="classQX11Info.html#ad067e8c371bc5d78a00d0b431cda8f13">QX11Info::appRootWindow</a></div><div class="ttdeci">static Qt::HANDLE appRootWindow(int screen=-1)</div><div class="ttdoc">Returns a handle for the applications root window on the given screen. </div><div class="ttdef"><b>Definition:</b> <a href="qx11info__x11_8cpp_source.html#l00417">qx11info_x11.cpp:417</a></div></div>
<div class="ttc" id="classQEvent_html_a36f905fa770866e1aac2144c37682d2caf2d33f3957ba257366364e031c6a00ef"><div class="ttname"><a href="classQEvent.html#a36f905fa770866e1aac2144c37682d2caf2d33f3957ba257366364e031c6a00ef">QEvent::MouseButtonRelease</a></div><div class="ttdef"><b>Definition:</b> <a href="qcoreevent_8h_source.html#l00072">qcoreevent.h:72</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_aa03ed06ace217e538a6d2d46b67dc837"><div class="ttname"><a href="qdnd__x11_8cpp.html#aa03ed06ace217e538a6d2d46b67dc837">qt_xdnd_types</a></div><div class="ttdeci">static Atom qt_xdnd_types[qt_xdnd_max_type+1]</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00217">qdnd_x11.cpp:217</a></div></div>
<div class="ttc" id="classQInternalMimeData_html_ae50a44dd16325864aa7289716f81006d"><div class="ttname"><a href="classQInternalMimeData.html#ae50a44dd16325864aa7289716f81006d">QInternalMimeData::formatsHelper</a></div><div class="ttdeci">static QStringList formatsHelper(const QMimeData *data)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd_8cpp_source.html#l00414">qdnd.cpp:414</a></div></div>
<div class="ttc" id="classQDragManager_html"><div class="ttname"><a href="classQDragManager.html">QDragManager</a></div><div class="ttdef"><b>Definition:</b> <a href="qdnd__p_8h_source.html#l00206">qdnd_p.h:206</a></div></div>
<div class="ttc" id="classQString_html_a9aa2f1aaf2a1a81d7ace1190fa704155"><div class="ttname"><a href="classQString.html#a9aa2f1aaf2a1a81d7ace1190fa704155">QString::toUpper</a></div><div class="ttdeci">QString toUpper() const Q_REQUIRED_RESULT</div><div class="ttdoc">Returns an uppercase copy of the string. </div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l05483">qstring.cpp:5483</a></div></div>
<div class="ttc" id="qcursor__p_8h_html"><div class="ttname"><a href="qcursor__p_8h.html">qcursor_p.h</a></div></div>
<div class="ttc" id="classQEvent_html_a36f905fa770866e1aac2144c37682d2ca73e0a089cb5e76eb2793bb5558d2c03d"><div class="ttname"><a href="classQEvent.html#a36f905fa770866e1aac2144c37682d2ca73e0a089cb5e76eb2793bb5558d2c03d">QEvent::MouseMove</a></div><div class="ttdef"><b>Definition:</b> <a href="qcoreevent_8h_source.html#l00074">qcoreevent.h:74</a></div></div>
<div class="ttc" id="structXdndData_html"><div class="ttname"><a href="structXdndData.html">XdndData</a></div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00316">qdnd_x11.cpp:316</a></div></div>
<div class="ttc" id="classQWidget_html"><div class="ttname"><a href="classQWidget.html">QWidget</a></div><div class="ttdoc">The QWidget class is the base class of all user interface objects. </div><div class="ttdef"><b>Definition:</b> <a href="qwidget_8h_source.html#l00150">qwidget.h:150</a></div></div>
<div class="ttc" id="classQDropEvent_html_a45d10b342072d5c7401878fecb18fa5a"><div class="ttname"><a href="classQDropEvent.html#a45d10b342072d5c7401878fecb18fa5a">QDropEvent::setDropAction</a></div><div class="ttdeci">void setDropAction(Qt::DropAction action)</div><div class="ttdoc">Sets the action to be performed on the data by the target. </div><div class="ttdef"><b>Definition:</b> <a href="qevent_8cpp_source.html#l02746">qevent.cpp:2746</a></div></div>
<div class="ttc" id="classQDropEvent_html_aa6075a744f177f890421733f16adcada"><div class="ttname"><a href="classQDropEvent.html#aa6075a744f177f890421733f16adcada">QDropEvent::dropAction</a></div><div class="ttdeci">Qt::DropAction dropAction() const</div><div class="ttdoc">Returns the action to be performed on the data by the target. </div><div class="ttdef"><b>Definition:</b> <a href="qevent_8h_source.html#l00494">qevent.h:494</a></div></div>
<div class="ttc" id="qfunctions__nacl_8cpp_html_a63bad960746361d24877cc9fb1267ac1"><div class="ttname"><a href="qfunctions__nacl_8cpp.html#a63bad960746361d24877cc9fb1267ac1">select</a></div><div class="ttdeci">int select(int, fd_set *, fd_set *, fd_set *, struct timeval *)</div><div class="ttdef"><b>Definition:</b> <a href="qfunctions__nacl_8cpp_source.html#l00153">qfunctions_nacl.cpp:153</a></div></div>
<div class="ttc" id="classQImage_html_ad2a09a1ef5f4d2cb74ef4746db86b0ec"><div class="ttname"><a href="classQImage.html#ad2a09a1ef5f4d2cb74ef4746db86b0ec">QImage::save</a></div><div class="ttdeci">bool save(const QString &amp;fileName, const char *format=0, int quality=-1) const</div><div class="ttdoc">Saves the image to the file with the given fileName, using the given image file format and quality fa...</div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l05346">qimage.cpp:5346</a></div></div>
<div class="ttc" id="qsimplecodec_8cpp_html_ae8d4351c34fff5317b75f2dc62ae30df"><div class="ttname"><a href="qsimplecodec_8cpp.html#ae8d4351c34fff5317b75f2dc62ae30df">mime</a></div><div class="ttdeci">const char * mime</div><div class="ttdef"><b>Definition:</b> <a href="qsimplecodec_8cpp_source.html#l00052">qsimplecodec.cpp:52</a></div></div>
<div class="ttc" id="classQDragMoveEvent_html_a573e117293ea0de5005e07208d1b41dd"><div class="ttname"><a href="classQDragMoveEvent.html#a573e117293ea0de5005e07208d1b41dd">QDragMoveEvent::accept</a></div><div class="ttdeci">void accept()</div><div class="ttdoc">Calls QDropEvent::accept(). </div><div class="ttdef"><b>Definition:</b> <a href="qevent_8h_source.html#l00539">qevent.h:539</a></div></div>
<div class="ttc" id="qbuffer_8h_html"><div class="ttname"><a href="qbuffer_8h.html">qbuffer.h</a></div></div>
<div class="ttc" id="classQString_html_a23d696df792149beab8d90125195cfee"><div class="ttname"><a href="classQString.html#a23d696df792149beab8d90125195cfee">QString::startsWith</a></div><div class="ttdeci">bool startsWith(const QString &amp;s, Qt::CaseSensitivity cs=Qt::CaseSensitive) const</div><div class="ttdoc">Returns true if the string starts with s; otherwise returns false. </div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l03734">qstring.cpp:3734</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_a3b16b8294f9619793c06ce1732c51710"><div class="ttname"><a href="qdnd__x11_8cpp.html#a3b16b8294f9619793c06ce1732c51710">xdndEnable</a></div><div class="ttdeci">static bool xdndEnable(QWidget *w, bool on)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00363">qdnd_x11.cpp:363</a></div></div>
<div class="ttc" id="namespaceQXcbAtom_html_ae0d50e173ccbe293594603e314b3eea0aba19a640cb7354f3ce17a8f99bbc7c74"><div class="ttname"><a href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0aba19a640cb7354f3ce17a8f99bbc7c74">QXcbAtom::XdndActionMove</a></div><div class="ttdef"><b>Definition:</b> <a href="qxcbconnection_8h_source.html#l00184">qxcbconnection.h:184</a></div></div>
<div class="ttc" id="namespaceQt_html_a290b49e92c89fec771e24612d766cdd9a04da9c8fbb4cbc9e6c861c803a98ed95"><div class="ttname"><a href="namespaceQt.html#a290b49e92c89fec771e24612d766cdd9a04da9c8fbb4cbc9e6c861c803a98ed95">Qt::WA_X11NetWmWindowTypeDND</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00497">qnamespace.h:497</a></div></div>
<div class="ttc" id="namespaceQt_html_acc0cb4faac300e58b71c2054b9e1d71aae8e3ae3922fb569c7da7d71a1aa72050"><div class="ttname"><a href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aae8e3ae3922fb569c7da7d71a1aa72050">Qt::X11BypassWindowManagerHint</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00286">qnamespace.h:286</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_a90e2de53546b66c0b701a3ab2d154b69"><div class="ttname"><a href="qdnd__x11_8cpp.html#a90e2de53546b66c0b701a3ab2d154b69">current_embedding_widget</a></div><div class="ttdeci">static QWidget * current_embedding_widget</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00249">qdnd_x11.cpp:249</a></div></div>
<div class="ttc" id="qdbusservicewatcher_8cpp_html_a81beb56f94d46874cfa290c3d712024d"><div class="ttname"><a href="qdbusservicewatcher_8cpp.html#a81beb56f94d46874cfa290c3d712024d">QLatin1String</a></div><div class="ttdeci">QLatin1String(DBUS_INTERFACE_DBUS))) Q_GLOBAL_STATIC_WITH_ARGS(QString</div></div>
<div class="ttc" id="classQPixmap_html_adaf609ccce0cd2bed5e8931f7a6e40bc"><div class="ttname"><a href="classQPixmap.html#adaf609ccce0cd2bed5e8931f7a6e40bc">QPixmap::handle</a></div><div class="ttdeci">Qt::HANDLE handle() const</div><div class="ttdoc">Returns the pixmap&amp;#39;s handle to the device context. </div><div class="ttdef"><b>Definition:</b> <a href="qpixmap_8cpp_source.html#l01299">qpixmap.cpp:1299</a></div></div>
<div class="ttc" id="qsslsocket__openssl__symbols_8cpp_html_abc0559ca5bd02e98c3e33a2db3f27fc2"><div class="ttname"><a href="qsslsocket__openssl__symbols_8cpp.html#abc0559ca5bd02e98c3e33a2db3f27fc2">a</a></div><div class="ttdeci">long ASN1_INTEGER_get ASN1_INTEGER * a</div><div class="ttdef"><b>Definition:</b> <a href="qsslsocket__openssl__symbols_8cpp_source.html#l00104">qsslsocket_openssl_symbols.cpp:104</a></div></div>
<div class="ttc" id="classQRect_html_a7554a00cc9b55b53f8f276514a4c7949"><div class="ttname"><a href="classQRect.html#a7554a00cc9b55b53f8f276514a4c7949">QRect::intersected</a></div><div class="ttdeci">QRect intersected(const QRect &amp;other) const</div><div class="ttdoc">Returns the intersection of this rectangle and the given rectangle. </div><div class="ttdef"><b>Definition:</b> <a href="qrect_8h_source.html#l00481">qrect.h:481</a></div></div>
<div class="ttc" id="namespaceQt_html_a7ef077df39f0d0a185257d8d17bbeac8a0441fc6738f2dec848f5de01a997c4b8"><div class="ttname"><a href="namespaceQt.html#a7ef077df39f0d0a185257d8d17bbeac8a0441fc6738f2dec848f5de01a997c4b8">Qt::Key_Escape</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00613">qnamespace.h:613</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_ac363fbadfbb1323bb4fbd22b59b3aa9b"><div class="ttname"><a href="qdnd__x11_8cpp.html#ac363fbadfbb1323bb4fbd22b59b3aa9b">findXdndDropTransactionByWindow</a></div><div class="ttdeci">static int findXdndDropTransactionByWindow(Window window)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00094">qdnd_x11.cpp:94</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_a929168397c7c776a654bb63fe28ed39f"><div class="ttname"><a href="qdnd__x11_8cpp.html#a929168397c7c776a654bb63fe28ed39f">copyCursor</a></div><div class="ttdeci">static QCursor * copyCursor</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00255">qdnd_x11.cpp:255</a></div></div>
<div class="ttc" id="classQMimeData_html_aca26a96c25e67f7e4907a0067978fec5"><div class="ttname"><a href="classQMimeData.html#aca26a96c25e67f7e4907a0067978fec5">QMimeData::data</a></div><div class="ttdeci">QByteArray data(const QString &amp;mimetype) const</div><div class="ttdoc">Returns the data stored in the object in the format described by the MIME type specified by mimeType...</div><div class="ttdef"><b>Definition:</b> <a href="qmimedata_8cpp_source.html#l00524">qmimedata.cpp:524</a></div></div>
<div class="ttc" id="qapplication__mac_8mm_html_a641b67476a9fd65d994c204ce786996f"><div class="ttname"><a href="qapplication__mac_8mm.html#a641b67476a9fd65d994c204ce786996f">timer</a></div><div class="ttdeci">EventLoopTimerRef timer</div><div class="ttdef"><b>Definition:</b> <a href="qapplication__mac_8mm_source.html#l00881">qapplication_mac.mm:881</a></div></div>
<div class="ttc" id="classQDragManager_html_ab08882c10fcf19d9bb392e17cb87faed"><div class="ttname"><a href="classQDragManager.html#ab08882c10fcf19d9bb392e17cb87faed">QDragManager::cancel</a></div><div class="ttdeci">void cancel(bool deleteSource=true)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__mac_8mm_source.html#l00272">qdnd_mac.mm:272</a></div></div>
<div class="ttc" id="namespaceQXcbAtom_html_ae0d50e173ccbe293594603e314b3eea0a59e7f1039f05b931272e57f83967880c"><div class="ttname"><a href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a59e7f1039f05b931272e57f83967880c">QXcbAtom::XdndEnter</a></div><div class="ttdef"><b>Definition:</b> <a href="qxcbconnection_8h_source.html#l00168">qxcbconnection.h:168</a></div></div>
<div class="ttc" id="classQPixmap_html_a5e0b47c614484bae6b39faa1433cc38a"><div class="ttname"><a href="classQPixmap.html#a5e0b47c614484bae6b39faa1433cc38a">QPixmap::depth</a></div><div class="ttdeci">int depth() const</div><div class="ttdoc">Returns the depth of the pixmap. </div><div class="ttdef"><b>Definition:</b> <a href="qpixmap_8cpp_source.html#l00695">qpixmap.cpp:695</a></div></div>
<div class="ttc" id="classQBuffer_html"><div class="ttname"><a href="classQBuffer.html">QBuffer</a></div><div class="ttdoc">The QBuffer class provides a QIODevice interface for a QByteArray. </div><div class="ttdef"><b>Definition:</b> <a href="qbuffer_8h_source.html#l00057">qbuffer.h:57</a></div></div>
<div class="ttc" id="qdesktopwidget_8h_html"><div class="ttname"><a href="qdesktopwidget_8h.html">qdesktopwidget.h</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_a89034fb525638a078aa8f951c422a4b1"><div class="ttname"><a href="qdnd__x11_8cpp.html#a89034fb525638a078aa8f951c422a4b1">defaultPm</a></div><div class="ttdeci">static QPixmap * defaultPm</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00258">qdnd_x11.cpp:258</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_afbdf264687c294a56fa0515b7b5273f9"><div class="ttname"><a href="qdnd__x11_8cpp.html#afbdf264687c294a56fa0515b7b5273f9">last_enter_event</a></div><div class="ttdeci">static XEvent last_enter_event</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00250">qdnd_x11.cpp:250</a></div></div>
<div class="ttc" id="classQString_html"><div class="ttname"><a href="classQString.html">QString</a></div><div class="ttdoc">The QString class provides a Unicode character string. </div><div class="ttdef"><b>Definition:</b> <a href="qstring_8h_source.html#l00083">qstring.h:83</a></div></div>
<div class="ttc" id="namespaceQXcbAtom_html_ae0d50e173ccbe293594603e314b3eea0a9b3c3eaa6596a652e3e6dcb5f5656b6a"><div class="ttname"><a href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a9b3c3eaa6596a652e3e6dcb5f5656b6a">QXcbAtom::XdndLeave</a></div><div class="ttdef"><b>Definition:</b> <a href="qxcbconnection_8h_source.html#l00171">qxcbconnection.h:171</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_a4721382e8b07f6f7a36fc4eebb79bbb4"><div class="ttname"><a href="qdnd__x11_8cpp.html#a4721382e8b07f6f7a36fc4eebb79bbb4">xdnd_status_scanner</a></div><div class="ttdeci">static Bool xdnd_status_scanner(Display *, XEvent *event, XPointer)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l01025">qdnd_x11.cpp:1025</a></div></div>
<div class="ttc" id="classQObject_html_a885122cb42fc5d786b25740fb1ff2c8e"><div class="ttname"><a href="classQObject.html#a885122cb42fc5d786b25740fb1ff2c8e">QObject::qobject_cast</a></div><div class="ttdeci">T * qobject_cast(QObject *object)</div><div class="ttdef"><b>Definition:</b> <a href="qobject_8h_source.html#l00375">qobject.h:375</a></div></div>
<div class="ttc" id="qurl_8h_html"><div class="ttname"><a href="qurl_8h.html">qurl.h</a></div></div>
<div class="ttc" id="classQDragMoveEvent_html"><div class="ttname"><a href="classQDragMoveEvent.html">QDragMoveEvent</a></div><div class="ttdoc">The QDragMoveEvent class provides an event which is sent while a drag and drop action is in progress...</div><div class="ttdef"><b>Definition:</b> <a href="qevent_8h_source.html#l00530">qevent.h:530</a></div></div>
<div class="ttc" id="classQDragManager_html_a20408e162081e26caa157ba2c19d6884"><div class="ttname"><a href="classQDragManager.html#a20408e162081e26caa157ba2c19d6884">QDragManager::emitActionChanged</a></div><div class="ttdeci">void emitActionChanged(Qt::DropAction newAction)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__p_8h_source.html#l00253">qdnd_p.h:253</a></div></div>
<div class="ttc" id="qt__x11__p_8h_html"><div class="ttname"><a href="qt__x11__p_8h.html">qt_x11_p.h</a></div></div>
<div class="ttc" id="namespaceQt_html_aab89d2c3465e41bbae6ee0f740c12043a263405c8eeca7d0acf2bee35ade236f9"><div class="ttname"><a href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043a263405c8eeca7d0acf2bee35ade236f9">Qt::CopyAction</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l01598">qnamespace.h:1598</a></div></div>
<div class="ttc" id="qglobal_8h_html_ac29a7ecc02f777dfeb2b68a051561c35"><div class="ttname"><a href="qglobal_8h.html#ac29a7ecc02f777dfeb2b68a051561c35">Q_ASSERT</a></div><div class="ttdeci">#define Q_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l01823">qglobal.h:1823</a></div></div>
<div class="ttc" id="classQVector_html"><div class="ttname"><a href="classQVector.html">QVector</a></div><div class="ttdoc">The QVector class is a template class that provides a dynamic array. </div><div class="ttdef"><b>Definition:</b> <a href="qdatastream_8h_source.html#l00064">qdatastream.h:64</a></div></div>
<div class="ttc" id="classQObject_html"><div class="ttname"><a href="classQObject.html">QObject</a></div><div class="ttdoc">The QObject class is the base class of all Qt objects. </div><div class="ttdef"><b>Definition:</b> <a href="qobject_8h_source.html#l00111">qobject.h:111</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_a8c28975fcfa22adb03d40ca98695820b"><div class="ttname"><a href="qdnd__x11_8cpp.html#a8c28975fcfa22adb03d40ca98695820b">qt_xdnd_current_proxy_target</a></div><div class="ttdeci">static Window qt_xdnd_current_proxy_target</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00226">qdnd_x11.cpp:226</a></div></div>
<div class="ttc" id="qt__x11__p_8h_html_a47322ec94c24726c1f04d8638b975016"><div class="ttname"><a href="qt__x11__p_8h.html#a47322ec94c24726c1f04d8638b975016">X11</a></div><div class="ttdeci">#define X11</div><div class="ttdef"><b>Definition:</b> <a href="qt__x11__p_8h_source.html#l00724">qt_x11_p.h:724</a></div></div>
<div class="ttc" id="qt__x11__p_8h_html_a08f51f22ad2ed13a25181c2604573110a74d8b25f4f670f3cbc937ed8cfe5b9ef"><div class="ttname"><a href="qt__x11__p_8h.html#a08f51f22ad2ed13a25181c2604573110a74d8b25f4f670f3cbc937ed8cfe5b9ef">XNone</a></div><div class="ttdef"><b>Definition:</b> <a href="qt__x11__p_8h_source.html#l00733">qt_x11_p.h:733</a></div></div>
<div class="ttc" id="classQDragPrivate_html"><div class="ttname"><a href="classQDragPrivate.html">QDragPrivate</a></div><div class="ttdef"><b>Definition:</b> <a href="qdnd__p_8h_source.html#l00174">qdnd_p.h:174</a></div></div>
<div class="ttc" id="classQWidget_html_afdc77d0bc31466651005851719b5ee98"><div class="ttname"><a href="classQWidget.html#afdc77d0bc31466651005851719b5ee98">QWidget::height</a></div><div class="ttdeci">int height() const</div></div>
<div class="ttc" id="classQElapsedTimer_html"><div class="ttname"><a href="classQElapsedTimer.html">QElapsedTimer</a></div><div class="ttdoc">The QElapsedTimer class provides a fast way to calculate elapsed times. </div><div class="ttdef"><b>Definition:</b> <a href="qelapsedtimer_8h_source.html#l00053">qelapsedtimer.h:53</a></div></div>
<div class="ttc" id="structQX11Data_html_a9be9dfc24c5fd7ed38600213538d259c"><div class="ttname"><a href="structQX11Data.html#a9be9dfc24c5fd7ed38600213538d259c">QX11Data::xdndStringToAtom</a></div><div class="ttdeci">Atom xdndStringToAtom(const char *)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00425">qdnd_x11.cpp:425</a></div></div>
<div class="ttc" id="qcursor_8h_html"><div class="ttname"><a href="qcursor_8h.html">qcursor.h</a></div></div>
<div class="ttc" id="classQExtraWidget_html_a9dbcf6ae67170bb1112d85aa74b3d810"><div class="ttname"><a href="classQExtraWidget.html#a9dbcf6ae67170bb1112d85aa74b3d810">QExtraWidget::topData</a></div><div class="ttdeci">QTLWExtra * topData()</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00332">qdnd_x11.cpp:332</a></div></div>
<div class="ttc" id="classQChar_html"><div class="ttname"><a href="classQChar.html">QChar</a></div><div class="ttdoc">The QChar class provides a 16-bit Unicode character. </div><div class="ttdef"><b>Definition:</b> <a href="qchar_8h_source.html#l00072">qchar.h:72</a></div></div>
<div class="ttc" id="classQShapedPixmapWidget_html_aeac5479face200bc2cfe10d73ff9632f"><div class="ttname"><a href="classQShapedPixmapWidget.html#aeac5479face200bc2cfe10d73ff9632f">QShapedPixmapWidget::QShapedPixmapWidget</a></div><div class="ttdeci">QShapedPixmapWidget(QWidget *w)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00282">qdnd_x11.cpp:282</a></div></div>
<div class="ttc" id="classQString_html_afc533a1df85636044be06a14876728d0"><div class="ttname"><a href="classQString.html#afc533a1df85636044be06a14876728d0">QString::fromRawData</a></div><div class="ttdeci">static QString fromRawData(const QChar *, int size)</div><div class="ttdoc">Constructs a QString that uses the first size Unicode characters in the array unicode. </div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l07673">qstring.cpp:7673</a></div></div>
<div class="ttc" id="classQPointer_html"><div class="ttname"><a href="classQPointer.html">QPointer&lt; QWidget &gt;</a></div></div>
<div class="ttc" id="classQImage_html_a810aa2990f23c8aa8dc82c59ba11bd8da98e347315eedb7266c5cb9747043619c"><div class="ttname"><a href="classQImage.html#a810aa2990f23c8aa8dc82c59ba11bd8da98e347315eedb7266c5cb9747043619c">QImage::Format_MonoLSB</a></div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00094">qimage.h:94</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_a4f1a2125913fa11b8ed49b9e642872ed"><div class="ttname"><a href="qdnd__x11_8cpp.html#a4f1a2125913fa11b8ed49b9e642872ed">noDropCursor</a></div><div class="ttdeci">static QCursor * noDropCursor</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00253">qdnd_x11.cpp:253</a></div></div>
<div class="ttc" id="qvector_8h_html"><div class="ttname"><a href="qvector_8h.html">qvector.h</a></div></div>
<div class="ttc" id="structQX11Data_html_ab059b56ad2492de57ff107617333d11d"><div class="ttname"><a href="structQX11Data.html#ab059b56ad2492de57ff107617333d11d">QX11Data::xdndHandleBadwindow</a></div><div class="ttdeci">static bool xdndHandleBadwindow()</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l01782">qdnd_x11.cpp:1782</a></div></div>
<div class="ttc" id="classQList_html_ac273be8d520f0df354c17f126e9134f7"><div class="ttname"><a href="classQList.html#ac273be8d520f0df354c17f126e9134f7">QList::isEmpty</a></div><div class="ttdeci">bool isEmpty() const</div><div class="ttdoc">Returns true if the list contains no items; otherwise returns false. </div><div class="ttdef"><b>Definition:</b> <a href="qlist_8h_source.html#l00152">qlist.h:152</a></div></div>
<div class="ttc" id="classQDragManager_html_a785a650f3fea3858608bb742a592e9ac"><div class="ttname"><a href="classQDragManager.html#a785a650f3fea3858608bb742a592e9ac">QDragManager::drag</a></div><div class="ttdeci">Qt::DropAction drag(QDrag *)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__mac_8mm_source.html#l00530">qdnd_mac.mm:530</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_a03a6cdcccfd5dd038b882d60a5440bd5"><div class="ttname"><a href="qdnd__x11_8cpp.html#a03a6cdcccfd5dd038b882d60a5440bd5">qt_xdnd_source_sameanswer</a></div><div class="ttdeci">static QRect qt_xdnd_source_sameanswer</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00222">qdnd_x11.cpp:222</a></div></div>
<div class="ttc" id="classQWidget_html_ab3c8652aab5d16678c320906babff4f0"><div class="ttname"><a href="classQWidget.html#ab3c8652aab5d16678c320906babff4f0">QWidget::style</a></div><div class="ttdeci">QStyle * style() const</div><div class="ttdef"><b>Definition:</b> <a href="qwidget_8cpp_source.html#l02742">qwidget.cpp:2742</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_a8d4e433143f047830c7dabcb40d9ec77"><div class="ttname"><a href="qdnd__x11_8cpp.html#a8d4e433143f047830c7dabcb40d9ec77">xdnd_data</a></div><div class="ttdeci">static XdndData xdnd_data</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00321">qdnd_x11.cpp:321</a></div></div>
<div class="ttc" id="qapplication__p_8h_html"><div class="ttname"><a href="qapplication__p_8h.html">qapplication_p.h</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_a8c45f2510cf563febb125a1e02c1f535"><div class="ttname"><a href="qdnd__x11_8cpp.html#a8c45f2510cf563febb125a1e02c1f535">findRealWindow</a></div><div class="ttdeci">static Window findRealWindow(const QPoint &amp;pos, Window w, int md, bool ignoreNonXdndAwareWindows)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l01442">qdnd_x11.cpp:1442</a></div></div>
<div class="ttc" id="qwindowdefs_8h_html_a00d8109d160a907b65517bbca31072a4"><div class="ttname"><a href="qwindowdefs_8h.html#a00d8109d160a907b65517bbca31072a4">XEvent</a></div><div class="ttdeci">union _XEvent XEvent</div><div class="ttdef"><b>Definition:</b> <a href="qwindowdefs_8h_source.html#l00116">qwindowdefs.h:116</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_a2ccf1eada810bf9322438af000b3bd5c"><div class="ttname"><a href="qdnd__x11_8cpp.html#a2ccf1eada810bf9322438af000b3bd5c">moveCursor</a></div><div class="ttdeci">static QCursor * moveCursor</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00254">qdnd_x11.cpp:254</a></div></div>
<div class="ttc" id="qt__x11__p_8h_html_a8c7ce49cc1c5f603fb19240e9978129b"><div class="ttname"><a href="qt__x11__p_8h.html#a8c7ce49cc1c5f603fb19240e9978129b">ATOM</a></div><div class="ttdeci">#define ATOM(x)</div><div class="ttdef"><b>Definition:</b> <a href="qt__x11__p_8h_source.html#l00723">qt_x11_p.h:723</a></div></div>
<div class="ttc" id="classQWidget_html_a924179b8624eac77cc82ef72e7d137f5"><div class="ttname"><a href="classQWidget.html#a924179b8624eac77cc82ef72e7d137f5">QWidget::update</a></div><div class="ttdeci">void update()</div><div class="ttdoc">Updates the widget unless updates are disabled or the widget is hidden. </div><div class="ttdef"><b>Definition:</b> <a href="qwidget_8cpp_source.html#l10883">qwidget.cpp:10883</a></div></div>
<div class="ttc" id="namespaceQt_html_a290b49e92c89fec771e24612d766cdd9a16b4bd7c2155e14a5763cd8e218649e1"><div class="ttname"><a href="namespaceQt.html#a290b49e92c89fec771e24612d766cdd9a16b4bd7c2155e14a5763cd8e218649e1">Qt::WA_TransparentForMouseEvents</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00414">qnamespace.h:414</a></div></div>
<div class="ttc" id="classQKeyEvent_html_ac86f4d3ed3161a7990a53b59aa547485"><div class="ttname"><a href="classQKeyEvent.html#ac86f4d3ed3161a7990a53b59aa547485">QKeyEvent::key</a></div><div class="ttdeci">int key() const</div><div class="ttdoc">Returns the code of the key that was pressed or released. </div><div class="ttdef"><b>Definition:</b> <a href="qevent_8h_source.html#l00231">qevent.h:231</a></div></div>
<div class="ttc" id="qglobal_8h_html_a65f85814a8290f9797005d3b28e7e5fc"><div class="ttname"><a href="qglobal_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a></div><div class="ttdeci">unsigned char uchar</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l00994">qglobal.h:994</a></div></div>
<div class="ttc" id="classQBitmap_html"><div class="ttname"><a href="classQBitmap.html">QBitmap</a></div><div class="ttdoc">The QBitmap class provides monochrome (1-bit depth) pixmaps. </div><div class="ttdef"><b>Definition:</b> <a href="qbitmap_8h_source.html#l00055">qbitmap.h:55</a></div></div>
<div class="ttc" id="qcocoasharedwindowmethods__mac__p_8h_html_a81a904609b4ded1da0683017b5104976"><div class="ttname"><a href="qcocoasharedwindowmethods__mac__p_8h.html#a81a904609b4ded1da0683017b5104976">window</a></div><div class="ttdeci">NSWindow * window</div><div class="ttdef"><b>Definition:</b> <a href="qcocoasharedwindowmethods__mac__p_8h_source.html#l00583">qcocoasharedwindowmethods_mac_p.h:583</a></div></div>
<div class="ttc" id="classQList_html_a3a1e18c5fb9cc04324825a46540638c5"><div class="ttname"><a href="classQList.html#a3a1e18c5fb9cc04324825a46540638c5">QList::append</a></div><div class="ttdeci">void append(const T &amp;t)</div><div class="ttdoc">Inserts value at the end of the list. </div><div class="ttdef"><b>Definition:</b> <a href="qlist_8h_source.html#l00507">qlist.h:507</a></div></div>
<div class="ttc" id="classQWidget_html_adb18b379535cc0308a97d72651063f29"><div class="ttname"><a href="classQWidget.html#adb18b379535cc0308a97d72651063f29">QWidget::clearMask</a></div><div class="ttdeci">void clearMask()</div><div class="ttdoc">Removes any mask set by setMask(). </div><div class="ttdef"><b>Definition:</b> <a href="qwidget_8cpp_source.html#l13324">qwidget.cpp:13324</a></div></div>
<div class="ttc" id="structQXdndDropTransaction_html_ab705f1cf04c3d2723523daf33d71148a"><div class="ttname"><a href="structQXdndDropTransaction.html#ab705f1cf04c3d2723523daf33d71148a">QXdndDropTransaction::embedding_widget</a></div><div class="ttdeci">QWidget * embedding_widget</div><div class="ttdef"><b>Definition:</b> <a href="qt__x11__p_8h_source.html#l00331">qt_x11_p.h:331</a></div></div>
<div class="ttc" id="structQXdndDropTransaction_html_a349101b1608042d8ec7b3068d4baf7cf"><div class="ttname"><a href="structQXdndDropTransaction.html#a349101b1608042d8ec7b3068d4baf7cf">QXdndDropTransaction::targetWidget</a></div><div class="ttdeci">QWidget * targetWidget</div><div class="ttdef"><b>Definition:</b> <a href="qt__x11__p_8h_source.html#l00330">qt_x11_p.h:330</a></div></div>
<div class="ttc" id="qglobal_8h_html_ae7344b820974b9f9f7cfedd5808bd3a0"><div class="ttname"><a href="qglobal_8h.html#ae7344b820974b9f9f7cfedd5808bd3a0">QT_BEGIN_NAMESPACE</a></div><div class="ttdeci">#define QT_BEGIN_NAMESPACE</div><div class="ttdoc">This macro expands to. </div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l00089">qglobal.h:89</a></div></div>
<div class="ttc" id="classQIODevice_html_af4c3367f5f33e4ae6d653d49e9f88d53af613ae41df167bfbdf5d1245ab1fc319"><div class="ttname"><a href="classQIODevice.html#af4c3367f5f33e4ae6d653d49e9f88d53af613ae41df167bfbdf5d1245ab1fc319">QIODevice::WriteOnly</a></div><div class="ttdef"><b>Definition:</b> <a href="qiodevice_8h_source.html#l00078">qiodevice.h:78</a></div></div>
<div class="ttc" id="namespaceQt_html_a290b49e92c89fec771e24612d766cdd9ad26102cd7bf3bced74860cb484e6fa86"><div class="ttname"><a href="namespaceQt.html#a290b49e92c89fec771e24612d766cdd9ad26102cd7bf3bced74860cb484e6fa86">Qt::WA_WState_Created</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00424">qnamespace.h:424</a></div></div>
<div class="ttc" id="namespaceQEgl_html_a309bea834d6154dc01b24590ee50a166"><div class="ttname"><a href="namespaceQEgl.html#a309bea834d6154dc01b24590ee50a166">QEgl::display</a></div><div class="ttdeci">Q_GUI_EXPORT EGLDisplay display()</div><div class="ttdef"><b>Definition:</b> <a href="qegl_8cpp_source.html#l00589">qegl.cpp:589</a></div></div>
<div class="ttc" id="classQEvent_html_a72b2aa9f576d8670a11236f8e31ea9c5"><div class="ttname"><a href="classQEvent.html#a72b2aa9f576d8670a11236f8e31ea9c5">QEvent::isAccepted</a></div><div class="ttdeci">bool isAccepted() const</div><div class="ttdef"><b>Definition:</b> <a href="qcoreevent_8h_source.html#l00307">qcoreevent.h:307</a></div></div>
<div class="ttc" id="classQList_html_a9d5b39a0a4ea141395a3d393a5f8cb18"><div class="ttname"><a href="classQList.html#a9d5b39a0a4ea141395a3d393a5f8cb18">QList::contains</a></div><div class="ttdeci">QBool contains(const T &amp;t) const</div><div class="ttdoc">Returns true if the list contains an occurrence of value; otherwise returns false. </div><div class="ttdef"><b>Definition:</b> <a href="qlist_8h_source.html#l00880">qlist.h:880</a></div></div>
<div class="ttc" id="namespaceQTest_html_abe820185b0af5a4ee3ae2527081fb774"><div class="ttname"><a href="namespaceQTest.html#abe820185b0af5a4ee3ae2527081fb774">QTest::isEmpty</a></div><div class="ttdeci">static bool isEmpty(const char *str)</div><div class="ttdef"><b>Definition:</b> <a href="qxmltestlogger_8cpp_source.html#l00162">qxmltestlogger.cpp:162</a></div></div>
<div class="ttc" id="classQEventLoop_html"><div class="ttname"><a href="classQEventLoop.html">QEventLoop</a></div><div class="ttdoc">The QEventLoop class provides a means of entering and leaving an event loop. </div><div class="ttdef"><b>Definition:</b> <a href="qeventloop_8h_source.html#l00055">qeventloop.h:55</a></div></div>
<div class="ttc" id="classQShapedPixmapWidget_html_ac519e646f3c6981007ef0600efcafa51"><div class="ttname"><a href="classQShapedPixmapWidget.html#ac519e646f3c6981007ef0600efcafa51">QShapedPixmapWidget::setPixmap</a></div><div class="ttdeci">void setPixmap(QPixmap pm)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__qws_8cpp_source.html#l00102">qdnd_qws.cpp:102</a></div></div>
<div class="ttc" id="classQWidget_html_a99bd2cfa39fb24352eb803e6e785d262"><div class="ttname"><a href="classQWidget.html#a99bd2cfa39fb24352eb803e6e785d262">QWidget::QPixmap</a></div><div class="ttdeci">friend class QPixmap</div><div class="ttdef"><b>Definition:</b> <a href="qwidget_8h_source.html#l00748">qwidget.h:748</a></div></div>
<div class="ttc" id="namespaceQXcbAtom_html_ae0d50e173ccbe293594603e314b3eea0a4d45ff052b5c8407f9914d9550777780"><div class="ttname"><a href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a4d45ff052b5c8407f9914d9550777780">QXcbAtom::XdndPosition</a></div><div class="ttdef"><b>Definition:</b> <a href="qxcbconnection_8h_source.html#l00169">qxcbconnection.h:169</a></div></div>
<div class="ttc" id="classQWidget_html_a92a963214b33ccca1f3ce0379e79309c"><div class="ttname"><a href="classQWidget.html#a92a963214b33ccca1f3ce0379e79309c">QWidget::mouseGrabber</a></div><div class="ttdeci">static QWidget * mouseGrabber()</div><div class="ttdoc">Returns the widget that is currently grabbing the mouse input. </div><div class="ttdef"><b>Definition:</b> <a href="qwidget__mac_8mm_source.html#l03353">qwidget_mac.mm:3353</a></div></div>
<div class="ttc" id="namespaceQt_html_acc0cb4faac300e58b71c2054b9e1d71aa8e73f9b9c1eab37872a43901afd06767"><div class="ttname"><a href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa8e73f9b9c1eab37872a43901afd06767">Qt::Window</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00272">qnamespace.h:272</a></div></div>
<div class="ttc" id="structQXdndDropTransaction_html_a79ab019c966e95a938aa0633f944f7b9"><div class="ttname"><a href="structQXdndDropTransaction.html#a79ab019c966e95a938aa0633f944f7b9">QXdndDropTransaction::object</a></div><div class="ttdeci">QDrag * object</div><div class="ttdef"><b>Definition:</b> <a href="qt__x11__p_8h_source.html#l00332">qt_x11_p.h:332</a></div></div>
<div class="ttc" id="classQWidget_html_af45d2424e70bb04a0f5605defb1d3676"><div class="ttname"><a href="classQWidget.html#af45d2424e70bb04a0f5605defb1d3676">QWidget::testAttribute</a></div><div class="ttdeci">bool testAttribute(Qt::WidgetAttribute) const</div><div class="ttdoc">Returns true if attribute attribute is set on this widget; otherwise returns false. </div><div class="ttdef"><b>Definition:</b> <a href="qwidget_8h_source.html#l01041">qwidget.h:1041</a></div></div>
<div class="ttc" id="classQWidget_html_a0fb42b07fcd7bc40160b5ad2ca7aa882"><div class="ttname"><a href="classQWidget.html#a0fb42b07fcd7bc40160b5ad2ca7aa882">QWidget::raise</a></div><div class="ttdeci">void raise()</div><div class="ttdoc">Raises this widget to the top of the parent widget&amp;#39;s stack. </div><div class="ttdef"><b>Definition:</b> <a href="qwidget_8cpp_source.html#l11901">qwidget.cpp:11901</a></div></div>
<div class="ttc" id="classQBuffer_html_af028de62237d0683d23b455dc93e87cc"><div class="ttname"><a href="classQBuffer.html#af028de62237d0683d23b455dc93e87cc">QBuffer::buffer</a></div><div class="ttdeci">QByteArray &amp; buffer()</div><div class="ttdoc">Returns a reference to the QBuffer&amp;#39;s internal buffer. </div><div class="ttdef"><b>Definition:</b> <a href="qbuffer_8cpp_source.html#l00271">qbuffer.cpp:271</a></div></div>
<div class="ttc" id="classQString_html_aa032d4b5892338beb575a85e59bbbf38"><div class="ttname"><a href="classQString.html#aa032d4b5892338beb575a85e59bbbf38">QString::isEmpty</a></div><div class="ttdeci">bool isEmpty() const</div><div class="ttdoc">Returns true if the string has no characters; otherwise returns false. </div><div class="ttdef"><b>Definition:</b> <a href="qstring_8h_source.html#l00704">qstring.h:704</a></div></div>
<div class="ttc" id="namespaceQt_html_aab89d2c3465e41bbae6ee0f740c12043aba2e2b44600530c68aa8944f95f8ab27"><div class="ttname"><a href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043aba2e2b44600530c68aa8944f95f8ab27">Qt::MoveAction</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l01599">qnamespace.h:1599</a></div></div>
<div class="ttc" id="classQImageWriter_html"><div class="ttname"><a href="classQImageWriter.html">QImageWriter</a></div><div class="ttdoc">The QImageWriter class provides a format independent interface for writing images to files or other d...</div><div class="ttdef"><b>Definition:</b> <a href="qimagewriter_8h_source.html#l00059">qimagewriter.h:59</a></div></div>
<div class="ttc" id="classQDragMoveEvent_html_ab906a40bf4d6dbdb8c178425478a5666"><div class="ttname"><a href="classQDragMoveEvent.html#ab906a40bf4d6dbdb8c178425478a5666">QDragMoveEvent::answerRect</a></div><div class="ttdeci">QRect answerRect() const</div><div class="ttdoc">Returns the rectangle in the widget where the drop will occur if accepted. </div><div class="ttdef"><b>Definition:</b> <a href="qevent_8h_source.html#l00537">qevent.h:537</a></div></div>
<div class="ttc" id="qcoreapplication_8h_html_af3bf03a2bf98820de7ae03bef13c7d07"><div class="ttname"><a href="qcoreapplication_8h.html#af3bf03a2bf98820de7ae03bef13c7d07">qApp</a></div><div class="ttdeci">#define qApp</div><div class="ttdef"><b>Definition:</b> <a href="qcoreapplication_8h_source.html#l00069">qcoreapplication.h:69</a></div></div>
<div class="ttc" id="classQWidget_html_a0395e0f96402f8c7ee2b54c71c9c8cef"><div class="ttname"><a href="classQWidget.html#a0395e0f96402f8c7ee2b54c71c9c8cef">QWidget::QWidget</a></div><div class="ttdeci">QWidget(QWidget *parent=0, Qt::WindowFlags f=0)</div><div class="ttdoc">Constructs a widget which is a child of parent, with widget flags set to f. </div><div class="ttdef"><b>Definition:</b> <a href="qwidget_8cpp_source.html#l01189">qwidget.cpp:1189</a></div></div>
<div class="ttc" id="qtextcodec_8h_html"><div class="ttname"><a href="qtextcodec_8h.html">qtextcodec.h</a></div></div>
<div class="ttc" id="classQWidget_html_a59f4af0b3791c5995de8e3da2d8cd1c0"><div class="ttname"><a href="classQWidget.html#a59f4af0b3791c5995de8e3da2d8cd1c0">QWidget::width</a></div><div class="ttdeci">int width() const</div></div>
<div class="ttc" id="namespaceQt_html_acc0cb4faac300e58b71c2054b9e1d71aa07a5d1f8a9d05794167fa129b7fa45bb"><div class="ttname"><a href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa07a5d1f8a9d05794167fa129b7fa45bb">Qt::Desktop</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00280">qnamespace.h:280</a></div></div>
<div class="ttc" id="qpixmap_8h_html"><div class="ttname"><a href="qpixmap_8h.html">qpixmap.h</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_aab89d38cff1f9943242b8e9a30595f08"><div class="ttname"><a href="qdnd__x11_8cpp.html#aab89d38cff1f9943242b8e9a30595f08">xdndObtainData</a></div><div class="ttdeci">static QVariant xdndObtainData(const char *format, QVariant::Type requestedType)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l01883">qdnd_x11.cpp:1883</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_a7410d5aab23150dd60ef40abcb6bca69"><div class="ttname"><a href="qdnd__x11_8cpp.html#a7410d5aab23150dd60ef40abcb6bca69">last_target_accepted_action</a></div><div class="ttdeci">static Qt::DropAction last_target_accepted_action</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00242">qdnd_x11.cpp:242</a></div></div>
<div class="ttc" id="classQDragManager_html_aabb2e6ddb999a3ac757def006bcb0a23"><div class="ttname"><a href="classQDragManager.html#aabb2e6ddb999a3ac757def006bcb0a23">QDragManager::updatePixmap</a></div><div class="ttdeci">void updatePixmap()</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__mac_8mm_source.html#l00696">qdnd_mac.mm:696</a></div></div>
<div class="ttc" id="classQList_html_ab32e1ab64b7837c2d0d7a89c4ca8d9c2"><div class="ttname"><a href="classQList.html#ab32e1ab64b7837c2d0d7a89c4ca8d9c2">QList::at</a></div><div class="ttdeci">const T &amp; at(int i) const</div><div class="ttdoc">Returns the item at index position i in the list. </div><div class="ttdef"><b>Definition:</b> <a href="qlist_8h_source.html#l00468">qlist.h:468</a></div></div>
<div class="ttc" id="classQStringList_html"><div class="ttname"><a href="classQStringList.html">QStringList</a></div><div class="ttdoc">The QStringList class provides a list of strings. </div><div class="ttdef"><b>Definition:</b> <a href="qstringlist_8h_source.html#l00066">qstringlist.h:66</a></div></div>
<div class="ttc" id="classQWidget_html_a6a8da0b20b1f77c71a275c8abaa1569f"><div class="ttname"><a href="classQWidget.html#a6a8da0b20b1f77c71a275c8abaa1569f">QWidget::find</a></div><div class="ttdeci">static QWidget * find(WId)</div><div class="ttdoc">Returns a pointer to the widget with window identifer/handle id. </div><div class="ttdef"><b>Definition:</b> <a href="qwidget_8cpp_source.html#l02517">qwidget.cpp:2517</a></div></div>
<div class="ttc" id="classQWidget_html_a769d29a16df15e8e58f4db5ca80a22d2"><div class="ttname"><a href="classQWidget.html#a769d29a16df15e8e58f4db5ca80a22d2">QWidget::data</a></div><div class="ttdeci">QWidgetData * data</div><div class="ttdef"><b>Definition:</b> <a href="qwidget_8h_source.html#l00815">qwidget.h:815</a></div></div>
<div class="ttc" id="classQString_html_ad7f4d0a383890ee85bcbfe7b2b7c7b4c"><div class="ttname"><a href="classQString.html#ad7f4d0a383890ee85bcbfe7b2b7c7b4c">QString::fromUtf8</a></div><div class="ttdeci">static QString fromUtf8(const char *, int size=-1)</div><div class="ttdoc">Returns a QString initialized with the first size bytes of the UTF-8 string str. </div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l04302">qstring.cpp:4302</a></div></div>
<div class="ttc" id="structQXdndDropTransaction_html_ab2e365c8baa79c2ec66fb242359a3b80"><div class="ttname"><a href="structQXdndDropTransaction.html#ab2e365c8baa79c2ec66fb242359a3b80">QXdndDropTransaction::proxy_target</a></div><div class="ttdeci">Window proxy_target</div><div class="ttdef"><b>Definition:</b> <a href="qt__x11__p_8h_source.html#l00329">qt_x11_p.h:329</a></div></div>
<div class="ttc" id="classQVector_html_ad3536b6c85748f8b0b376d5d9ba0e721"><div class="ttname"><a href="classQVector.html#ad3536b6c85748f8b0b376d5d9ba0e721">QVector::append</a></div><div class="ttdeci">void append(const T &amp;t)</div><div class="ttdoc">Inserts value at the end of the vector. </div><div class="ttdef"><b>Definition:</b> <a href="qvector_8h_source.html#l00573">qvector.h:573</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_a056fdc81ae8e2fee63875f6ed073c70a"><div class="ttname"><a href="qdnd__x11_8cpp.html#a056fdc81ae8e2fee63875f6ed073c70a">linkCursor</a></div><div class="ttdeci">static QCursor * linkCursor</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00256">qdnd_x11.cpp:256</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_adb78894c9ef82e1fa25f6476f0a3467c"><div class="ttname"><a href="qdnd__x11_8cpp.html#adb78894c9ef82e1fa25f6476f0a3467c">default_pm_hoty</a></div><div class="ttdeci">static const int default_pm_hoty</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00261">qdnd_x11.cpp:261</a></div></div>
<div class="ttc" id="structQXdndDropTransaction_html"><div class="ttname"><a href="structQXdndDropTransaction.html">QXdndDropTransaction</a></div><div class="ttdef"><b>Definition:</b> <a href="qt__x11__p_8h_source.html#l00325">qt_x11_p.h:325</a></div></div>
<div class="ttc" id="classQTimerEvent_html_af80c5d38951d5964d7d6d185aeb7b364"><div class="ttname"><a href="classQTimerEvent.html#af80c5d38951d5964d7d6d185aeb7b364">QTimerEvent::timerId</a></div><div class="ttdeci">int timerId() const</div><div class="ttdoc">Returns the unique timer identifier, which is the same identifier as returned from QObject::startTime...</div><div class="ttdef"><b>Definition:</b> <a href="qcoreevent_8h_source.html#l00346">qcoreevent.h:346</a></div></div>
<div class="ttc" id="classQImage_html"><div class="ttname"><a href="classQImage.html">QImage</a></div><div class="ttdoc">The QImage class provides a hardware-independent image representation that allows direct access to th...</div><div class="ttdef"><b>Definition:</b> <a href="qimage_8h_source.html#l00087">qimage.h:87</a></div></div>
<div class="ttc" id="qdbusmessage_8cpp_html_a4b86149e51ff4431f59ce6148820fb86"><div class="ttname"><a href="qdbusmessage_8cpp.html#a4b86149e51ff4431f59ce6148820fb86">data</a></div><div class="ttdeci">static const char * data(const QByteArray &amp;arr)</div><div class="ttdef"><b>Definition:</b> <a href="qdbusmessage_8cpp_source.html#l00060">qdbusmessage.cpp:60</a></div></div>
<div class="ttc" id="qglobal_8h_html_a91ad9478d81a7aaf2593e8d9c3d06a14"><div class="ttname"><a href="qglobal_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a></div><div class="ttdeci">unsigned int uint</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l00996">qglobal.h:996</a></div></div>
<div class="ttc" id="classQInternalMimeData_html_a09841a85697c7a9ab044f566d7377e78"><div class="ttname"><a href="classQInternalMimeData.html#a09841a85697c7a9ab044f566d7377e78">QInternalMimeData::hasFormatHelper</a></div><div class="ttdeci">static bool hasFormatHelper(const QString &amp;mimeType, const QMimeData *data)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd_8cpp_source.html#l00428">qdnd.cpp:428</a></div></div>
<div class="ttc" id="classQString_html_afffb887b72dd3ae599f1e6205c5248d9"><div class="ttname"><a href="classQString.html#afffb887b72dd3ae599f1e6205c5248d9">QString::indexOf</a></div><div class="ttdeci">int indexOf(QChar c, int from=0, Qt::CaseSensitivity cs=Qt::CaseSensitive) const</div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l02838">qstring.cpp:2838</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_aac97899b9cf5efdff67780c3ab1c289e"><div class="ttname"><a href="qdnd__x11_8cpp.html#aac97899b9cf5efdff67780c3ab1c289e">handle_xdnd_status</a></div><div class="ttdeci">static void handle_xdnd_status(QWidget *w, const XEvent *xe, bool)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l01001">qdnd_x11.cpp:1001</a></div></div>
<div class="ttc" id="classQLatin1String_html"><div class="ttname"><a href="classQLatin1String.html">QLatin1String</a></div><div class="ttdoc">The QLatin1String class provides a thin wrapper around an US-ASCII/Latin-1 encoded string literal...</div><div class="ttdef"><b>Definition:</b> <a href="qstring_8h_source.html#l00654">qstring.h:654</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_a5aa42095e78c73293ef0c77fab8c52e1"><div class="ttname"><a href="qdnd__x11_8cpp.html#a5aa42095e78c73293ef0c77fab8c52e1">qt_xdnd_current_target</a></div><div class="ttdeci">static Window qt_xdnd_current_target</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00224">qdnd_x11.cpp:224</a></div></div>
<div class="ttc" id="qsql__mysql_8cpp_html_aaf0305045de524e9676dce48d1114671"><div class="ttname"><a href="qsql__mysql_8cpp.html#aaf0305045de524e9676dce48d1114671">codec</a></div><div class="ttdeci">static QTextCodec * codec(MYSQL *mysql)</div><div class="ttdef"><b>Definition:</b> <a href="qsql__mysql_8cpp_source.html#l00220">qsql_mysql.cpp:220</a></div></div>
<div class="ttc" id="namespaceQXcbAtom_html_ae0d50e173ccbe293594603e314b3eea0a4b2589a520e8df33c649cd69c50a0f40"><div class="ttname"><a href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a4b2589a520e8df33c649cd69c50a0f40">QXcbAtom::INCR</a></div><div class="ttdef"><b>Definition:</b> <a href="qxcbconnection_8h_source.html#l00077">qxcbconnection.h:77</a></div></div>
<div class="ttc" id="classQVariant_html_a8e1414f284ce72d9e6a85f2dcf80c754"><div class="ttname"><a href="classQVariant.html#a8e1414f284ce72d9e6a85f2dcf80c754">QVariant::Type</a></div><div class="ttdeci">Type</div><div class="ttdoc">This enum type defines the types of variable that a QVariant can contain. </div><div class="ttdef"><b>Definition:</b> <a href="qvariant_8h_source.html#l00095">qvariant.h:95</a></div></div>
<div class="ttc" id="qquerytransformparser__p_8h_html_a15c9f7bd2f0e9686df5d9df4f3314aa9a9a4a47c1606e295076055a9cc4373197"><div class="ttname"><a href="qquerytransformparser__p_8h.html#a15c9f7bd2f0e9686df5d9df4f3314aa9a9a4a47c1606e295076055a9cc4373197">TEXT</a></div><div class="ttdef"><b>Definition:</b> <a href="qquerytransformparser__p_8h_source.html#l00295">qquerytransformparser_p.h:295</a></div></div>
<div class="ttc" id="classQCoreApplication_html_a2760980ee2efec6b445854ce60771a3c"><div class="ttname"><a href="classQCoreApplication.html#a2760980ee2efec6b445854ce60771a3c">QCoreApplication::sendEvent</a></div><div class="ttdeci">static bool sendEvent(QObject *receiver, QEvent *event)</div><div class="ttdoc">Sends event event directly to receiver receiver, using the notify() function. </div><div class="ttdef"><b>Definition:</b> <a href="qcoreapplication_8h_source.html#l00230">qcoreapplication.h:230</a></div></div>
<div class="ttc" id="classQStringList_html_a5ae9ca4dea38e854137506d5c93f03f4"><div class="ttname"><a href="classQStringList.html#a5ae9ca4dea38e854137506d5c93f03f4">QStringList::contains</a></div><div class="ttdeci">QBool contains(const QString &amp;str, Qt::CaseSensitivity cs=Qt::CaseSensitive) const</div><div class="ttdoc">Returns true if the list contains the string str; otherwise returns false. </div><div class="ttdef"><b>Definition:</b> <a href="qstringlist_8h_source.html#l00172">qstringlist.h:172</a></div></div>
<div class="ttc" id="classQEvent_html_a36f905fa770866e1aac2144c37682d2ca794fec12c843e3133e43205f7dddd765"><div class="ttname"><a href="classQEvent.html#a36f905fa770866e1aac2144c37682d2ca794fec12c843e3133e43205f7dddd765">QEvent::KeyPress</a></div><div class="ttdef"><b>Definition:</b> <a href="qcoreevent_8h_source.html#l00075">qcoreevent.h:75</a></div></div>
<div class="ttc" id="qrasterizer_8cpp_html_a2c47b422aa4364191cc6d560d7762cff"><div class="ttname"><a href="qrasterizer_8cpp.html#a2c47b422aa4364191cc6d560d7762cff">split</a></div><div class="ttdeci">static void split(QT_FT_Vector *b)</div><div class="ttdef"><b>Definition:</b> <a href="qrasterizer_8cpp_source.html#l00274">qrasterizer.cpp:274</a></div></div>
<div class="ttc" id="qprinterinfo__unix__p_8h_html_a103e76ed4bd42f776f7f260080b98b3fafdfbdf3247bd36a1f17270d5cec74c9c"><div class="ttname"><a href="qprinterinfo__unix__p_8h.html#a103e76ed4bd42f776f7f260080b98b3fafdfbdf3247bd36a1f17270d5cec74c9c">Success</a></div><div class="ttdef"><b>Definition:</b> <a href="qprinterinfo__unix__p_8h_source.html#l00089">qprinterinfo_unix_p.h:89</a></div></div>
<div class="ttc" id="namespaceQXcbAtom_html_ae0d50e173ccbe293594603e314b3eea0a0bd5f50bd3113a17c990853fe1254ceb"><div class="ttname"><a href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a0bd5f50bd3113a17c990853fe1254ceb">QXcbAtom::XdndActionCopy</a></div><div class="ttdef"><b>Definition:</b> <a href="qxcbconnection_8h_source.html#l00182">qxcbconnection.h:182</a></div></div>
<div class="ttc" id="namespaceQXcbAtom_html_ae0d50e173ccbe293594603e314b3eea0"><div class="ttname"><a href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0">QXcbAtom::Atom</a></div><div class="ttdeci">Atom</div><div class="ttdef"><b>Definition:</b> <a href="qxcbconnection_8h_source.html#l00056">qxcbconnection.h:56</a></div></div>
<div class="ttc" id="classQDragLeaveEvent_html"><div class="ttname"><a href="classQDragLeaveEvent.html">QDragLeaveEvent</a></div><div class="ttdoc">The QDragLeaveEvent class provides an event that is sent to a widget when a drag and drop action leav...</div><div class="ttdef"><b>Definition:</b> <a href="qevent_8h_source.html#l00577">qevent.h:577</a></div></div>
<div class="ttc" id="namespaceQt_html_aab89d2c3465e41bbae6ee0f740c12043"><div class="ttname"><a href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043">Qt::DropAction</a></div><div class="ttdeci">DropAction</div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l01597">qnamespace.h:1597</a></div></div>
<div class="ttc" id="classQString_html_a9491884b49163344c4a03c738125f93d"><div class="ttname"><a href="classQString.html#a9491884b49163344c4a03c738125f93d">QString::toLatin1</a></div><div class="ttdeci">QByteArray toLatin1() const Q_REQUIRED_RESULT</div><div class="ttdoc">Returns a Latin-1 representation of the string as a QByteArray. </div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l03993">qstring.cpp:3993</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_ac216787e26d6eecb07357c0ce4198872"><div class="ttname"><a href="qdnd__x11_8cpp.html#ac216787e26d6eecb07357c0ce4198872">checkEmbedded</a></div><div class="ttdeci">static bool checkEmbedded(QWidget *w, const XEvent *xe)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00767">qdnd_x11.cpp:767</a></div></div>
<div class="ttc" id="namespaceQt_html_aab89d2c3465e41bbae6ee0f740c12043ad9ae1c626b045f150fc3ce2e1d05e53e"><div class="ttname"><a href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043ad9ae1c626b045f150fc3ce2e1d05e53e">Qt::TargetMoveAction</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l01602">qnamespace.h:1602</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_a0fdaa996aa0be0afd4a6075991f8911b"><div class="ttname"><a href="qdnd__x11_8cpp.html#a0fdaa996aa0be0afd4a6075991f8911b">xdndProxy</a></div><div class="ttdeci">static WId xdndProxy(WId w)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00335">qdnd_x11.cpp:335</a></div></div>
<div class="ttc" id="namespaceQXcbAtom_html_ae0d50e173ccbe293594603e314b3eea0a66e2049a371545925cc37e7daf6a427d"><div class="ttname"><a href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a66e2049a371545925cc37e7daf6a427d">QXcbAtom::XdndActionLink</a></div><div class="ttdef"><b>Definition:</b> <a href="qxcbconnection_8h_source.html#l00183">qxcbconnection.h:183</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_a8c3c0c5de6572d912a61d82d13e019a5"><div class="ttname"><a href="qdnd__x11_8cpp.html#a8c3c0c5de6572d912a61d82d13e019a5">transaction_expiry_timer</a></div><div class="ttdeci">static int transaction_expiry_timer</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00121">qdnd_x11.cpp:121</a></div></div>
<div class="ttc" id="classQWidget_html_a8687422a6c9d477d0eaa47f77d3d0d31"><div class="ttname"><a href="classQWidget.html#a8687422a6c9d477d0eaa47f77d3d0d31">QWidget::show</a></div><div class="ttdeci">void show()</div><div class="ttdoc">Shows the widget and its child widgets. </div><div class="ttdef"><b>Definition:</b> <a href="qwidget__wince_8cpp_source.html#l00639">qwidget_wince.cpp:639</a></div></div>
<div class="ttc" id="classQShapedPixmapWidget_html"><div class="ttname"><a href="classQShapedPixmapWidget.html">QShapedPixmapWidget</a></div><div class="ttdef"><b>Definition:</b> <a href="qdnd__qws_8cpp_source.html#l00089">qdnd_qws.cpp:89</a></div></div>
<div class="ttc" id="classQDragPrivate_html_a6b039fec6b634544fca4947f7b8355a8"><div class="ttname"><a href="classQDragPrivate.html#a6b039fec6b634544fca4947f7b8355a8">QDragPrivate::source</a></div><div class="ttdeci">QWidget * source</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__p_8h_source.html#l00177">qdnd_p.h:177</a></div></div>
<div class="ttc" id="classQMimeData_html"><div class="ttname"><a href="classQMimeData.html">QMimeData</a></div><div class="ttdoc">The QMimeData class provides a container for data that records information about its MIME type...</div><div class="ttdef"><b>Definition:</b> <a href="qmimedata_8h_source.html#l00057">qmimedata.h:57</a></div></div>
<div class="ttc" id="classQShapedPixmapWidget_html_aaaec2c6eaa4dade1b7a1d1ce60294877"><div class="ttname"><a href="classQShapedPixmapWidget.html#aaaec2c6eaa4dade1b7a1d1ce60294877">QShapedPixmapWidget::QShapedPixmapWidget</a></div><div class="ttdeci">QShapedPixmapWidget()</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__qws_8cpp_source.html#l00092">qdnd_qws.cpp:92</a></div></div>
<div class="ttc" id="classQShapedPixmapWidget_html_af0315b994d18d5d653f8c97c8e9ab479"><div class="ttname"><a href="classQShapedPixmapWidget.html#af0315b994d18d5d653f8c97c8e9ab479">QShapedPixmapWidget::paintEvent</a></div><div class="ttdeci">void paintEvent(QPaintEvent *)</div><div class="ttdoc">This event handler can be reimplemented in a subclass to receive paint events passed in event...</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00307">qdnd_x11.cpp:307</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_a742ffc794232c5d5d81f60973f92b553"><div class="ttname"><a href="qdnd__x11_8cpp.html#a742ffc794232c5d5d81f60973f92b553">qt_xdnd_dragsource_xid</a></div><div class="ttdeci">static Atom qt_xdnd_dragsource_xid</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00213">qdnd_x11.cpp:213</a></div></div>
<div class="ttc" id="classQString_html_a282eb69d4e17fc8d800e9d1f41320317"><div class="ttname"><a href="classQString.html#a282eb69d4e17fc8d800e9d1f41320317">QString::toLocal8Bit</a></div><div class="ttdeci">QByteArray toLocal8Bit() const Q_REQUIRED_RESULT</div><div class="ttdoc">Returns the local 8-bit representation of the string as a QByteArray. </div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l04049">qstring.cpp:4049</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_ae70ae4f55a56c90e0996e83771b510c6"><div class="ttname"><a href="qdnd__x11_8cpp.html#ae70ae4f55a56c90e0996e83771b510c6">global_accepted_action</a></div><div class="ttdeci">static Qt::DropAction global_accepted_action</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00245">qdnd_x11.cpp:245</a></div></div>
<div class="ttc" id="classQWidget_html_a1ec592bffe8b462b516df2fa1d08869a"><div class="ttname"><a href="classQWidget.html#a1ec592bffe8b462b516df2fa1d08869a">QWidget::setMask</a></div><div class="ttdeci">void setMask(const QBitmap &amp;)</div><div class="ttdoc">Causes only the pixels of the widget for which bitmap has a corresponding 1 bit to be visible...</div><div class="ttdef"><b>Definition:</b> <a href="qwidget_8cpp_source.html#l13309">qwidget.cpp:13309</a></div></div>
<div class="ttc" id="namespaceQXcbAtom_html_ae0d50e173ccbe293594603e314b3eea0afe0eedc6139e7c9a12c9c2f147dc6e90"><div class="ttname"><a href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0afe0eedc6139e7c9a12c9c2f147dc6e90">QXcbAtom::XdndDrop</a></div><div class="ttdef"><b>Definition:</b> <a href="qxcbconnection_8h_source.html#l00172">qxcbconnection.h:172</a></div></div>
<div class="ttc" id="classQInternalMimeData_html_a2190cd3d4a420a8d58d20d1966af74e2"><div class="ttname"><a href="classQInternalMimeData.html#a2190cd3d4a420a8d58d20d1966af74e2">QInternalMimeData::renderDataHelper</a></div><div class="ttdeci">static QByteArray renderDataHelper(const QString &amp;mimeType, const QMimeData *data)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd_8cpp_source.html#l00447">qdnd.cpp:447</a></div></div>
<div class="ttc" id="classQWidget_html_a0ed196e8e50ae08d7e1bf79ccfe5f1a4"><div class="ttname"><a href="classQWidget.html#a0ed196e8e50ae08d7e1bf79ccfe5f1a4">QWidget::acceptDrops</a></div><div class="ttdeci">bool acceptDrops</div><div class="ttdoc">whether drop events are enabled for this widget </div><div class="ttdef"><b>Definition:</b> <a href="qwidget_8h_source.html#l00197">qwidget.h:197</a></div></div>
<div class="ttc" id="structQX11Data_html_af5527efb9728d254734514648af03d60"><div class="ttname"><a href="structQX11Data.html#af5527efb9728d254734514648af03d60">QX11Data::xdndHandleLeave</a></div><div class="ttdeci">void xdndHandleLeave(QWidget *, const XEvent *, bool)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l01047">qdnd_x11.cpp:1047</a></div></div>
<div class="ttc" id="classQVariant_html_a8e1414f284ce72d9e6a85f2dcf80c754a9022f746f3fd7dcdd7058f1aa794d53e"><div class="ttname"><a href="classQVariant.html#a8e1414f284ce72d9e6a85f2dcf80c754a9022f746f3fd7dcdd7058f1aa794d53e">QVariant::String</a></div><div class="ttdef"><b>Definition:</b> <a href="qvariant_8h_source.html#l00107">qvariant.h:107</a></div></div>
<div class="ttc" id="classQWidget_html_abdb06e8f7820240858fee71beed789a4"><div class="ttname"><a href="classQWidget.html#abdb06e8f7820240858fee71beed789a4">QWidget::mask</a></div><div class="ttdeci">QRegion mask() const</div><div class="ttdoc">Returns the mask currently set on a widget. </div><div class="ttdef"><b>Definition:</b> <a href="qwidget_8cpp_source.html#l10058">qwidget.cpp:10058</a></div></div>
<div class="ttc" id="structQX11Data_html_adfe75ebf3b8639425be3afe33e6ef545"><div class="ttname"><a href="structQX11Data.html#adfe75ebf3b8639425be3afe33e6ef545">QX11Data::xdndHandleDrop</a></div><div class="ttdeci">void xdndHandleDrop(QWidget *, const XEvent *, bool)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l01120">qdnd_x11.cpp:1120</a></div></div>
<div class="ttc" id="classQExtraWidget_html_ac74d2029875b8ed63a5dc7bf17135e46"><div class="ttname"><a href="classQExtraWidget.html#ac74d2029875b8ed63a5dc7bf17135e46">QExtraWidget::extraData</a></div><div class="ttdeci">QWExtra * extraData()</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00331">qdnd_x11.cpp:331</a></div></div>
<div class="ttc" id="qobjectdefs_8h_html_a28faeb36eee7fb0a64b8081fbab41bcd"><div class="ttname"><a href="qobjectdefs_8h.html#a28faeb36eee7fb0a64b8081fbab41bcd">Q_OBJECT</a></div><div class="ttdeci">#define Q_OBJECT</div><div class="ttdef"><b>Definition:</b> <a href="qobjectdefs_8h_source.html#l00157">qobjectdefs.h:157</a></div></div>
<div class="ttc" id="classQRect_html_a5600917ee06551e5315b1fe30961334f"><div class="ttname"><a href="classQRect.html#a5600917ee06551e5315b1fe30961334f">QRect::contains</a></div><div class="ttdeci">bool contains(const QPoint &amp;p, bool proper=false) const</div><div class="ttdoc">Returns true if the given point is inside or on the edge of the rectangle, otherwise returns false...</div><div class="ttdef"><b>Definition:</b> <a href="qrect_8cpp_source.html#l01101">qrect.cpp:1101</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_a70e9226ee132bef518a50b37f92a78bb"><div class="ttname"><a href="qdnd__x11_8cpp.html#a70e9226ee132bef518a50b37f92a78bb">possible_actions</a></div><div class="ttdeci">static Qt::DropActions possible_actions</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00246">qdnd_x11.cpp:246</a></div></div>
<div class="ttc" id="classQVector_html_a089ac11f22dec7de12a9ac819ab15175"><div class="ttname"><a href="classQVector.html#a089ac11f22dec7de12a9ac819ab15175">QVector::at</a></div><div class="ttdeci">const T &amp; at(int i) const</div><div class="ttdoc">Returns the item at index position i in the vector. </div><div class="ttdef"><b>Definition:</b> <a href="qvector_8h_source.html#l00350">qvector.h:350</a></div></div>
<div class="ttc" id="classQDragManager_html_a25ed32290b7de4688958ea8a348edf26"><div class="ttname"><a href="classQDragManager.html#a25ed32290b7de4688958ea8a348edf26">QDragManager::willDrop</a></div><div class="ttdeci">bool willDrop</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__p_8h_source.html#l00244">qdnd_p.h:244</a></div></div>
<div class="ttc" id="classQDesktopWidget_html_a09e0b6d965ff4ab525b9bb8da793f39a"><div class="ttname"><a href="classQDesktopWidget.html#a09e0b6d965ff4ab525b9bb8da793f39a">QDesktopWidget::screen</a></div><div class="ttdeci">QWidget * screen(int screen=-1)</div><div class="ttdef"><b>Definition:</b> <a href="qdesktopwidget__mac_8mm_source.html#l00182">qdesktopwidget_mac.mm:182</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_aa93146a4c3cf68369120db33b57a4dcb"><div class="ttname"><a href="qdnd__x11_8cpp.html#aa93146a4c3cf68369120db33b57a4dcb">qt_xdnd_dragging</a></div><div class="ttdeci">bool qt_xdnd_dragging</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00237">qdnd_x11.cpp:237</a></div></div>
<div class="ttc" id="classQMouseEvent_html"><div class="ttname"><a href="classQMouseEvent.html">QMouseEvent</a></div><div class="ttdoc">The QMouseEvent class contains parameters that describe a mouse event. </div><div class="ttdef"><b>Definition:</b> <a href="qevent_8h_source.html#l00085">qevent.h:85</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_ac429178f72a6750ff52a7719c1c33a78"><div class="ttname"><a href="qdnd__x11_8cpp.html#ac429178f72a6750ff52a7719c1c33a78">xdnd_position_scanner</a></div><div class="ttdeci">static Bool xdnd_position_scanner(Display *, XEvent *event, XPointer)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00979">qdnd_x11.cpp:979</a></div></div>
<div class="ttc" id="classQApplication_html_aab5a968c5d842a15564c4a8203303052"><div class="ttname"><a href="classQApplication.html#aab5a968c5d842a15564c4a8203303052">QApplication::desktop</a></div><div class="ttdeci">static QDesktopWidget * desktop()</div><div class="ttdoc">Returns the desktop widget (also called the root window). </div><div class="ttdef"><b>Definition:</b> <a href="qapplication_8cpp_source.html#l03320">qapplication.cpp:3320</a></div></div>
<div class="ttc" id="structXdndData_html_aaff63f904fb462749f4dd3f503b54237"><div class="ttname"><a href="structXdndData.html#aaff63f904fb462749f4dd3f503b54237">XdndData::deco</a></div><div class="ttdeci">QShapedPixmapWidget * deco</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00317">qdnd_x11.cpp:317</a></div></div>
<div class="ttc" id="qt__x11__p_8h_html_a4a246073c2fdc203041c7ae5348324e1"><div class="ttname"><a href="qt__x11__p_8h.html#a4a246073c2fdc203041c7ae5348324e1">XPointer</a></div><div class="ttdeci">char * XPointer</div><div class="ttdef"><b>Definition:</b> <a href="qt__x11__p_8h_source.html#l00180">qt_x11_p.h:180</a></div></div>
<div class="ttc" id="structQX11Data_html_a065919416648398180d490908f5033ac"><div class="ttname"><a href="structQX11Data.html#a065919416648398180d490908f5033ac">QX11Data::xdndHandleEnter</a></div><div class="ttdeci">void xdndHandleEnter(QWidget *, const XEvent *, bool)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00802">qdnd_x11.cpp:802</a></div></div>
<div class="ttc" id="structQX11Data_html_a0a7b8a17f50402ac258ca10f46b8732f"><div class="ttname"><a href="structQX11Data.html#a0a7b8a17f50402ac258ca10f46b8732f">QX11Data::xdndSetup</a></div><div class="ttdeci">static void xdndSetup()</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00707">qdnd_x11.cpp:707</a></div></div>
<div class="ttc" id="classQDragManager_html_ae9f511e9b0661bacc2d92c083e6e4c54"><div class="ttname"><a href="classQDragManager.html#ae9f511e9b0661bacc2d92c083e6e4c54">QDragManager::self</a></div><div class="ttdeci">static QDragManager * self()</div><div class="ttdef"><b>Definition:</b> <a href="qdnd_8cpp_source.html#l00163">qdnd.cpp:163</a></div></div>
<div class="ttc" id="classQList_html_a0d91b8dcfdf240b85c2349f339021cfa"><div class="ttname"><a href="classQList.html#a0d91b8dcfdf240b85c2349f339021cfa">QList::first</a></div><div class="ttdeci">T &amp; first()</div><div class="ttdoc">Returns a reference to the first item in the list. </div><div class="ttdef"><b>Definition:</b> <a href="qlist_8h_source.html#l00282">qlist.h:282</a></div></div>
<div class="ttc" id="classQEvent_html_a36f905fa770866e1aac2144c37682d2ca6a31912ef39f02d88bf4f805c1504102"><div class="ttname"><a href="classQEvent.html#a36f905fa770866e1aac2144c37682d2ca6a31912ef39f02d88bf4f805c1504102">QEvent::KeyRelease</a></div><div class="ttdef"><b>Definition:</b> <a href="qcoreevent_8h_source.html#l00076">qcoreevent.h:76</a></div></div>
<div class="ttc" id="classQByteArray_html_adb3b4e935f60dd123b1b017894901937"><div class="ttname"><a href="classQByteArray.html#adb3b4e935f60dd123b1b017894901937">QByteArray::constData</a></div><div class="ttdeci">const char * constData() const</div><div class="ttdoc">Returns a pointer to the data stored in the byte array. </div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8h_source.html#l00433">qbytearray.h:433</a></div></div>
<div class="ttc" id="structQX11Data_html_a4b325b790ccf4566fdbd6505c6aa0447"><div class="ttname"><a href="structQX11Data.html#a4b325b790ccf4566fdbd6505c6aa0447">QX11Data::xdndMimeStringToAtom</a></div><div class="ttdeci">Atom xdndMimeStringToAtom(const QString &amp;mimeType)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00445">qdnd_x11.cpp:445</a></div></div>
<div class="ttc" id="classQMimeData_html_a2397679aeb504ec7ee22a86f00e87214"><div class="ttname"><a href="classQMimeData.html#a2397679aeb504ec7ee22a86f00e87214">QMimeData::imageData</a></div><div class="ttdeci">QVariant imageData() const</div><div class="ttdoc">Returns a QVariant storing a QImage if the object can return an image; otherwise returns a null varia...</div><div class="ttdef"><b>Definition:</b> <a href="qmimedata_8cpp_source.html#l00442">qmimedata.cpp:442</a></div></div>
<div class="ttc" id="classQMimeData_html_a4efd533f71b34ee99b7de866587fc288"><div class="ttname"><a href="classQMimeData.html#a4efd533f71b34ee99b7de866587fc288">QMimeData::hasImage</a></div><div class="ttdeci">bool hasImage() const</div><div class="ttdoc">Returns true if the object can return an image; otherwise returns false. </div><div class="ttdef"><b>Definition:</b> <a href="qmimedata_8cpp_source.html#l00471">qmimedata.cpp:471</a></div></div>
<div class="ttc" id="classQTextCodec_html_a1e26050752c19acb5b623109f301d3de"><div class="ttname"><a href="classQTextCodec.html#a1e26050752c19acb5b623109f301d3de">QTextCodec::toUnicode</a></div><div class="ttdeci">QString toUnicode(const QByteArray &amp;) const</div><div class="ttdoc">Converts a from the encoding of this codec to Unicode, and returns the result in a QString...</div><div class="ttdef"><b>Definition:</b> <a href="qtextcodec_8cpp_source.html#l01408">qtextcodec.cpp:1408</a></div></div>
<div class="ttc" id="classQString_html_a0e3c8883986091e3e82971b0574fd882"><div class="ttname"><a href="classQString.html#a0e3c8883986091e3e82971b0574fd882">QString::mid</a></div><div class="ttdeci">QString mid(int position, int n=-1) const Q_REQUIRED_RESULT</div><div class="ttdoc">Returns a string that contains n characters of this string, starting at the specified position index...</div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l03706">qstring.cpp:3706</a></div></div>
<div class="ttc" id="classQMimeData_html_a7c872f27c761af1f067f0b80613bd262"><div class="ttname"><a href="classQMimeData.html#a7c872f27c761af1f067f0b80613bd262">QMimeData::hasFormat</a></div><div class="ttdeci">virtual bool hasFormat(const QString &amp;mimetype) const</div><div class="ttdoc">Returns true if the object can return data for the MIME type specified by mimeType; otherwise returns...</div><div class="ttdef"><b>Definition:</b> <a href="qmimedata_8cpp_source.html#l00563">qmimedata.cpp:563</a></div></div>
<div class="ttc" id="classQDropData_html_a1d6ee44c42ddad73674da48e33f11fc4"><div class="ttname"><a href="classQDropData.html#a1d6ee44c42ddad73674da48e33f11fc4">QDropData::retrieveData_sys</a></div><div class="ttdeci">QVariant retrieveData_sys(const QString &amp;mimeType, QVariant::Type type) const</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__mac_8mm_source.html#l00229">qdnd_mac.mm:229</a></div></div>
<div class="ttc" id="qx11info__x11_8h_html"><div class="ttname"><a href="qx11info__x11_8h.html">qx11info_x11.h</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_a435afa7b7a3ea4af05f9b0cde3ef8920"><div class="ttname"><a href="qdnd__x11_8cpp.html#a435afa7b7a3ea4af05f9b0cde3ef8920">qt_xdnd_current_widget</a></div><div class="ttdeci">static QPointer&lt; QWidget &gt; qt_xdnd_current_widget</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00230">qdnd_x11.cpp:230</a></div></div>
<div class="ttc" id="classQByteArray_html_a3fce1e24ee6588c76e611740faa2d0d0"><div class="ttname"><a href="classQByteArray.html#a3fce1e24ee6588c76e611740faa2d0d0">QByteArray::split</a></div><div class="ttdeci">QList&lt; QByteArray &gt; split(char sep) const</div><div class="ttdoc">Splits the byte array into subarrays wherever sep occurs, and returns the list of those arrays...</div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8cpp_source.html#l02307">qbytearray.cpp:2307</a></div></div>
<div class="ttc" id="classQImageWriter_html_a0e2ab0a427b63351543e90b119c2ec1c"><div class="ttname"><a href="classQImageWriter.html#a0e2ab0a427b63351543e90b119c2ec1c">QImageWriter::setDevice</a></div><div class="ttdeci">void setDevice(QIODevice *device)</div><div class="ttdoc">Sets QImageWriter&amp;#39;s device to device. </div><div class="ttdef"><b>Definition:</b> <a href="qimagewriter_8cpp_source.html#l00379">qimagewriter.cpp:379</a></div></div>
<div class="ttc" id="qwindowdefs_8h_html_a8eac9cd918bbb974619385adffa7c81b"><div class="ttname"><a href="qwindowdefs_8h.html#a8eac9cd918bbb974619385adffa7c81b">Display</a></div><div class="ttdeci">struct _XDisplay Display</div><div class="ttdef"><b>Definition:</b> <a href="qwindowdefs_8h_source.html#l00115">qwindowdefs.h:115</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_ab79d8b0615aafda4bbed5ca5f1a2f200"><div class="ttname"><a href="qdnd__x11_8cpp.html#ab79d8b0615aafda4bbed5ca5f1a2f200">restartXdndDropExpiryTimer</a></div><div class="ttdeci">static void restartXdndDropExpiryTimer()</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00124">qdnd_x11.cpp:124</a></div></div>
<div class="ttc" id="namespaceQXcbAtom_html_ae0d50e173ccbe293594603e314b3eea0af4c6552192d02cbde590bbe8eb8e4d21"><div class="ttname"><a href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0af4c6552192d02cbde590bbe8eb8e4d21">QXcbAtom::COMPOUND_TEXT</a></div><div class="ttdef"><b>Definition:</b> <a href="qxcbconnection_8h_source.html#l00163">qxcbconnection.h:163</a></div></div>
<div class="ttc" id="classQObject_html_affcb6200509ace5b000b5075a52e38f8"><div class="ttname"><a href="classQObject.html#affcb6200509ace5b000b5075a52e38f8">QObject::isWidgetType</a></div><div class="ttdeci">bool isWidgetType() const</div><div class="ttdoc">Returns true if the object is a widget; otherwise returns false. </div><div class="ttdef"><b>Definition:</b> <a href="qobject_8h_source.html#l00146">qobject.h:146</a></div></div>
<div class="ttc" id="classQApplication_html_af7820a490eac0d1beef71de9cda1a70c"><div class="ttname"><a href="classQApplication.html#af7820a490eac0d1beef71de9cda1a70c">QApplication::queryKeyboardModifiers</a></div><div class="ttdeci">static Qt::KeyboardModifiers queryKeyboardModifiers()</div><div class="ttdoc">Queries and returns the state of the modifier keys on the keyboard. </div><div class="ttdef"><b>Definition:</b> <a href="qapplication__mac_8mm_source.html#l01436">qapplication_mac.mm:1436</a></div></div>
<div class="ttc" id="structQX11Data_html_a7259a3e677153105ebe69357a2d5ebfe"><div class="ttname"><a href="structQX11Data.html#a7259a3e677153105ebe69357a2d5ebfe">QX11Data::dndEnable</a></div><div class="ttdeci">bool dndEnable(QWidget *w, bool on)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l01954">qdnd_x11.cpp:1954</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_a52776efd87119f73f96ac0ff87bd4178"><div class="ttname"><a href="qdnd__x11_8cpp.html#a52776efd87119f73f96ac0ff87bd4178">waiting_for_status</a></div><div class="ttdeci">static bool waiting_for_status</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00239">qdnd_x11.cpp:239</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_a45e6047b4a0f6f30880a9c94c838451b"><div class="ttname"><a href="qdnd__x11_8cpp.html#a45e6047b4a0f6f30880a9c94c838451b">qt_xdnd_source_current_time</a></div><div class="ttdeci">static Time qt_xdnd_source_current_time</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00227">qdnd_x11.cpp:227</a></div></div>
<div class="ttc" id="classQImage_html_abb78d52192d06342711322505366f853"><div class="ttname"><a href="classQImage.html#abb78d52192d06342711322505366f853">QImage::convertToFormat</a></div><div class="ttdeci">QImage convertToFormat(Format f, Qt::ImageConversionFlags flags=Qt::AutoColor) const Q_REQUIRED_RESULT</div><div class="ttdoc">Returns a copy of the image in the given format. </div><div class="ttdef"><b>Definition:</b> <a href="qimage_8cpp_source.html#l03966">qimage.cpp:3966</a></div></div>
<div class="ttc" id="classQWidget_html_a59e327b4d20368459a0f4195bf8bdd5c"><div class="ttname"><a href="classQWidget.html#a59e327b4d20368459a0f4195bf8bdd5c">QWidget::mapFromParent</a></div><div class="ttdeci">QPoint mapFromParent(const QPoint &amp;) const</div><div class="ttdoc">Translates the parent widget coordinate pos to widget coordinates. </div><div class="ttdef"><b>Definition:</b> <a href="qwidget_8cpp_source.html#l04473">qwidget.cpp:4473</a></div></div>
<div class="ttc" id="classQDropEvent_html"><div class="ttname"><a href="classQDropEvent.html">QDropEvent</a></div><div class="ttdoc">The QDropEvent class provides an event which is sent when a drag and drop action is completed...</div><div class="ttdef"><b>Definition:</b> <a href="qevent_8h_source.html#l00476">qevent.h:476</a></div></div>
<div class="ttc" id="classQApplication_html_a8884026347297676505639ffac9269f6"><div class="ttname"><a href="classQApplication.html#a8884026347297676505639ffac9269f6">QApplication::keyboardModifiers</a></div><div class="ttdeci">static Qt::KeyboardModifiers keyboardModifiers()</div><div class="ttdoc">Returns the current state of the modifier keys on the keyboard. </div><div class="ttdef"><b>Definition:</b> <a href="qapplication_8cpp_source.html#l03390">qapplication.cpp:3390</a></div></div>
<div class="ttc" id="structQX11Data_html_ab31137abc16a3b437af53670ddc97db0"><div class="ttname"><a href="structQX11Data.html#ab31137abc16a3b437af53670ddc97db0">QX11Data::xdndAtomToString</a></div><div class="ttdeci">QByteArray xdndAtomToString(Atom a)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00412">qdnd_x11.cpp:412</a></div></div>
<div class="ttc" id="classQShapedPixmapWidget_html_ad2b60cef948ba30d9aed927a40a9ddf0"><div class="ttname"><a href="classQShapedPixmapWidget.html#ad2b60cef948ba30d9aed927a40a9ddf0">QShapedPixmapWidget::setPixmap</a></div><div class="ttdeci">void setPixmap(const QPixmap &amp;pm)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00291">qdnd_x11.cpp:291</a></div></div>
<div class="ttc" id="classQString_html_ac15050d5c0a530ac4caa6c564b3e5a6d"><div class="ttname"><a href="classQString.html#ac15050d5c0a530ac4caa6c564b3e5a6d">QString::append</a></div><div class="ttdeci">QString &amp; append(QChar c)</div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l01777">qstring.cpp:1777</a></div></div>
<div class="ttc" id="qobject_8cpp_html_a6ea911cb0988eac3a120b150a39d3d28"><div class="ttname"><a href="qobject_8cpp.html#a6ea911cb0988eac3a120b150a39d3d28">qDeleteInEventHandler</a></div><div class="ttdeci">void qDeleteInEventHandler(QObject *o)</div><div class="ttdef"><b>Definition:</b> <a href="qobject_8cpp_source.html#l04348">qobject.cpp:4348</a></div></div>
<div class="ttc" id="namespaceQXcbAtom_html_ae0d50e173ccbe293594603e314b3eea0a50f4908b0d7d3660b933175f58a56629"><div class="ttname"><a href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a50f4908b0d7d3660b933175f58a56629">QXcbAtom::XdndFinished</a></div><div class="ttdef"><b>Definition:</b> <a href="qxcbconnection_8h_source.html#l00173">qxcbconnection.h:173</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_ab36302516875c631cd76a0642298594e"><div class="ttname"><a href="qdnd__x11_8cpp.html#ab36302516875c631cd76a0642298594e">DNDDEBUG</a></div><div class="ttdeci">#define DNDDEBUG</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00091">qdnd_x11.cpp:91</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_a0cec5e911618a9b9d25b1fa5f73d8ae5"><div class="ttname"><a href="qdnd__x11_8cpp.html#a0cec5e911618a9b9d25b1fa5f73d8ae5">qt_xdnd_cleanup</a></div><div class="ttdeci">static void qt_xdnd_cleanup()</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00713">qdnd_x11.cpp:713</a></div></div>
<div class="ttc" id="classQApplicationPrivate_html_a7e39c23d45bf420c87e3aa6220f529e0"><div class="ttname"><a href="classQApplicationPrivate.html#a7e39c23d45bf420c87e3aa6220f529e0">QApplicationPrivate::modifier_buttons</a></div><div class="ttdeci">static Qt::KeyboardModifiers modifier_buttons</div><div class="ttdef"><b>Definition:</b> <a href="qapplication__p_8h_source.html#l00415">qapplication_p.h:415</a></div></div>
<div class="ttc" id="classQWidget_html_ac7abf6a9079a2110c38ffd2ae78a5936"><div class="ttname"><a href="classQWidget.html#ac7abf6a9079a2110c38ffd2ae78a5936">QWidget::x</a></div><div class="ttdeci">int x() const</div></div>
<div class="ttc" id="classQWidget_html_ab9c2688a93e5ba78af6224cb71132e06"><div class="ttname"><a href="classQWidget.html#ab9c2688a93e5ba78af6224cb71132e06">QWidget::resize</a></div><div class="ttdeci">void resize(int w, int h)</div><div class="ttdoc">This corresponds to resize(QSize(w, h)). </div><div class="ttdef"><b>Definition:</b> <a href="qwidget_8h_source.html#l01014">qwidget.h:1014</a></div></div>
<div class="ttc" id="namespaceQt_html_a6d774d2676850ebdccc027a7d06f9e1da636e74d70da8be71cff494dc67ffc0c5"><div class="ttname"><a href="namespaceQt.html#a6d774d2676850ebdccc027a7d06f9e1da636e74d70da8be71cff494dc67ffc0c5">Qt::DragLinkCursor</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l01284">qnamespace.h:1284</a></div></div>
<div class="ttc" id="qprintengine__ps_8cpp_html_a387137c43ed9616d39ba90e890d181eb"><div class="ttname"><a href="qprintengine__ps_8cpp.html#a387137c43ed9616d39ba90e890d181eb">format</a></div><div class="ttdeci">format</div><div class="ttdef"><b>Definition:</b> <a href="qprintengine__ps_8cpp_source.html#l00286">qprintengine_ps.cpp:286</a></div></div>
<div class="ttc" id="namespaceQXcbAtom_html_ae0d50e173ccbe293594603e314b3eea0aacdd50114ee0f911c528831d67e2b328"><div class="ttname"><a href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0aacdd50114ee0f911c528831d67e2b328">QXcbAtom::XdndProxy</a></div><div class="ttdef"><b>Definition:</b> <a href="qxcbconnection_8h_source.html#l00180">qxcbconnection.h:180</a></div></div>
<div class="ttc" id="classQPixmap_html_a6eb689bda992bbd05db9257c58bbfaf5"><div class="ttname"><a href="classQPixmap.html#a6eb689bda992bbd05db9257c58bbfaf5">QPixmap::mask</a></div><div class="ttdeci">QBitmap mask() const</div><div class="ttdoc">Extracts a bitmap mask from the pixmap&amp;#39;s alpha channel. </div><div class="ttdef"><b>Definition:</b> <a href="qpixmap_8cpp_source.html#l02077">qpixmap.cpp:2077</a></div></div>
<div class="ttc" id="classQTimerEvent_html"><div class="ttname"><a href="classQTimerEvent.html">QTimerEvent</a></div><div class="ttdoc">The QTimerEvent class contains parameters that describe a timer event. </div><div class="ttdef"><b>Definition:</b> <a href="qcoreevent_8h_source.html#l00341">qcoreevent.h:341</a></div></div>
<div class="ttc" id="qmetatype_8cpp_html_ade93bf2999a86a0287f25c9d1dab4fa4"><div class="ttname"><a href="qmetatype_8cpp.html#ade93bf2999a86a0287f25c9d1dab4fa4">types</a></div><div class="ttdeci">static const struct @32 types[]</div></div>
<div class="ttc" id="classQRect_html_a97f3a3bd2568697fcfb3830822a36dff"><div class="ttname"><a href="classQRect.html#a97f3a3bd2568697fcfb3830822a36dff">QRect::setLeft</a></div><div class="ttdeci">void setLeft(int pos)</div><div class="ttdoc">Sets the left edge of the rectangle to the given x coordinate. </div><div class="ttdef"><b>Definition:</b> <a href="qrect_8h_source.html#l00258">qrect.h:258</a></div></div>
<div class="ttc" id="classQWidget_html_a6e1c763026a0f0e8d16f8133505d65fa"><div class="ttname"><a href="classQWidget.html#a6e1c763026a0f0e8d16f8133505d65fa">QWidget::rect</a></div><div class="ttdeci">QRect rect</div><div class="ttdoc">the internal geometry of the widget excluding any window frame </div><div class="ttdef"><b>Definition:</b> <a href="qwidget_8h_source.html#l00168">qwidget.h:168</a></div></div>
<div class="ttc" id="structQX11Data_html_a7fec1ac5b155b125130a6b6a0c9f5731"><div class="ttname"><a href="structQX11Data.html#a7fec1ac5b155b125130a6b6a0c9f5731">QX11Data::xdndMimeAtomForFormat</a></div><div class="ttdeci">Atom xdndMimeAtomForFormat(const QString &amp;format, QVariant::Type requestedType, const QList&lt; Atom &gt; &amp;atoms, QByteArray *requestedEncoding)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00652">qdnd_x11.cpp:652</a></div></div>
<div class="ttc" id="classQDragPrivate_html_aa2a36d0044e62f8f455e83c5719c815f"><div class="ttname"><a href="classQDragPrivate.html#aa2a36d0044e62f8f455e83c5719c815f">QDragPrivate::data</a></div><div class="ttdeci">QMimeData * data</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__p_8h_source.html#l00179">qdnd_p.h:179</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_ac56bd3ac6d2fd5f731ff6d7f6c7e0e53"><div class="ttname"><a href="qdnd__x11_8cpp.html#ac56bd3ac6d2fd5f731ff6d7f6c7e0e53">findXdndAwareParent</a></div><div class="ttdeci">static Window findXdndAwareParent(Window window)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00133">qdnd_x11.cpp:133</a></div></div>
<div class="ttc" id="classQString_html_a09b8b144ffd130ce7d065bacf7cd495e"><div class="ttname"><a href="classQString.html#a09b8b144ffd130ce7d065bacf7cd495e">QString::fromLatin1</a></div><div class="ttdeci">static QString fromLatin1(const char *, int size=-1)</div><div class="ttdoc">Returns a QString initialized with the first size characters of the Latin-1 string str...</div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l04188">qstring.cpp:4188</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_a87738c5c7607253b05f2bd85d5df82bc"><div class="ttname"><a href="qdnd__x11_8cpp.html#a87738c5c7607253b05f2bd85d5df82bc">findXdndDropTransactionByTime</a></div><div class="ttdeci">static int findXdndDropTransactionByTime(Time timestamp)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00107">qdnd_x11.cpp:107</a></div></div>
<div class="ttc" id="qabstracteventdispatcher_8h_html"><div class="ttname"><a href="qabstracteventdispatcher_8h.html">qabstracteventdispatcher.h</a></div></div>
<div class="ttc" id="structQX11Data_html_a27fe769ac790b52de852e2c9b33dbc86"><div class="ttname"><a href="structQX11Data.html#a27fe769ac790b52de852e2c9b33dbc86">QX11Data::xdndMimeDataForAtom</a></div><div class="ttdeci">bool xdndMimeDataForAtom(Atom a, QMimeData *mimeData, QByteArray *data, Atom *atomFormat, int *dataFormat)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00477">qdnd_x11.cpp:477</a></div></div>
<div class="ttc" id="classQDragManager_html_ad837bc37bb8598ec11ca59711dbf7dac"><div class="ttname"><a href="classQDragManager.html#ad837bc37bb8598ec11ca59711dbf7dac">QDragManager::dropData</a></div><div class="ttdeci">QDropData * dropData</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__p_8h_source.html#l00251">qdnd_p.h:251</a></div></div>
<div class="ttc" id="classQObject_html_a5cb3e027df098415194ae1f4b688b515"><div class="ttname"><a href="classQObject.html#a5cb3e027df098415194ae1f4b688b515">QObject::parent</a></div><div class="ttdeci">QObject * parent() const</div><div class="ttdoc">Returns a pointer to the parent object. </div><div class="ttdef"><b>Definition:</b> <a href="qobject_8h_source.html#l00273">qobject.h:273</a></div></div>
<div class="ttc" id="classQDragEnterEvent_html"><div class="ttname"><a href="classQDragEnterEvent.html">QDragEnterEvent</a></div><div class="ttdoc">The QDragEnterEvent class provides an event which is sent to a widget when a drag and drop action ent...</div><div class="ttdef"><b>Definition:</b> <a href="qevent_8h_source.html#l00555">qevent.h:555</a></div></div>
<div class="ttc" id="qbitmap_8h_html"><div class="ttname"><a href="qbitmap_8h.html">qbitmap.h</a></div></div>
<div class="ttc" id="classQPoint_html"><div class="ttname"><a href="classQPoint.html">QPoint</a></div><div class="ttdoc">The QPoint class defines a point in the plane using integer precision. </div><div class="ttdef"><b>Definition:</b> <a href="qpoint_8h_source.html#l00053">qpoint.h:53</a></div></div>
<div class="ttc" id="classQShapedPixmapWidget_html_a468570123e1972e598e731a2a63385bf"><div class="ttname"><a href="classQShapedPixmapWidget.html#a468570123e1972e598e731a2a63385bf">QShapedPixmapWidget::pm_hot</a></div><div class="ttdeci">QPoint pm_hot</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00303">qdnd_x11.cpp:303</a></div></div>
<div class="ttc" id="classQWidget_html_aa06544e9d32d8c39a5e9851c1ab67207"><div class="ttname"><a href="classQWidget.html#aa06544e9d32d8c39a5e9851c1ab67207">QWidget::mapToParent</a></div><div class="ttdeci">QPoint mapToParent(const QPoint &amp;) const</div><div class="ttdoc">Translates the widget coordinate pos to a coordinate in the parent widget. </div><div class="ttdef"><b>Definition:</b> <a href="qwidget_8cpp_source.html#l04459">qwidget.cpp:4459</a></div></div>
<div class="ttc" id="classQList_html_aa83cded751888bb21257cb4890652809"><div class="ttname"><a href="classQList.html#aa83cded751888bb21257cb4890652809">QList::size</a></div><div class="ttdeci">int size() const</div><div class="ttdoc">Returns the number of items in the list. </div><div class="ttdef"><b>Definition:</b> <a href="qlist_8h_source.html#l00137">qlist.h:137</a></div></div>
<div class="ttc" id="namespaceQt_html_a6d774d2676850ebdccc027a7d06f9e1da195c42b3c9b08a3aa394c71280aefc29"><div class="ttname"><a href="namespaceQt.html#a6d774d2676850ebdccc027a7d06f9e1da195c42b3c9b08a3aa394c71280aefc29">Qt::DragCopyCursor</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l01282">qnamespace.h:1282</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_ae998e95ec3a2ef2db6015516ad4b8a9f"><div class="ttname"><a href="qdnd__x11_8cpp.html#ae998e95ec3a2ef2db6015516ad4b8a9f">qt_xdnd_send_leave</a></div><div class="ttdeci">static void qt_xdnd_send_leave()</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l01079">qdnd_x11.cpp:1079</a></div></div>
<div class="ttc" id="structQXdndDropTransaction_html_a7b399250d2b9031a64676de62b5eaed4"><div class="ttname"><a href="structQXdndDropTransaction.html#a7b399250d2b9031a64676de62b5eaed4">QXdndDropTransaction::timestamp</a></div><div class="ttdeci">Time timestamp</div><div class="ttdef"><b>Definition:</b> <a href="qt__x11__p_8h_source.html#l00327">qt_x11_p.h:327</a></div></div>
<div class="ttc" id="qcocoasharedwindowmethods__mac__p_8h_html_a4bcf1ca8433d12097b8bbf9e3d75c334"><div class="ttname"><a href="qcocoasharedwindowmethods__mac__p_8h.html#a4bcf1ca8433d12097b8bbf9e3d75c334">if</a></div><div class="ttdeci">if(void) toggleToolbarShown</div><div class="ttdef"><b>Definition:</b> <a href="qcocoasharedwindowmethods__mac__p_8h_source.html#l00220">qcocoasharedwindowmethods_mac_p.h:220</a></div></div>
<div class="ttc" id="classQRect_html"><div class="ttname"><a href="classQRect.html">QRect</a></div><div class="ttdoc">The QRect class defines a rectangle in the plane using integer precision. </div><div class="ttdef"><b>Definition:</b> <a href="qrect_8h_source.html#l00058">qrect.h:58</a></div></div>
<div class="ttc" id="qdnd__p_8h_html"><div class="ttname"><a href="qdnd__p_8h.html">qdnd_p.h</a></div></div>
<div class="ttc" id="namespaceQt_html"><div class="ttname"><a href="namespaceQt.html">Qt</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00054">qnamespace.h:54</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_a7e38f228d9017d8eac0d00bc8a588bbb"><div class="ttname"><a href="qdnd__x11_8cpp.html#a7e38f228d9017d8eac0d00bc8a588bbb">xdnd_version</a></div><div class="ttdeci">const int xdnd_version</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00176">qdnd_x11.cpp:176</a></div></div>
<div class="ttc" id="qimagewriter_8cpp_html_a8dd48cb4bc7ae12584a6fde8950b1d12"><div class="ttname"><a href="qimagewriter_8cpp.html#a8dd48cb4bc7ae12584a6fde8950b1d12">l</a></div><div class="ttdeci">QFactoryLoader * l</div><div class="ttdef"><b>Definition:</b> <a href="qimagewriter_8cpp_source.html#l00152">qimagewriter.cpp:152</a></div></div>
<div class="ttc" id="structQX11Data_html_a26b4e2aeb4fe6b588489de2f3ccd8e9a"><div class="ttname"><a href="structQX11Data.html#a26b4e2aeb4fe6b588489de2f3ccd8e9a">QX11Data::xdndHandleStatus</a></div><div class="ttdeci">void xdndHandleStatus(QWidget *, const XEvent *, bool)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l01037">qdnd_x11.cpp:1037</a></div></div>
<div class="ttc" id="classQTextCodec_html_aff592d5559a39bd5e22a104bb38c023b"><div class="ttname"><a href="classQTextCodec.html#aff592d5559a39bd5e22a104bb38c023b">QTextCodec::codecForName</a></div><div class="ttdeci">static QTextCodec * codecForName(const QByteArray &amp;name)</div><div class="ttdoc">Searches all installed QTextCodec objects and returns the one which best matches name; the match is c...</div><div class="ttdef"><b>Definition:</b> <a href="qtextcodec_8cpp_source.html#l01034">qtextcodec.cpp:1034</a></div></div>
<div class="ttc" id="classQObject_html_a308c498f61bb829dcfb5597935f0f8b6"><div class="ttname"><a href="classQObject.html#a308c498f61bb829dcfb5597935f0f8b6">QObject::children</a></div><div class="ttdeci">const QObjectList &amp; children() const</div><div class="ttdoc">Returns a list of child objects. </div><div class="ttdef"><b>Definition:</b> <a href="qobject_8h_source.html#l00197">qobject.h:197</a></div></div>
<div class="ttc" id="qvariant_8h_html_ab59931d305c140c85a357631116b0bd6"><div class="ttname"><a href="qvariant_8h.html#ab59931d305c140c85a357631116b0bd6">qvariant_cast</a></div><div class="ttdeci">T qvariant_cast(const QVariant &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="qvariant_8h_source.html#l00571">qvariant.h:571</a></div></div>
<div class="ttc" id="classQWidget_html_a0c197484aa97e41f326f39313895b155"><div class="ttname"><a href="classQWidget.html#a0c197484aa97e41f326f39313895b155">QWidget::internalWinId</a></div><div class="ttdeci">WId internalWinId() const</div><div class="ttdoc">Returns the window system identifier of the widget, or 0 if the widget is not created yet...</div><div class="ttdef"><b>Definition:</b> <a href="qwidget_8h_source.html#l00244">qwidget.h:244</a></div></div>
<div class="ttc" id="classQByteArray_html_a0cd331ee1b05147f3173fb85dfcd0ccd"><div class="ttname"><a href="classQByteArray.html#a0cd331ee1b05147f3173fb85dfcd0ccd">QByteArray::size</a></div><div class="ttdeci">int size() const</div><div class="ttdoc">Returns the number of bytes in this byte array. </div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8h_source.html#l00402">qbytearray.h:402</a></div></div>
<div class="ttc" id="classQVector_html_ab5455ba37a7b53a1adbfd6cfa4f027a4"><div class="ttname"><a href="classQVector.html#ab5455ba37a7b53a1adbfd6cfa4f027a4">QVector::contains</a></div><div class="ttdeci">bool contains(const T &amp;t) const</div><div class="ttdoc">Returns true if the vector contains an occurrence of value; otherwise returns false. </div><div class="ttdef"><b>Definition:</b> <a href="qvector_8h_source.html#l00731">qvector.h:731</a></div></div>
<div class="ttc" id="classQPoint_html_aa241cfaf926eef9a0710bffcbc086219"><div class="ttname"><a href="classQPoint.html#aa241cfaf926eef9a0710bffcbc086219">QPoint::y</a></div><div class="ttdeci">int y() const</div><div class="ttdoc">Returns the y coordinate of this point. </div><div class="ttdef"><b>Definition:</b> <a href="qpoint_8h_source.html#l00131">qpoint.h:131</a></div></div>
<div class="ttc" id="classQWidget_html_a0449b9ec27a288d8add4b85c5e0d92b7"><div class="ttname"><a href="classQWidget.html#a0449b9ec27a288d8add4b85c5e0d92b7">QWidget::setAttribute</a></div><div class="ttdeci">void setAttribute(Qt::WidgetAttribute, bool on=true)</div><div class="ttdoc">Sets the attribute attribute on this widget if on is true; otherwise clears the attribute. </div><div class="ttdef"><b>Definition:</b> <a href="qwidget_8cpp_source.html#l11087">qwidget.cpp:11087</a></div></div>
<div class="ttc" id="classQEvent_html_a36f905fa770866e1aac2144c37682d2ca94742b4e3921778a9349261b9ba01c36"><div class="ttname"><a href="classQEvent.html#a36f905fa770866e1aac2144c37682d2ca94742b4e3921778a9349261b9ba01c36">QEvent::MouseButtonPress</a></div><div class="ttdef"><b>Definition:</b> <a href="qcoreevent_8h_source.html#l00071">qcoreevent.h:71</a></div></div>
<div class="ttc" id="classQWidget_html_a36c4bbd73b9b4462035246533dd3dd77"><div class="ttname"><a href="classQWidget.html#a36c4bbd73b9b4462035246533dd3dd77">QWidget::mapFromGlobal</a></div><div class="ttdeci">QPoint mapFromGlobal(const QPoint &amp;) const</div><div class="ttdoc">Translates the global screen coordinate pos to widget coordinates. </div><div class="ttdef"><b>Definition:</b> <a href="qwidget__mac_8mm_source.html#l03135">qwidget_mac.mm:3135</a></div></div>
<div class="ttc" id="classQWidget_html_a091bcfa8bfe3a48f45fda3c88de95935"><div class="ttname"><a href="classQWidget.html#a091bcfa8bfe3a48f45fda3c88de95935">QWidget::window</a></div><div class="ttdeci">QWidget * window() const</div><div class="ttdoc">Returns the window for this widget, i.e. </div><div class="ttdef"><b>Definition:</b> <a href="qwidget_8cpp_source.html#l04492">qwidget.cpp:4492</a></div></div>
<div class="ttc" id="classQPixmap_html"><div class="ttname"><a href="classQPixmap.html">QPixmap</a></div><div class="ttdoc">The QPixmap class is an off-screen image representation that can be used as a paint device...</div><div class="ttdef"><b>Definition:</b> <a href="qpixmap_8h_source.html#l00071">qpixmap.h:71</a></div></div>
<div class="ttc" id="qfilesystemiterator__win_8cpp_html_a1d39aac66e12dae50a24cd7a9100ef33"><div class="ttname"><a href="qfilesystemiterator__win_8cpp.html#a1d39aac66e12dae50a24cd7a9100ef33">done</a></div><div class="ttdeci">bool done</div><div class="ttdef"><b>Definition:</b> <a href="qfilesystemiterator__win_8cpp_source.html#l00056">qfilesystemiterator_win.cpp:56</a></div></div>
<div class="ttc" id="classQPointer_html_aa4403941672e831992524989ca534c68"><div class="ttname"><a href="classQPointer.html#aa4403941672e831992524989ca534c68">QPointer::data</a></div><div class="ttdeci">T * data() const</div><div class="ttdef"><b>Definition:</b> <a href="qpointer_8h_source.html#l00079">qpointer.h:79</a></div></div>
<div class="ttc" id="classQPainter_html_aa816d538329497007855e3459fd37b8a"><div class="ttname"><a href="classQPainter.html#aa816d538329497007855e3459fd37b8a">QPainter::drawPixmap</a></div><div class="ttdeci">void drawPixmap(const QRectF &amp;targetRect, const QPixmap &amp;pixmap, const QRectF &amp;sourceRect)</div><div class="ttdoc">Draws the rectangular portion source of the given pixmap into the given target in the paint device...</div><div class="ttdef"><b>Definition:</b> <a href="qpainter_8cpp_source.html#l05619">qpainter.cpp:5619</a></div></div>
<div class="ttc" id="classQPixmap_html_a078e642719128a4e908a04ee37edfc61"><div class="ttname"><a href="classQPixmap.html#a078e642719128a4e908a04ee37edfc61">QPixmap::height</a></div><div class="ttdeci">int height() const</div><div class="ttdoc">Returns the height of the pixmap. </div><div class="ttdef"><b>Definition:</b> <a href="qpixmap_8cpp_source.html#l00645">qpixmap.cpp:645</a></div></div>
<div class="ttc" id="classQImageWriter_html_ad882e8d151760418bf839c65db878a32"><div class="ttname"><a href="classQImageWriter.html#ad882e8d151760418bf839c65db878a32">QImageWriter::setFormat</a></div><div class="ttdeci">void setFormat(const QByteArray &amp;format)</div><div class="ttdoc">Sets the format QImageWriter will use when writing images, to format. </div><div class="ttdef"><b>Definition:</b> <a href="qimagewriter_8cpp_source.html#l00351">qimagewriter.cpp:351</a></div></div>
<div class="ttc" id="structQX11Data_html_add1f92c738ed5228eb74c5d40c045ab5"><div class="ttname"><a href="structQX11Data.html#add1f92c738ed5228eb74c5d40c045ab5">QX11Data::xdndHandleFinished</a></div><div class="ttdeci">void xdndHandleFinished(QWidget *, const XEvent *, bool)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l01217">qdnd_x11.cpp:1217</a></div></div>
<div class="ttc" id="classQExtraWidget_html"><div class="ttname"><a href="classQExtraWidget.html">QExtraWidget</a></div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00323">qdnd_x11.cpp:323</a></div></div>
<div class="ttc" id="classQCursorData_html_adabd308f881bf1638448b7682a3d8ffb"><div class="ttname"><a href="classQCursorData.html#adabd308f881bf1638448b7682a3d8ffb">QCursorData::initialize</a></div><div class="ttdeci">static void initialize()</div><div class="ttdef"><b>Definition:</b> <a href="qcursor_8cpp_source.html#l00417">qcursor.cpp:417</a></div></div>
<div class="ttc" id="classQEvent_html_adc2bcec331a602a4904009203761ac13"><div class="ttname"><a href="classQEvent.html#adc2bcec331a602a4904009203761ac13">QEvent::accept</a></div><div class="ttdeci">void accept()</div><div class="ttdoc">Sets the accept flag of the event object, the equivalent of calling setAccepted(true). </div><div class="ttdef"><b>Definition:</b> <a href="qcoreevent_8h_source.html#l00309">qcoreevent.h:309</a></div></div>
<div class="ttc" id="classQByteArray_html_a060e3866557ed4b6d98984316f7d700e"><div class="ttname"><a href="classQByteArray.html#a060e3866557ed4b6d98984316f7d700e">QByteArray::isEmpty</a></div><div class="ttdeci">bool isEmpty() const</div><div class="ttdoc">Returns true if the byte array has size 0; otherwise returns false. </div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8h_source.html#l00421">qbytearray.h:421</a></div></div>
<div class="ttc" id="classQSize_html"><div class="ttname"><a href="classQSize.html">QSize</a></div><div class="ttdoc">The QSize class defines the size of a two-dimensional object using integer point precision. </div><div class="ttdef"><b>Definition:</b> <a href="qsize_8h_source.html#l00053">qsize.h:53</a></div></div>
<div class="ttc" id="classQVector_html_acc8068ddfe8bc93852558914a5e73b5a"><div class="ttname"><a href="classQVector.html#acc8068ddfe8bc93852558914a5e73b5a">QVector::data</a></div><div class="ttdeci">T * data()</div><div class="ttdoc">Returns a pointer to the data stored in the vector. </div><div class="ttdef"><b>Definition:</b> <a href="qvector_8h_source.html#l00152">qvector.h:152</a></div></div>
<div class="ttc" id="classQWidget_html_af32c7c4da65ba56211b84cab171ef969"><div class="ttname"><a href="classQWidget.html#af32c7c4da65ba56211b84cab171ef969">QWidget::windowType</a></div><div class="ttdeci">Qt::WindowType windowType() const</div><div class="ttdoc">Returns the window type of this widget. </div><div class="ttdef"><b>Definition:</b> <a href="qwidget_8h_source.html#l00937">qwidget.h:937</a></div></div>
<div class="ttc" id="classQApplication_html_a8b283ab52de8a4fcca77b5d90301cabf"><div class="ttname"><a href="classQApplication.html#a8b283ab52de8a4fcca77b5d90301cabf">QApplication::mouseButtons</a></div><div class="ttdeci">static Qt::MouseButtons mouseButtons()</div><div class="ttdoc">Returns the current state of the buttons on the mouse. </div><div class="ttdef"><b>Definition:</b> <a href="qapplication_8cpp_source.html#l03431">qapplication.cpp:3431</a></div></div>
<div class="ttc" id="qglobal_8h_html_aa2f58c75acfd1521af66b2e6ca56ec63"><div class="ttname"><a href="qglobal_8h.html#aa2f58c75acfd1521af66b2e6ca56ec63">Q_DECLARE_PRIVATE</a></div><div class="ttdeci">#define Q_DECLARE_PRIVATE(Class)</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l02467">qglobal.h:2467</a></div></div>
<div class="ttc" id="classQPoint_html_a14861329ac9e84a82ab0049e497fe267"><div class="ttname"><a href="classQPoint.html#a14861329ac9e84a82ab0049e497fe267">QPoint::x</a></div><div class="ttdeci">int x() const</div><div class="ttdoc">Returns the x coordinate of this point. </div><div class="ttdef"><b>Definition:</b> <a href="qpoint_8h_source.html#l00128">qpoint.h:128</a></div></div>
<div class="ttc" id="classQDragManager_html_a704eb6e4f9170bddbc2604188168bdcc"><div class="ttname"><a href="classQDragManager.html#a704eb6e4f9170bddbc2604188168bdcc">QDragManager::move</a></div><div class="ttdeci">void move(const QPoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__mac_8mm_source.html#l00283">qdnd_mac.mm:283</a></div></div>
<div class="ttc" id="classQWidget_html_a3fba29c95a28e9aa28272c9b86474b9b"><div class="ttname"><a href="classQWidget.html#a3fba29c95a28e9aa28272c9b86474b9b">QWidget::event</a></div><div class="ttdeci">bool event(QEvent *)</div><div class="ttdoc">This is the main event handler; it handles event event. </div><div class="ttdef"><b>Definition:</b> <a href="qwidget_8cpp_source.html#l08636">qwidget.cpp:8636</a></div></div>
<div class="ttc" id="qevent_8h_html"><div class="ttname"><a href="qevent_8h.html">qevent.h</a></div></div>
<div class="ttc" id="classQApplication_html_ae3db8fae215a9a8b57a46048e4cda6b9"><div class="ttname"><a href="classQApplication.html#ae3db8fae215a9a8b57a46048e4cda6b9">QApplication::restoreOverrideCursor</a></div><div class="ttdeci">static void restoreOverrideCursor()</div><div class="ttdoc">Undoes the last setOverrideCursor(). </div><div class="ttdef"><b>Definition:</b> <a href="qapplication__mac_8mm_source.html#l01419">qapplication_mac.mm:1419</a></div></div>
<div class="ttc" id="qpainter_8h_html"><div class="ttname"><a href="qpainter_8h.html">qpainter.h</a></div></div>
<div class="ttc" id="qwidget__p_8h_html"><div class="ttname"><a href="qwidget__p_8h.html">qwidget_p.h</a></div></div>
<div class="ttc" id="classQPixmap_html_a6af763873ee1f4869e317ca31539583e"><div class="ttname"><a href="classQPixmap.html#a6af763873ee1f4869e317ca31539583e">QPixmap::isNull</a></div><div class="ttdeci">bool isNull() const</div><div class="ttdoc">Returns true if this is a null pixmap; otherwise returns false. </div><div class="ttdef"><b>Definition:</b> <a href="qpixmap_8cpp_source.html#l00615">qpixmap.cpp:615</a></div></div>
<div class="ttc" id="namespaceQt_html_acc0cb4faac300e58b71c2054b9e1d71aa28c9f8bd1329a6700b2f5a3e5ce3663f"><div class="ttname"><a href="namespaceQt.html#acc0cb4faac300e58b71c2054b9e1d71aa28c9f8bd1329a6700b2f5a3e5ce3663f">Qt::FramelessWindowHint</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l00287">qnamespace.h:287</a></div></div>
<div class="ttc" id="classQTextCodec_html"><div class="ttname"><a href="classQTextCodec.html">QTextCodec</a></div><div class="ttdoc">The QTextCodec class provides conversions between text encodings. </div><div class="ttdef"><b>Definition:</b> <a href="qtextcodec_8h_source.html#l00062">qtextcodec.h:62</a></div></div>
<div class="ttc" id="classQRect_html_ab939987e1fb10dec481fdd0d713c0145"><div class="ttname"><a href="classQRect.html#ab939987e1fb10dec481fdd0d713c0145">QRect::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdoc">Returns true if the rectangle is valid, otherwise returns false. </div><div class="ttdef"><b>Definition:</b> <a href="qrect_8h_source.html#l00237">qrect.h:237</a></div></div>
<div class="ttc" id="classQByteArray_html_a4f311b72dce2a8ffaf0f95a4ffb9d35c"><div class="ttname"><a href="classQByteArray.html#a4f311b72dce2a8ffaf0f95a4ffb9d35c">QByteArray::at</a></div><div class="ttdeci">char at(int i) const</div><div class="ttdoc">Returns the character at index position i in the byte array. </div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8h_source.html#l00413">qbytearray.h:413</a></div></div>
<div class="ttc" id="classQPaintEvent_html"><div class="ttname"><a href="classQPaintEvent.html">QPaintEvent</a></div><div class="ttdoc">The QPaintEvent class contains event parameters for paint events. </div><div class="ttdef"><b>Definition:</b> <a href="qevent_8h_source.html#l00298">qevent.h:298</a></div></div>
<div class="ttc" id="structQX11Data_html_aa44ecb9bd1b5c5e473570c381ceb1aa3"><div class="ttname"><a href="structQX11Data.html#aa44ecb9bd1b5c5e473570c381ceb1aa3">QX11Data::xdndMimeFormatsForAtom</a></div><div class="ttdeci">QStringList xdndMimeFormatsForAtom(Atom a)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00453">qdnd_x11.cpp:453</a></div></div>
<div class="ttc" id="classQDragManager_html_ac4f14b0e03251c5748d662c048315888"><div class="ttname"><a href="classQDragManager.html#ac4f14b0e03251c5748d662c048315888">QDragManager::drop</a></div><div class="ttdeci">void drop()</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__mac_8mm_source.html#l00287">qdnd_mac.mm:287</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_ad72dbcf6d0153db1b8d8a58001feed83"><div class="ttname"><a href="qdnd__x11_8cpp.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a></div><div class="ttdeci">#define DEBUG</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00085">qdnd_x11.cpp:85</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_a22e09786270a7ef559b1612a047dcfcf"><div class="ttname"><a href="qdnd__x11_8cpp.html#a22e09786270a7ef559b1612a047dcfcf">qt_xdnd_current_screen</a></div><div class="ttdeci">static int qt_xdnd_current_screen</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00235">qdnd_x11.cpp:235</a></div></div>
<div class="ttc" id="classQImageWriter_html_a4402ac3ff5179d3df4a438d6d254f86c"><div class="ttname"><a href="classQImageWriter.html#a4402ac3ff5179d3df4a438d6d254f86c">QImageWriter::write</a></div><div class="ttdeci">bool write(const QImage &amp;image)</div><div class="ttdoc">Writes the image image to the assigned device or file name. </div><div class="ttdef"><b>Definition:</b> <a href="qimagewriter_8cpp_source.html#l00606">qimagewriter.cpp:606</a></div></div>
<div class="ttc" id="namespaceQt_html_a6d774d2676850ebdccc027a7d06f9e1dac17718529915ef260fcdf37de4b7955f"><div class="ttname"><a href="namespaceQt.html#a6d774d2676850ebdccc027a7d06f9e1dac17718529915ef260fcdf37de4b7955f">Qt::DragMoveCursor</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l01283">qnamespace.h:1283</a></div></div>
<div class="ttc" id="classQEvent_html"><div class="ttname"><a href="classQEvent.html">QEvent</a></div><div class="ttdoc">The QEvent class is the base class of all event classes. </div><div class="ttdef"><b>Definition:</b> <a href="qcoreevent_8h_source.html#l00056">qcoreevent.h:56</a></div></div>
<div class="ttc" id="classQEvent_html_a4538e47c5088cdfad20ea17076563947"><div class="ttname"><a href="classQEvent.html#a4538e47c5088cdfad20ea17076563947">QEvent::type</a></div><div class="ttdeci">Type type() const</div><div class="ttdoc">Returns the event type. </div><div class="ttdef"><b>Definition:</b> <a href="qcoreevent_8h_source.html#l00303">qcoreevent.h:303</a></div></div>
<div class="ttc" id="qglobal_8h_html_a4dd4fa7aff72eb3d9d6317389456efb8"><div class="ttname"><a href="qglobal_8h.html#a4dd4fa7aff72eb3d9d6317389456efb8">qPrintable</a></div><div class="ttdeci">#define qPrintable(string)</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l01750">qglobal.h:1750</a></div></div>
<div class="ttc" id="classQMouseEvent_html_a9479137c49c317f9a9788bbe79dbbc95"><div class="ttname"><a href="classQMouseEvent.html#a9479137c49c317f9a9788bbe79dbbc95">QMouseEvent::globalPos</a></div><div class="ttdeci">const QPoint &amp; globalPos() const</div><div class="ttdoc">Returns the global position of the mouse cursor at the time of the event. </div><div class="ttdef"><b>Definition:</b> <a href="qevent_8h_source.html#l00096">qevent.h:96</a></div></div>
<div class="ttc" id="classQDragManager_html_a1ba9cb562a250f0de947d840a54f5228"><div class="ttname"><a href="classQDragManager.html#a1ba9cb562a250f0de947d840a54f5228">QDragManager::eventFilter</a></div><div class="ttdeci">bool eventFilter(QObject *, QEvent *)</div><div class="ttdoc">Filters events if this object has been installed as an event filter for the watched object...</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__mac_8mm_source.html#l00263">qdnd_mac.mm:263</a></div></div>
<div class="ttc" id="namespaceQXcbAtom_html_ae0d50e173ccbe293594603e314b3eea0a84260203d33ec065d34e37977dd6ebca"><div class="ttname"><a href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a84260203d33ec065d34e37977dd6ebca">QXcbAtom::UTF8_STRING</a></div><div class="ttdef"><b>Definition:</b> <a href="qxcbconnection_8h_source.html#l00165">qxcbconnection.h:165</a></div></div>
<div class="ttc" id="classQDragManager_html_a7791670fe9dc71bd07ba31b38725b6d4"><div class="ttname"><a href="classQDragManager.html#a7791670fe9dc71bd07ba31b38725b6d4">QDragManager::dragPrivate</a></div><div class="ttdeci">QDragPrivate * dragPrivate() const</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__p_8h_source.html#l00231">qdnd_p.h:231</a></div></div>
<div class="ttc" id="qglobal_8h_html_ab50b9ec9f8efb4c169cbd1a13b1fe2b1"><div class="ttname"><a href="qglobal_8h.html#ab50b9ec9f8efb4c169cbd1a13b1fe2b1">Q_UNUSED</a></div><div class="ttdeci">#define Q_UNUSED(x)</div><div class="ttdoc">Indicates to the compiler that the parameter with the specified name is not used in the body of a fun...</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l01729">qglobal.h:1729</a></div></div>
<div class="ttc" id="classQWidget_html_a9d4bf781fa2c9acf742e08ce63b49790"><div class="ttname"><a href="classQWidget.html#a9d4bf781fa2c9acf742e08ce63b49790">QWidget::geometry</a></div><div class="ttdeci">QRect geometry</div><div class="ttdoc">the geometry of the widget relative to its parent and excluding the window frame </div><div class="ttdef"><b>Definition:</b> <a href="qwidget_8h_source.html#l00158">qwidget.h:158</a></div></div>
<div class="ttc" id="classQVector_html_a3b40ac78d8377b150a0467a7fe139eef"><div class="ttname"><a href="classQVector.html#a3b40ac78d8377b150a0467a7fe139eef">QVector::size</a></div><div class="ttdeci">int size() const</div><div class="ttdoc">Returns the number of items in the vector. </div><div class="ttdef"><b>Definition:</b> <a href="qvector_8h_source.html#l00137">qvector.h:137</a></div></div>
<div class="ttc" id="structQX11Data_html_a58cc764bf60eb4d09b4514b59fb53220"><div class="ttname"><a href="structQX11Data.html#a58cc764bf60eb4d09b4514b59fb53220">QX11Data::xdndMimeAtomsForFormat</a></div><div class="ttdeci">QList&lt; Atom &gt; xdndMimeAtomsForFormat(const QString &amp;format)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00561">qdnd_x11.cpp:561</a></div></div>
<div class="ttc" id="classQElapsedTimer_html_a011429f1286f65d035f27845d7454e02"><div class="ttname"><a href="classQElapsedTimer.html#a011429f1286f65d035f27845d7454e02">QElapsedTimer::start</a></div><div class="ttdeci">void start()</div><div class="ttdoc">Starts this timer. </div><div class="ttdef"><b>Definition:</b> <a href="qelapsedtimer__generic_8cpp_source.html#l00079">qelapsedtimer_generic.cpp:79</a></div></div>
<div class="ttc" id="classQObject_html_af6982f45bdad0833b8f3ee5688cccbfb"><div class="ttname"><a href="classQObject.html#af6982f45bdad0833b8f3ee5688cccbfb">QObject::deleteLater</a></div><div class="ttdeci">void deleteLater()</div><div class="ttdoc">Schedules this object for deletion. </div><div class="ttdef"><b>Definition:</b> <a href="qobject_8cpp_source.html#l02145">qobject.cpp:2145</a></div></div>
<div class="ttc" id="classQWidget_html_a97f583490beed08725198bc764309540"><div class="ttname"><a href="classQWidget.html#a97f583490beed08725198bc764309540">QWidget::mapToGlobal</a></div><div class="ttdeci">QPoint mapToGlobal(const QPoint &amp;) const</div><div class="ttdoc">Translates the widget coordinate pos to global screen coordinates. </div><div class="ttdef"><b>Definition:</b> <a href="qwidget__mac_8mm_source.html#l03108">qwidget_mac.mm:3108</a></div></div>
<div class="ttc" id="structQX11Data_html_a0286978e14347e4024f52ece1a3d1390"><div class="ttname"><a href="structQX11Data.html#a0286978e14347e4024f52ece1a3d1390">QX11Data::xdndHandleSelectionRequest</a></div><div class="ttdeci">void xdndHandleSelectionRequest(const XSelectionRequestEvent *)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l01807">qdnd_x11.cpp:1807</a></div></div>
<div class="ttc" id="structQLatin1Char_html"><div class="ttname"><a href="structQLatin1Char.html">QLatin1Char</a></div><div class="ttdoc">The QLatin1Char class provides an 8-bit ASCII/Latin-1 character. </div><div class="ttdef"><b>Definition:</b> <a href="qchar_8h_source.html#l00055">qchar.h:55</a></div></div>
<div class="ttc" id="namespaceQt_html_aab89d2c3465e41bbae6ee0f740c12043af7511588e8175b82f3a5bb9531b14158"><div class="ttname"><a href="namespaceQt.html#aab89d2c3465e41bbae6ee0f740c12043af7511588e8175b82f3a5bb9531b14158">Qt::LinkAction</a></div><div class="ttdef"><b>Definition:</b> <a href="qnamespace_8h_source.html#l01600">qnamespace.h:1600</a></div></div>
<div class="ttc" id="qimagewriter_8h_html"><div class="ttname"><a href="qimagewriter_8h.html">qimagewriter.h</a></div></div>
<div class="ttc" id="namespaceQXcbAtom_html_ae0d50e173ccbe293594603e314b3eea0aeb1525c678d8420937668126fb9fe2a8"><div class="ttname"><a href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0aeb1525c678d8420937668126fb9fe2a8">QXcbAtom::XdndTypelist</a></div><div class="ttdef"><b>Definition:</b> <a href="qxcbconnection_8h_source.html#l00174">qxcbconnection.h:174</a></div></div>
<div class="ttc" id="structQX11Data_html_af1abcc801a14201a5ba8edaaae5b8497"><div class="ttname"><a href="structQX11Data.html#af1abcc801a14201a5ba8edaaae5b8497">QX11Data::xdndMimeConvertToFormat</a></div><div class="ttdeci">QVariant xdndMimeConvertToFormat(Atom a, const QByteArray &amp;data, const QString &amp;format, QVariant::Type requestedType, const QByteArray &amp;encoding)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00589">qdnd_x11.cpp:589</a></div></div>
<div class="ttc" id="classQDragManager_html_a4119d57d3c81cf90b6e15ce78ebfe55e"><div class="ttname"><a href="classQDragManager.html#a4119d57d3c81cf90b6e15ce78ebfe55e">QDragManager::xdndMimeTransferedPixmapIndex</a></div><div class="ttdeci">int xdndMimeTransferedPixmapIndex</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__p_8h_source.html#l00260">qdnd_p.h:260</a></div></div>
<div class="ttc" id="qpointer_8h_html"><div class="ttname"><a href="qpointer_8h.html">qpointer.h</a></div></div>
<div class="ttc" id="classQEventLoop_html_a0fda485b976d6760ea7ab2afab7d7d10"><div class="ttname"><a href="classQEventLoop.html#a0fda485b976d6760ea7ab2afab7d7d10">QEventLoop::exec</a></div><div class="ttdeci">int exec(ProcessEventsFlags flags=AllEvents)</div><div class="ttdoc">Enters the main event loop and waits until exit() is called. </div><div class="ttdef"><b>Definition:</b> <a href="qeventloop_8cpp_source.html#l00181">qeventloop.cpp:181</a></div></div>
<div class="ttc" id="namespaceQXcbAtom_html_ae0d50e173ccbe293594603e314b3eea0a0aa5c49d36838ec3df568fe5ef6c51dc"><div class="ttname"><a href="namespaceQXcbAtom.html#ae0d50e173ccbe293594603e314b3eea0a0aa5c49d36838ec3df568fe5ef6c51dc">QXcbAtom::XdndAware</a></div><div class="ttdef"><b>Definition:</b> <a href="qxcbconnection_8h_source.html#l00179">qxcbconnection.h:179</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_af4fec4bb2e18682d985110069f6e85c1"><div class="ttname"><a href="qdnd__x11_8cpp.html#af4fec4bb2e18682d985110069f6e85c1">heartbeat</a></div><div class="ttdeci">static int heartbeat</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00220">qdnd_x11.cpp:220</a></div></div>
<div class="ttc" id="classQByteArray_html_acc20e3cb0ec9acda1bba58cfce3678b9"><div class="ttname"><a href="classQByteArray.html#acc20e3cb0ec9acda1bba58cfce3678b9">QByteArray::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdoc">Clears the contents of the byte array and makes it empty. </div><div class="ttdef"><b>Definition:</b> <a href="qbytearray_8cpp_source.html#l02907">qbytearray.cpp:2907</a></div></div>
<div class="ttc" id="classQX11Info_html_a42ee923b2497c27cf2fd0464cf2a1d0b"><div class="ttname"><a href="classQX11Info.html#a42ee923b2497c27cf2fd0464cf2a1d0b">QX11Info::display</a></div><div class="ttdeci">static Display * display()</div><div class="ttdoc">Returns the default display for the application. </div><div class="ttdef"><b>Definition:</b> <a href="qx11info__x11_8cpp_source.html#l00359">qx11info_x11.cpp:359</a></div></div>
<div class="ttc" id="classQCoreApplication_html_a3ed44e8d476ab36c4c49ebf6c50ea1a2"><div class="ttname"><a href="classQCoreApplication.html#a3ed44e8d476ab36c4c49ebf6c50ea1a2">QCoreApplication::flush</a></div><div class="ttdeci">static void flush()</div><div class="ttdoc">Flushes the platform specific event queues. </div><div class="ttdef"><b>Definition:</b> <a href="qcoreapplication_8cpp_source.html#l00690">qcoreapplication.cpp:690</a></div></div>
<div class="ttc" id="classQWidget_html_a627734afc161645c53ddbc80276d9018"><div class="ttname"><a href="classQWidget.html#a627734afc161645c53ddbc80276d9018">QWidget::move</a></div><div class="ttdeci">void move(int x, int y)</div><div class="ttdoc">This corresponds to move(QPoint(x, y)). </div><div class="ttdef"><b>Definition:</b> <a href="qwidget_8h_source.html#l01011">qwidget.h:1011</a></div></div>
<div class="ttc" id="classQCursor_html_a8b5f012c646895b53d821f77ae2e9713"><div class="ttname"><a href="classQCursor.html#a8b5f012c646895b53d821f77ae2e9713">QCursor::pos</a></div><div class="ttdeci">static QPoint pos()</div><div class="ttdoc">Returns the position of the cursor (hot spot) in global screen coordinates. </div><div class="ttdef"><b>Definition:</b> <a href="qcursor__mac_8mm_source.html#l00310">qcursor_mac.mm:310</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_ad8984f9a59189b89ebf8db8d50ca1f04"><div class="ttname"><a href="qdnd__x11_8cpp.html#ad8984f9a59189b89ebf8db8d50ca1f04">handle_xdnd_position</a></div><div class="ttdeci">static void handle_xdnd_position(QWidget *, const XEvent *, bool)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00842">qdnd_x11.cpp:842</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_a83675dececb36c81404f147e0aab21c4"><div class="ttname"><a href="qdnd__x11_8cpp.html#a83675dececb36c81404f147e0aab21c4">default_pm</a></div><div class="ttdeci">static const char *const default_pm[]</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l00262">qdnd_x11.cpp:262</a></div></div>
<div class="ttc" id="classQList_html"><div class="ttname"><a href="classQList.html">QList</a></div><div class="ttdoc">The QList class is a template class that provides lists. </div><div class="ttdef"><b>Definition:</b> <a href="qdatastream_8h_source.html#l00062">qdatastream.h:62</a></div></div>
<div class="ttc" id="classQDragManager_html_a001550e7604a770fed6d0e59e40279bf"><div class="ttname"><a href="classQDragManager.html#a001550e7604a770fed6d0e59e40279bf">QDragManager::timerEvent</a></div><div class="ttdeci">void timerEvent(QTimerEvent *)</div><div class="ttdoc">This event handler can be reimplemented in a subclass to receive timer events for the object...</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__mac_8mm_source.html#l00259">qdnd_mac.mm:259</a></div></div>
<div class="ttc" id="classQDrag_html_a40405397f6958dc86c20eab805ba9638"><div class="ttname"><a href="classQDrag.html#a40405397f6958dc86c20eab805ba9638">QDrag::target</a></div><div class="ttdeci">QWidget * target() const</div><div class="ttdoc">Returns the target of the drag and drop operation. </div><div class="ttdef"><b>Definition:</b> <a href="qdrag_8cpp_source.html#l00219">qdrag.cpp:219</a></div></div>
<div class="ttc" id="qdnd__x11_8cpp_html_aefb648da2c7c812e921cbe91532e66eb"><div class="ttname"><a href="qdnd__x11_8cpp.html#aefb648da2c7c812e921cbe91532e66eb">windowInteractsWithPosition</a></div><div class="ttdeci">static bool windowInteractsWithPosition(const QPoint &amp;pos, Window w, int shapeType)</div><div class="ttdef"><b>Definition:</b> <a href="qdnd__x11_8cpp_source.html#l01427">qdnd_x11.cpp:1427</a></div></div>
<div class="ttc" id="classQObject_html_af3541fffb7562f18c698ff7a4c00963b"><div class="ttname"><a href="classQObject.html#af3541fffb7562f18c698ff7a4c00963b">QObject::killTimer</a></div><div class="ttdeci">void killTimer(int id)</div><div class="ttdoc">Kills the timer with timer identifier, id. </div><div class="ttdef"><b>Definition:</b> <a href="qobject_8cpp_source.html#l01650">qobject.cpp:1650</a></div></div>
<div class="ttc" id="qglobal_8h_html_a8c25998f80abf59bbbc3fd3011d8bba6"><div class="ttname"><a href="qglobal_8h.html#a8c25998f80abf59bbbc3fd3011d8bba6">forever</a></div><div class="ttdeci">#define forever</div><div class="ttdoc">This macro is provided for convenience for writing infinite loops. </div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l02452">qglobal.h:2452</a></div></div>
</div><!-- fragment --></div><!-- contents -->

<hr class="footer"/><address class="footer"><small><a href="https://dreamswork.github.io/qt4/">Qt 4.8 Source Code Browser</a></small></address>
</body>
</html>
