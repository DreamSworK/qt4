<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Qt 4.8: QUndoCommand Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="qt_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Qt 4.8
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0"
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Functions</a> &#124;
<a href="#pri-attribs">Properties</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classQUndoCommand-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">QUndoCommand Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="classQUndoCommand.html" title="The QUndoCommand class is the base class of all commands stored on a QUndoStack. ">QUndoCommand</a> class is the base class of all commands stored on a <a class="el" href="classQUndoStack.html" title="The QUndoStack class is a stack of QUndoCommand objects. ">QUndoStack</a>.
 <a href="classQUndoCommand.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="qundostack_8h_source.html">qundostack.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Functions</h2></td></tr>
<tr class="memitem:a55252c7df0330887d78df6d7cdc9b00c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classQString.html">QString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQUndoCommand.html#a55252c7df0330887d78df6d7cdc9b00c">actionText</a> () const</td></tr>
<tr class="memdesc:a55252c7df0330887d78df6d7cdc9b00c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a short text string describing what this command does; for example, "insert text".  <a href="#a55252c7df0330887d78df6d7cdc9b00c">More...</a><br /></td></tr>
<tr class="separator:a55252c7df0330887d78df6d7cdc9b00c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8195e30f9964845cabb03f241f6e5411"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classQUndoCommand.html">QUndoCommand</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQUndoCommand.html#a8195e30f9964845cabb03f241f6e5411">child</a> (int <a class="el" href="qfontsubset_8cpp.html#a83028518b8b40ed14c1c522b71d2eaa4">index</a>) const</td></tr>
<tr class="memdesc:a8195e30f9964845cabb03f241f6e5411"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the child command at <em>index</em>.  <a href="#a8195e30f9964845cabb03f241f6e5411">More...</a><br /></td></tr>
<tr class="separator:a8195e30f9964845cabb03f241f6e5411"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc088815c6b4627437b7accc2fb10861"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQUndoCommand.html#adc088815c6b4627437b7accc2fb10861">childCount</a> () const</td></tr>
<tr class="memdesc:adc088815c6b4627437b7accc2fb10861"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of child commands in this command.  <a href="#adc088815c6b4627437b7accc2fb10861">More...</a><br /></td></tr>
<tr class="separator:adc088815c6b4627437b7accc2fb10861"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4be11a3ec46efa007bad5c374bea0d65"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQUndoCommand.html#a4be11a3ec46efa007bad5c374bea0d65">id</a> () const</td></tr>
<tr class="memdesc:a4be11a3ec46efa007bad5c374bea0d65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the ID of this command.  <a href="#a4be11a3ec46efa007bad5c374bea0d65">More...</a><br /></td></tr>
<tr class="separator:a4be11a3ec46efa007bad5c374bea0d65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5773c8d6e6d30ee828b9f637d88b5f61"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQUndoCommand.html#a5773c8d6e6d30ee828b9f637d88b5f61">mergeWith</a> (const <a class="el" href="classQUndoCommand.html">QUndoCommand</a> *other)</td></tr>
<tr class="memdesc:a5773c8d6e6d30ee828b9f637d88b5f61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts to merge this command with <em>command</em>.  <a href="#a5773c8d6e6d30ee828b9f637d88b5f61">More...</a><br /></td></tr>
<tr class="separator:a5773c8d6e6d30ee828b9f637d88b5f61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51d84d380065761fbdb1e2ce53ea87c8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQUndoCommand.html#a51d84d380065761fbdb1e2ce53ea87c8">QUndoCommand</a> (<a class="el" href="classQUndoCommand.html">QUndoCommand</a> *parent=0)</td></tr>
<tr class="memdesc:a51d84d380065761fbdb1e2ce53ea87c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a <a class="el" href="classQUndoCommand.html" title="The QUndoCommand class is the base class of all commands stored on a QUndoStack. ">QUndoCommand</a> object with parent <em>parent</em>.  <a href="#a51d84d380065761fbdb1e2ce53ea87c8">More...</a><br /></td></tr>
<tr class="separator:a51d84d380065761fbdb1e2ce53ea87c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adddd85cc0599312860a81afdcca9ecc4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQUndoCommand.html#adddd85cc0599312860a81afdcca9ecc4">QUndoCommand</a> (const <a class="el" href="classQString.html">QString</a> &amp;<a class="el" href="classQUndoCommand.html#aabc970b4927a0c78ef7379bfa4ed9014">text</a>, <a class="el" href="classQUndoCommand.html">QUndoCommand</a> *parent=0)</td></tr>
<tr class="memdesc:adddd85cc0599312860a81afdcca9ecc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a <a class="el" href="classQUndoCommand.html" title="The QUndoCommand class is the base class of all commands stored on a QUndoStack. ">QUndoCommand</a> object with the given <em>parent</em> and <em>text</em>.  <a href="#adddd85cc0599312860a81afdcca9ecc4">More...</a><br /></td></tr>
<tr class="separator:adddd85cc0599312860a81afdcca9ecc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac55e0d53f3612ebcebb684b4d098872"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQUndoCommand.html#aac55e0d53f3612ebcebb684b4d098872">redo</a> ()</td></tr>
<tr class="memdesc:aac55e0d53f3612ebcebb684b4d098872"><td class="mdescLeft">&#160;</td><td class="mdescRight">Applies a change to the document.  <a href="#aac55e0d53f3612ebcebb684b4d098872">More...</a><br /></td></tr>
<tr class="separator:aac55e0d53f3612ebcebb684b4d098872"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a624624cd78018e83e2540fdfd8aa3945"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQUndoCommand.html#a624624cd78018e83e2540fdfd8aa3945">setText</a> (const <a class="el" href="classQString.html">QString</a> &amp;<a class="el" href="classQUndoCommand.html#aabc970b4927a0c78ef7379bfa4ed9014">text</a>)</td></tr>
<tr class="memdesc:a624624cd78018e83e2540fdfd8aa3945"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the command's text to be the <em>text</em> specified.  <a href="#a624624cd78018e83e2540fdfd8aa3945">More...</a><br /></td></tr>
<tr class="separator:a624624cd78018e83e2540fdfd8aa3945"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabc970b4927a0c78ef7379bfa4ed9014"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classQString.html">QString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQUndoCommand.html#aabc970b4927a0c78ef7379bfa4ed9014">text</a> () const</td></tr>
<tr class="memdesc:aabc970b4927a0c78ef7379bfa4ed9014"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a short text string describing what this command does; for example, "insert text".  <a href="#aabc970b4927a0c78ef7379bfa4ed9014">More...</a><br /></td></tr>
<tr class="separator:aabc970b4927a0c78ef7379bfa4ed9014"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f8549d9da7617282381c00447c7cbbd"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQUndoCommand.html#a5f8549d9da7617282381c00447c7cbbd">undo</a> ()</td></tr>
<tr class="memdesc:a5f8549d9da7617282381c00447c7cbbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reverts a change to the document.  <a href="#a5f8549d9da7617282381c00447c7cbbd">More...</a><br /></td></tr>
<tr class="separator:a5f8549d9da7617282381c00447c7cbbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d893aca2a7a9becf0e94a2719592067"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQUndoCommand.html#a5d893aca2a7a9becf0e94a2719592067">~QUndoCommand</a> ()</td></tr>
<tr class="memdesc:a5d893aca2a7a9becf0e94a2719592067"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys the <a class="el" href="classQUndoCommand.html" title="The QUndoCommand class is the base class of all commands stored on a QUndoStack. ">QUndoCommand</a> object and all child commands.  <a href="#a5d893aca2a7a9becf0e94a2719592067">More...</a><br /></td></tr>
<tr class="separator:a5d893aca2a7a9becf0e94a2719592067"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Properties</h2></td></tr>
<tr class="memitem:a406c617114c3df32bfd09204aa920c88"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classQUndoCommandPrivate.html">QUndoCommandPrivate</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQUndoCommand.html#a406c617114c3df32bfd09204aa920c88">d</a></td></tr>
<tr class="separator:a406c617114c3df32bfd09204aa920c88"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a0db7bfecd800facdb9cfa693485c6e1f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qxcbwindow_8cpp.html#a5198534de6768d36f570e0b656ad34d6">class</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQUndoCommand.html#a0db7bfecd800facdb9cfa693485c6e1f">QUndoStack</a></td></tr>
<tr class="separator:a0db7bfecd800facdb9cfa693485c6e1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="classQUndoCommand.html" title="The QUndoCommand class is the base class of all commands stored on a QUndoStack. ">QUndoCommand</a> class is the base class of all commands stored on a <a class="el" href="classQUndoStack.html" title="The QUndoStack class is a stack of QUndoCommand objects. ">QUndoStack</a>. </p>
<dl class="section since"><dt>Since</dt><dd>4.2</dd></dl>
<p>For an overview of <a class="el" href="namespaceQt.html">Qt</a>'s Undo Framework, see the <b>Overview of <a class="el" href="namespaceQt.html">Qt</a>'s Undo Framework</b>{overview document}.</p>
<p>A <a class="el" href="classQUndoCommand.html" title="The QUndoCommand class is the base class of all commands stored on a QUndoStack. ">QUndoCommand</a> represents a single editing action on a document; for example, inserting or deleting a block of text in a text editor. <a class="el" href="classQUndoCommand.html" title="The QUndoCommand class is the base class of all commands stored on a QUndoStack. ">QUndoCommand</a> can apply a change to the document with <a class="el" href="classQUndoCommand.html#aac55e0d53f3612ebcebb684b4d098872" title="Applies a change to the document. ">redo()</a> and undo the change with <a class="el" href="classQUndoCommand.html#a5f8549d9da7617282381c00447c7cbbd" title="Reverts a change to the document. ">undo()</a>. The implementations for these functions must be provided in a derived class.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>AppendText : <span class="keyword">public</span> <a class="code" href="classQUndoCommand.html">QUndoCommand</a></div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    AppendText(<a class="code" href="classQString.html">QString</a> *doc, <span class="keyword">const</span> <a class="code" href="classQString.html">QString</a> &amp;<a class="code" href="classQUndoCommand.html#aabc970b4927a0c78ef7379bfa4ed9014">text</a>)</div><div class="line">        : m_document(doc), m_text(text) { <a class="code" href="classQUndoCommand.html#a624624cd78018e83e2540fdfd8aa3945">setText</a>(<span class="stringliteral">&quot;append text&quot;</span>); }</div><div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classQUndoCommand.html#a5f8549d9da7617282381c00447c7cbbd">undo</a>()</div><div class="line">        { m_document-&gt;chop(m_text.length()); }</div><div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classQUndoCommand.html#aac55e0d53f3612ebcebb684b4d098872">redo</a>()</div><div class="line">        { m_document-&gt;append(m_text); }</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <a class="code" href="classQString.html">QString</a> *m_document;</div><div class="line">    <a class="code" href="classQString.html">QString</a> m_text;</div><div class="line">};</div></div><!-- fragment --><p> A <a class="el" href="classQUndoCommand.html" title="The QUndoCommand class is the base class of all commands stored on a QUndoStack. ">QUndoCommand</a> has an associated <a class="el" href="classQUndoCommand.html#aabc970b4927a0c78ef7379bfa4ed9014" title="Returns a short text string describing what this command does; for example, &quot;insert text&quot;...">text()</a>. This is a short string describing what the command does. It is used to update the text properties of the stack's undo and redo actions; see <a class="el" href="classQUndoStack.html#a7151ccb600f4afeea9983932257a55bf" title="Creates an undo QAction object with the given parent. ">QUndoStack::createUndoAction()</a> and <a class="el" href="classQUndoStack.html#af49f16d415dd58b6e766940c6c0a2679" title="Creates an redo QAction object with the given parent. ">QUndoStack::createRedoAction()</a>.</p>
<p><a class="el" href="classQUndoCommand.html" title="The QUndoCommand class is the base class of all commands stored on a QUndoStack. ">QUndoCommand</a> objects are owned by the stack they were pushed on. <a class="el" href="classQUndoStack.html" title="The QUndoStack class is a stack of QUndoCommand objects. ">QUndoStack</a> deletes a command if it has been undone and a new command is pushed. For example:</p>
<div class="fragment"><div class="line">MyCommand *command1 = <span class="keyword">new</span> MyCommand();</div><div class="line">stack-&gt;push(command1);</div><div class="line">MyCommand *command2 = <span class="keyword">new</span> MyCommand();</div><div class="line">stack-&gt;push(command2);</div><div class="line"></div><div class="line">stack-&gt;undo();</div><div class="line"></div><div class="line">MyCommand *command3 = <span class="keyword">new</span> MyCommand();</div><div class="line">stack-&gt;push(command3); <span class="comment">// command2 gets deleted</span></div></div><!-- fragment -->
<p>In effect, when a command is pushed, it becomes the top-most command
on the stack.</p>

<p>To support command compression, QUndoCommand has an id() and the virtual function
mergeWith(). These functions are used by QUndoStack::push().</p>

<p>To support command macros, a QUndoCommand object can have any number of child
commands. Undoing or redoing the parent command will cause the child
commands to be undone or redone. A command can be assigned
to a parent explicitly in the constructor. In this case, the command
will be owned by the parent.</p>

<p>The parent in this case is usually an empty command, in that it doesn't
provide its own implementation of undo() and redo(). Instead, it uses
the base implementations of these functions, which simply call undo() or
redo() on all its children. The parent should, however, have a meaningful
text().</p>

<pre class="fragment">
QUndoCommand *insertRed = new QUndoCommand(); // an empty command
insertRed->setText("insert red text");

new InsertText(document, idx, text, insertRed); // becomes child of insertRed
new SetColor(document, idx, text.length(), Qt::red, insertRed);

stack.push(insertRed);
</pre>

<p>Another way to create macros is to use the convenience functions
QUndoStack::beginMacro() and QUndoStack::endMacro().</p>

<dl class="section see"><dt>See also</dt><dd><a class="el" href="classQUndoStack.html" title="The QUndoStack class is a stack of QUndoCommand objects. ">QUndoStack</a> </dd></dl>
<p class="definition">Definition at line <a class="el" href="qundostack_8h_source.html#l00060">60</a> of file <a class="el" href="qundostack_8h_source.html">qundostack.h</a>.</p>
</div><h2 class="groupheader">Constructors and Destructors</h2>
<a id="a51d84d380065761fbdb1e2ce53ea87c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51d84d380065761fbdb1e2ce53ea87c8">&#9670;&nbsp;</a></span>QUndoCommand() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QUndoCommand::QUndoCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQUndoCommand.html">QUndoCommand</a> *&#160;</td>
          <td class="paramname"><em>parent</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a <a class="el" href="classQUndoCommand.html" title="The QUndoCommand class is the base class of all commands stored on a QUndoStack. ">QUndoCommand</a> object with parent <em>parent</em>. </p>
<p>If <em>parent</em> is not 0, this command is appended to parent's child list. The parent command then owns this command and will delete it in its destructor.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classQUndoCommand.html#a5d893aca2a7a9becf0e94a2719592067" title="Destroys the QUndoCommand object and all child commands. ">~QUndoCommand()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qundostack_8cpp_source.html#l00133">133</a> of file <a class="el" href="qundostack_8cpp_source.html">qundostack.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;{</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="classQUndoCommand.html#a406c617114c3df32bfd09204aa920c88">d</a> = <span class="keyword">new</span> <a class="code" href="classQUndoCommandPrivate.html">QUndoCommandPrivate</a>;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">if</span> (parent != 0)</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        parent-&gt;<a class="code" href="classQUndoCommand.html#a406c617114c3df32bfd09204aa920c88">d</a>-&gt;<a class="code" href="classQUndoCommandPrivate.html#ac3558267a82d3cc79b94d45dd1e67c19">child_list</a>.<a class="code" href="classQList.html#a3a1e18c5fb9cc04324825a46540638c5">append</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div><div class="ttc" id="classQUndoCommandPrivate_html_ac3558267a82d3cc79b94d45dd1e67c19"><div class="ttname"><a href="classQUndoCommandPrivate.html#ac3558267a82d3cc79b94d45dd1e67c19">QUndoCommandPrivate::child_list</a></div><div class="ttdeci">QList&lt; QUndoCommand * &gt; child_list</div><div class="ttdef"><b>Definition:</b> <a href="qundostack__p_8h_source.html#l00071">qundostack_p.h:71</a></div></div>
<div class="ttc" id="classQList_html_a3a1e18c5fb9cc04324825a46540638c5"><div class="ttname"><a href="classQList.html#a3a1e18c5fb9cc04324825a46540638c5">QList::append</a></div><div class="ttdeci">void append(const T &amp;t)</div><div class="ttdoc">Inserts value at the end of the list. </div><div class="ttdef"><b>Definition:</b> <a href="qlist_8h_source.html#l00507">qlist.h:507</a></div></div>
<div class="ttc" id="classQUndoCommand_html_a406c617114c3df32bfd09204aa920c88"><div class="ttname"><a href="classQUndoCommand.html#a406c617114c3df32bfd09204aa920c88">QUndoCommand::d</a></div><div class="ttdeci">QUndoCommandPrivate * d</div><div class="ttdef"><b>Definition:</b> <a href="qundostack_8h_source.html#l00062">qundostack.h:62</a></div></div>
<div class="ttc" id="classQUndoCommandPrivate_html"><div class="ttname"><a href="classQUndoCommandPrivate.html">QUndoCommandPrivate</a></div><div class="ttdef"><b>Definition:</b> <a href="qundostack__p_8h_source.html#l00067">qundostack_p.h:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adddd85cc0599312860a81afdcca9ecc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adddd85cc0599312860a81afdcca9ecc4">&#9670;&nbsp;</a></span>QUndoCommand() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QUndoCommand::QUndoCommand </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classQString.html">QString</a> &amp;&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classQUndoCommand.html">QUndoCommand</a> *&#160;</td>
          <td class="paramname"><em>parent</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a <a class="el" href="classQUndoCommand.html" title="The QUndoCommand class is the base class of all commands stored on a QUndoStack. ">QUndoCommand</a> object with the given <em>parent</em> and <em>text</em>. </p>
<p>If <em>parent</em> is not 0, this command is appended to parent's child list. The parent command then owns this command and will delete it in its destructor.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classQUndoCommand.html#a5d893aca2a7a9becf0e94a2719592067" title="Destroys the QUndoCommand object and all child commands. ">~QUndoCommand()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qundostack_8cpp_source.html#l00115">115</a> of file <a class="el" href="qundostack_8cpp_source.html">qundostack.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;{</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <a class="code" href="classQUndoCommand.html#a406c617114c3df32bfd09204aa920c88">d</a> = <span class="keyword">new</span> <a class="code" href="classQUndoCommandPrivate.html">QUndoCommandPrivate</a>;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">if</span> (parent != 0)</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        parent-&gt;<a class="code" href="classQUndoCommand.html#a406c617114c3df32bfd09204aa920c88">d</a>-&gt;<a class="code" href="classQUndoCommandPrivate.html#ac3558267a82d3cc79b94d45dd1e67c19">child_list</a>.<a class="code" href="classQList.html#a3a1e18c5fb9cc04324825a46540638c5">append</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <a class="code" href="classQUndoCommand.html#a624624cd78018e83e2540fdfd8aa3945">setText</a>(text);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div><div class="ttc" id="classQUndoCommand_html_a624624cd78018e83e2540fdfd8aa3945"><div class="ttname"><a href="classQUndoCommand.html#a624624cd78018e83e2540fdfd8aa3945">QUndoCommand::setText</a></div><div class="ttdeci">void setText(const QString &amp;text)</div><div class="ttdoc">Sets the command&amp;#39;s text to be the text specified. </div><div class="ttdef"><b>Definition:</b> <a href="qundostack_8cpp_source.html#l00281">qundostack.cpp:281</a></div></div>
<div class="ttc" id="classQUndoCommandPrivate_html_ac3558267a82d3cc79b94d45dd1e67c19"><div class="ttname"><a href="classQUndoCommandPrivate.html#ac3558267a82d3cc79b94d45dd1e67c19">QUndoCommandPrivate::child_list</a></div><div class="ttdeci">QList&lt; QUndoCommand * &gt; child_list</div><div class="ttdef"><b>Definition:</b> <a href="qundostack__p_8h_source.html#l00071">qundostack_p.h:71</a></div></div>
<div class="ttc" id="classQList_html_a3a1e18c5fb9cc04324825a46540638c5"><div class="ttname"><a href="classQList.html#a3a1e18c5fb9cc04324825a46540638c5">QList::append</a></div><div class="ttdeci">void append(const T &amp;t)</div><div class="ttdoc">Inserts value at the end of the list. </div><div class="ttdef"><b>Definition:</b> <a href="qlist_8h_source.html#l00507">qlist.h:507</a></div></div>
<div class="ttc" id="classQUndoCommand_html_a406c617114c3df32bfd09204aa920c88"><div class="ttname"><a href="classQUndoCommand.html#a406c617114c3df32bfd09204aa920c88">QUndoCommand::d</a></div><div class="ttdeci">QUndoCommandPrivate * d</div><div class="ttdef"><b>Definition:</b> <a href="qundostack_8h_source.html#l00062">qundostack.h:62</a></div></div>
<div class="ttc" id="classQUndoCommandPrivate_html"><div class="ttname"><a href="classQUndoCommandPrivate.html">QUndoCommandPrivate</a></div><div class="ttdef"><b>Definition:</b> <a href="qundostack__p_8h_source.html#l00067">qundostack_p.h:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5d893aca2a7a9becf0e94a2719592067"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d893aca2a7a9becf0e94a2719592067">&#9670;&nbsp;</a></span>~QUndoCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QUndoCommand::~QUndoCommand </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destroys the <a class="el" href="classQUndoCommand.html" title="The QUndoCommand class is the base class of all commands stored on a QUndoStack. ">QUndoCommand</a> object and all child commands. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classQUndoCommand.html#a51d84d380065761fbdb1e2ce53ea87c8" title="Constructs a QUndoCommand object with parent parent. ">QUndoCommand()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qundostack_8cpp_source.html#l00146">146</a> of file <a class="el" href="qundostack_8cpp_source.html">qundostack.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;{</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <a class="code" href="qalgorithms_8h.html#a17463be0eae9847c8dbe818338f4a58a">qDeleteAll</a>(<a class="code" href="classQUndoCommand.html#a406c617114c3df32bfd09204aa920c88">d</a>-&gt;<a class="code" href="classQUndoCommandPrivate.html#ac3558267a82d3cc79b94d45dd1e67c19">child_list</a>);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classQUndoCommand.html#a406c617114c3df32bfd09204aa920c88">d</a>;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;}</div><div class="ttc" id="classQUndoCommandPrivate_html_ac3558267a82d3cc79b94d45dd1e67c19"><div class="ttname"><a href="classQUndoCommandPrivate.html#ac3558267a82d3cc79b94d45dd1e67c19">QUndoCommandPrivate::child_list</a></div><div class="ttdeci">QList&lt; QUndoCommand * &gt; child_list</div><div class="ttdef"><b>Definition:</b> <a href="qundostack__p_8h_source.html#l00071">qundostack_p.h:71</a></div></div>
<div class="ttc" id="classQUndoCommand_html_a406c617114c3df32bfd09204aa920c88"><div class="ttname"><a href="classQUndoCommand.html#a406c617114c3df32bfd09204aa920c88">QUndoCommand::d</a></div><div class="ttdeci">QUndoCommandPrivate * d</div><div class="ttdef"><b>Definition:</b> <a href="qundostack_8h_source.html#l00062">qundostack.h:62</a></div></div>
<div class="ttc" id="qalgorithms_8h_html_a17463be0eae9847c8dbe818338f4a58a"><div class="ttname"><a href="qalgorithms_8h.html#a17463be0eae9847c8dbe818338f4a58a">qDeleteAll</a></div><div class="ttdeci">Q_OUTOFLINE_TEMPLATE void qDeleteAll(ForwardIterator begin, ForwardIterator end)</div><div class="ttdef"><b>Definition:</b> <a href="qalgorithms_8h_source.html#l00319">qalgorithms.h:319</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Functions</h2>
<a id="a55252c7df0330887d78df6d7cdc9b00c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55252c7df0330887d78df6d7cdc9b00c">&#9670;&nbsp;</a></span>actionText()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQString.html">QString</a> QUndoCommand::actionText </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a short text string describing what this command does; for example, "insert text". </p>
<dl class="section since"><dt>Since</dt><dd>4.8</dd></dl>
<p>The text is used when the text properties of the stack's undo and redo actions are updated.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classQUndoCommand.html#aabc970b4927a0c78ef7379bfa4ed9014" title="Returns a short text string describing what this command does; for example, &quot;insert text&quot;...">text()</a>, <a class="el" href="classQUndoCommand.html#a624624cd78018e83e2540fdfd8aa3945" title="Sets the command&#39;s text to be the text specified. ">setText()</a>, <a class="el" href="classQUndoStack.html#a7151ccb600f4afeea9983932257a55bf" title="Creates an undo QAction object with the given parent. ">QUndoStack::createUndoAction()</a>, <a class="el" href="classQUndoStack.html#af49f16d415dd58b6e766940c6c0a2679" title="Creates an redo QAction object with the given parent. ">QUndoStack::createRedoAction()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qundostack_8cpp_source.html#l00261">261</a> of file <a class="el" href="qundostack_8cpp_source.html">qundostack.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;{</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classQUndoCommand.html#a406c617114c3df32bfd09204aa920c88">d</a>-&gt;<a class="code" href="classQUndoCommandPrivate.html#a4fba6b57d93f3ebc8a437cd345a22612">actionText</a>;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;}</div><div class="ttc" id="classQUndoCommandPrivate_html_a4fba6b57d93f3ebc8a437cd345a22612"><div class="ttname"><a href="classQUndoCommandPrivate.html#a4fba6b57d93f3ebc8a437cd345a22612">QUndoCommandPrivate::actionText</a></div><div class="ttdeci">QString actionText</div><div class="ttdef"><b>Definition:</b> <a href="qundostack__p_8h_source.html#l00073">qundostack_p.h:73</a></div></div>
<div class="ttc" id="classQUndoCommand_html_a406c617114c3df32bfd09204aa920c88"><div class="ttname"><a href="classQUndoCommand.html#a406c617114c3df32bfd09204aa920c88">QUndoCommand::d</a></div><div class="ttdeci">QUndoCommandPrivate * d</div><div class="ttdef"><b>Definition:</b> <a href="qundostack_8h_source.html#l00062">qundostack.h:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8195e30f9964845cabb03f241f6e5411"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8195e30f9964845cabb03f241f6e5411">&#9670;&nbsp;</a></span>child()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classQUndoCommand.html">QUndoCommand</a> * QUndoCommand::child </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the child command at <em>index</em>. </p>
<dl class="section since"><dt>Since</dt><dd>4.4</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classQUndoCommand.html#adc088815c6b4627437b7accc2fb10861" title="Returns the number of child commands in this command. ">childCount()</a>, <a class="el" href="classQUndoStack.html#af714a3da5129f768d07dae169bbf6b8d" title="Returns a const pointer to the command at index. ">QUndoStack::command()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qundostack_8cpp_source.html#l00320">320</a> of file <a class="el" href="qundostack_8cpp_source.html">qundostack.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;{</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">if</span> (index &lt; 0 || index &gt;= <a class="code" href="classQUndoCommand.html#a406c617114c3df32bfd09204aa920c88">d</a>-&gt;<a class="code" href="classQUndoCommandPrivate.html#ac3558267a82d3cc79b94d45dd1e67c19">child_list</a>.<a class="code" href="classQList.html#aed39fa0c2e561cf165994d9c9dfd581f">count</a>())</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classQUndoCommand.html#a406c617114c3df32bfd09204aa920c88">d</a>-&gt;<a class="code" href="classQUndoCommandPrivate.html#ac3558267a82d3cc79b94d45dd1e67c19">child_list</a>.<a class="code" href="classQList.html#ab32e1ab64b7837c2d0d7a89c4ca8d9c2">at</a>(<a class="code" href="qfontsubset_8cpp.html#a83028518b8b40ed14c1c522b71d2eaa4">index</a>);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;}</div><div class="ttc" id="classQUndoCommandPrivate_html_ac3558267a82d3cc79b94d45dd1e67c19"><div class="ttname"><a href="classQUndoCommandPrivate.html#ac3558267a82d3cc79b94d45dd1e67c19">QUndoCommandPrivate::child_list</a></div><div class="ttdeci">QList&lt; QUndoCommand * &gt; child_list</div><div class="ttdef"><b>Definition:</b> <a href="qundostack__p_8h_source.html#l00071">qundostack_p.h:71</a></div></div>
<div class="ttc" id="classQList_html_aed39fa0c2e561cf165994d9c9dfd581f"><div class="ttname"><a href="classQList.html#aed39fa0c2e561cf165994d9c9dfd581f">QList::count</a></div><div class="ttdeci">int count(const T &amp;t) const</div><div class="ttdoc">Returns the number of occurrences of value in the list. </div><div class="ttdef"><b>Definition:</b> <a href="qlist_8h_source.html#l00891">qlist.h:891</a></div></div>
<div class="ttc" id="classQList_html_ab32e1ab64b7837c2d0d7a89c4ca8d9c2"><div class="ttname"><a href="classQList.html#ab32e1ab64b7837c2d0d7a89c4ca8d9c2">QList::at</a></div><div class="ttdeci">const T &amp; at(int i) const</div><div class="ttdoc">Returns the item at index position i in the list. </div><div class="ttdef"><b>Definition:</b> <a href="qlist_8h_source.html#l00468">qlist.h:468</a></div></div>
<div class="ttc" id="classQUndoCommand_html_a406c617114c3df32bfd09204aa920c88"><div class="ttname"><a href="classQUndoCommand.html#a406c617114c3df32bfd09204aa920c88">QUndoCommand::d</a></div><div class="ttdeci">QUndoCommandPrivate * d</div><div class="ttdef"><b>Definition:</b> <a href="qundostack_8h_source.html#l00062">qundostack.h:62</a></div></div>
<div class="ttc" id="qfontsubset_8cpp_html_a83028518b8b40ed14c1c522b71d2eaa4"><div class="ttname"><a href="qfontsubset_8cpp.html#a83028518b8b40ed14c1c522b71d2eaa4">index</a></div><div class="ttdeci">quint16 index</div><div class="ttdef"><b>Definition:</b> <a href="qfontsubset_8cpp_source.html#l00116">qfontsubset.cpp:116</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adc088815c6b4627437b7accc2fb10861"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc088815c6b4627437b7accc2fb10861">&#9670;&nbsp;</a></span>childCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int QUndoCommand::childCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of child commands in this command. </p>
<dl class="section since"><dt>Since</dt><dd>4.4</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classQUndoCommand.html#a8195e30f9964845cabb03f241f6e5411" title="Returns the child command at index. ">child()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qundostack_8cpp_source.html#l00304">304</a> of file <a class="el" href="qundostack_8cpp_source.html">qundostack.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;{</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classQUndoCommand.html#a406c617114c3df32bfd09204aa920c88">d</a>-&gt;<a class="code" href="classQUndoCommandPrivate.html#ac3558267a82d3cc79b94d45dd1e67c19">child_list</a>.<a class="code" href="classQList.html#aed39fa0c2e561cf165994d9c9dfd581f">count</a>();</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;}</div><div class="ttc" id="classQUndoCommandPrivate_html_ac3558267a82d3cc79b94d45dd1e67c19"><div class="ttname"><a href="classQUndoCommandPrivate.html#ac3558267a82d3cc79b94d45dd1e67c19">QUndoCommandPrivate::child_list</a></div><div class="ttdeci">QList&lt; QUndoCommand * &gt; child_list</div><div class="ttdef"><b>Definition:</b> <a href="qundostack__p_8h_source.html#l00071">qundostack_p.h:71</a></div></div>
<div class="ttc" id="classQList_html_aed39fa0c2e561cf165994d9c9dfd581f"><div class="ttname"><a href="classQList.html#aed39fa0c2e561cf165994d9c9dfd581f">QList::count</a></div><div class="ttdeci">int count(const T &amp;t) const</div><div class="ttdoc">Returns the number of occurrences of value in the list. </div><div class="ttdef"><b>Definition:</b> <a href="qlist_8h_source.html#l00891">qlist.h:891</a></div></div>
<div class="ttc" id="classQUndoCommand_html_a406c617114c3df32bfd09204aa920c88"><div class="ttname"><a href="classQUndoCommand.html#a406c617114c3df32bfd09204aa920c88">QUndoCommand::d</a></div><div class="ttdeci">QUndoCommandPrivate * d</div><div class="ttdef"><b>Definition:</b> <a href="qundostack_8h_source.html#l00062">qundostack.h:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4be11a3ec46efa007bad5c374bea0d65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4be11a3ec46efa007bad5c374bea0d65">&#9670;&nbsp;</a></span>id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int QUndoCommand::id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the ID of this command. </p>
<p>A command ID is used in command compression. It must be an integer unique to this command's class, or -1 if the command doesn't support compression.</p>
<p>If the command supports compression this function must be overridden in the derived class to return the correct ID. The base implementation returns -1.</p>
<p><a class="el" href="classQUndoStack.html#aced5a2ef38d40636003e13bc7a510999" title="Pushes cmd on the stack or merges it with the most recently executed command. ">QUndoStack::push()</a> will only try to merge two commands if they have the same ID, and the ID is not -1.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classQUndoCommand.html#a5773c8d6e6d30ee828b9f637d88b5f61" title="Attempts to merge this command with command. ">mergeWith()</a>, <a class="el" href="classQUndoStack.html#aced5a2ef38d40636003e13bc7a510999" title="Pushes cmd on the stack or merges it with the most recently executed command. ">QUndoStack::push()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qundostack_8cpp_source.html#l00167">167</a> of file <a class="el" href="qundostack_8cpp_source.html">qundostack.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qundostack_8cpp_source.html#l00601">QUndoStack::push()</a>.</p>
<div class="fragment"><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;{</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a5773c8d6e6d30ee828b9f637d88b5f61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5773c8d6e6d30ee828b9f637d88b5f61">&#9670;&nbsp;</a></span>mergeWith()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool QUndoCommand::mergeWith </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classQUndoCommand.html">QUndoCommand</a> *&#160;</td>
          <td class="paramname"><em>command</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attempts to merge this command with <em>command</em>. </p>
<p>Returns true on success; otherwise returns false.</p>
<p>If this function returns true, calling this command's <a class="el" href="classQUndoCommand.html#aac55e0d53f3612ebcebb684b4d098872" title="Applies a change to the document. ">redo()</a> must have the same effect as redoing both this command and <em>command</em>. Similarly, calling this command's <a class="el" href="classQUndoCommand.html#a5f8549d9da7617282381c00447c7cbbd" title="Reverts a change to the document. ">undo()</a> must have the same effect as undoing <em>command</em> and this command.</p>
<p><a class="el" href="classQUndoStack.html" title="The QUndoStack class is a stack of QUndoCommand objects. ">QUndoStack</a> will only try to merge two commands if they have the same id, and the id is not -1.</p>
<p>The default implementation returns false.</p>
<div class="fragment"><div class="line"><span class="keywordtype">bool</span> AppendText::mergeWith(<span class="keyword">const</span> <a class="code" href="classQUndoCommand.html">QUndoCommand</a> *other)</div><div class="line">{</div><div class="line">    <span class="keywordflow">if</span> (other-&gt;<a class="code" href="classQUndoCommand.html#a4be11a3ec46efa007bad5c374bea0d65">id</a>() != <a class="code" href="classQUndoCommand.html#a4be11a3ec46efa007bad5c374bea0d65">id</a>()) <span class="comment">// make sure other is also an AppendText command</span></div><div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line">    m_text += <span class="keyword">static_cast&lt;</span><span class="keyword">const </span>AppendText*<span class="keyword">&gt;</span>(other)-&gt;m_text;</div><div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line">}</div></div><!-- fragment --> <dl class="section see"><dt>See also</dt><dd><a class="el" href="classQUndoCommand.html#a4be11a3ec46efa007bad5c374bea0d65" title="Returns the ID of this command. ">id()</a> <a class="el" href="classQUndoStack.html#aced5a2ef38d40636003e13bc7a510999" title="Pushes cmd on the stack or merges it with the most recently executed command. ">QUndoStack::push()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qundostack_8cpp_source.html#l00191">191</a> of file <a class="el" href="qundostack_8cpp_source.html">qundostack.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qundostack_8cpp_source.html#l00601">QUndoStack::push()</a>.</p>
<div class="fragment"><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;{</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <a class="code" href="qglobal_8h.html#ab50b9ec9f8efb4c169cbd1a13b1fe2b1">Q_UNUSED</a>(command);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div><div class="ttc" id="qglobal_8h_html_ab50b9ec9f8efb4c169cbd1a13b1fe2b1"><div class="ttname"><a href="qglobal_8h.html#ab50b9ec9f8efb4c169cbd1a13b1fe2b1">Q_UNUSED</a></div><div class="ttdeci">#define Q_UNUSED(x)</div><div class="ttdoc">Indicates to the compiler that the parameter with the specified name is not used in the body of a fun...</div><div class="ttdef"><b>Definition:</b> <a href="qglobal_8h_source.html#l01729">qglobal.h:1729</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aac55e0d53f3612ebcebb684b4d098872"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac55e0d53f3612ebcebb684b4d098872">&#9670;&nbsp;</a></span>redo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void QUndoCommand::redo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Applies a change to the document. </p>
<p>This function must be implemented in the derived class. Calling <a class="el" href="classQUndoStack.html#aced5a2ef38d40636003e13bc7a510999" title="Pushes cmd on the stack or merges it with the most recently executed command. ">QUndoStack::push()</a>, <a class="el" href="classQUndoStack.html#ae9d50cae6c242782b3f90e8b97c3bc2c" title="Undoes the command below the current command by calling QUndoCommand::undo(). ">QUndoStack::undo()</a> or <a class="el" href="classQUndoStack.html#a2e3783fe1041e0a6292daeb6faea6623" title="Redoes the current command by calling QUndoCommand::redo(). ">QUndoStack::redo()</a> from this function leads to undefined beahavior.</p>
<p>The default implementation calls <a class="el" href="classQUndoCommand.html#aac55e0d53f3612ebcebb684b4d098872" title="Applies a change to the document. ">redo()</a> on all child commands.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classQUndoCommand.html#a5f8549d9da7617282381c00447c7cbbd" title="Reverts a change to the document. ">undo()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qundostack_8cpp_source.html#l00208">208</a> of file <a class="el" href="qundostack_8cpp_source.html">qundostack.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qundostack_8cpp_source.html#l00601">QUndoStack::push()</a>, and <a class="el" href="qundostack_8cpp_source.html#l00208">redo()</a>.</p>
<div class="fragment"><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;{</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classQUndoCommand.html#a406c617114c3df32bfd09204aa920c88">d</a>-&gt;<a class="code" href="classQUndoCommandPrivate.html#ac3558267a82d3cc79b94d45dd1e67c19">child_list</a>.<a class="code" href="classQList.html#aa83cded751888bb21257cb4890652809">size</a>(); ++i)</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <a class="code" href="classQUndoCommand.html#a406c617114c3df32bfd09204aa920c88">d</a>-&gt;<a class="code" href="classQUndoCommandPrivate.html#ac3558267a82d3cc79b94d45dd1e67c19">child_list</a>.<a class="code" href="classQList.html#ab32e1ab64b7837c2d0d7a89c4ca8d9c2">at</a>(i)-&gt;<a class="code" href="classQUndoCommand.html#aac55e0d53f3612ebcebb684b4d098872">redo</a>();</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;}</div><div class="ttc" id="classQUndoCommandPrivate_html_ac3558267a82d3cc79b94d45dd1e67c19"><div class="ttname"><a href="classQUndoCommandPrivate.html#ac3558267a82d3cc79b94d45dd1e67c19">QUndoCommandPrivate::child_list</a></div><div class="ttdeci">QList&lt; QUndoCommand * &gt; child_list</div><div class="ttdef"><b>Definition:</b> <a href="qundostack__p_8h_source.html#l00071">qundostack_p.h:71</a></div></div>
<div class="ttc" id="classQUndoCommand_html_aac55e0d53f3612ebcebb684b4d098872"><div class="ttname"><a href="classQUndoCommand.html#aac55e0d53f3612ebcebb684b4d098872">QUndoCommand::redo</a></div><div class="ttdeci">virtual void redo()</div><div class="ttdoc">Applies a change to the document. </div><div class="ttdef"><b>Definition:</b> <a href="qundostack_8cpp_source.html#l00208">qundostack.cpp:208</a></div></div>
<div class="ttc" id="classQList_html_ab32e1ab64b7837c2d0d7a89c4ca8d9c2"><div class="ttname"><a href="classQList.html#ab32e1ab64b7837c2d0d7a89c4ca8d9c2">QList::at</a></div><div class="ttdeci">const T &amp; at(int i) const</div><div class="ttdoc">Returns the item at index position i in the list. </div><div class="ttdef"><b>Definition:</b> <a href="qlist_8h_source.html#l00468">qlist.h:468</a></div></div>
<div class="ttc" id="classQUndoCommand_html_a406c617114c3df32bfd09204aa920c88"><div class="ttname"><a href="classQUndoCommand.html#a406c617114c3df32bfd09204aa920c88">QUndoCommand::d</a></div><div class="ttdeci">QUndoCommandPrivate * d</div><div class="ttdef"><b>Definition:</b> <a href="qundostack_8h_source.html#l00062">qundostack.h:62</a></div></div>
<div class="ttc" id="classQList_html_aa83cded751888bb21257cb4890652809"><div class="ttname"><a href="classQList.html#aa83cded751888bb21257cb4890652809">QList::size</a></div><div class="ttdeci">int size() const</div><div class="ttdoc">Returns the number of items in the list. </div><div class="ttdef"><b>Definition:</b> <a href="qlist_8h_source.html#l00137">qlist.h:137</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a624624cd78018e83e2540fdfd8aa3945"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a624624cd78018e83e2540fdfd8aa3945">&#9670;&nbsp;</a></span>setText()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QUndoCommand::setText </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classQString.html">QString</a> &amp;&#160;</td>
          <td class="paramname"><em>text</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the command's text to be the <em>text</em> specified. </p>
<p>The specified text should be a short user-readable string describing what this command does.</p>
<p>If you need to have two different strings for <a class="el" href="classQUndoCommand.html#aabc970b4927a0c78ef7379bfa4ed9014" title="Returns a short text string describing what this command does; for example, &quot;insert text&quot;...">text()</a> and <a class="el" href="classQUndoCommand.html#a55252c7df0330887d78df6d7cdc9b00c" title="Returns a short text string describing what this command does; for example, &quot;insert text&quot;...">actionText()</a>, separate them with "\n" and pass into this function. Even if you do not use this feature for English strings during development, you can still let translators use two different strings in order to match specific languages' needs. The described feature and the function <a class="el" href="classQUndoCommand.html#a55252c7df0330887d78df6d7cdc9b00c" title="Returns a short text string describing what this command does; for example, &quot;insert text&quot;...">actionText()</a> are available since <a class="el" href="namespaceQt.html">Qt</a> 4.8.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classQUndoCommand.html#aabc970b4927a0c78ef7379bfa4ed9014" title="Returns a short text string describing what this command does; for example, &quot;insert text&quot;...">text()</a> <a class="el" href="classQUndoCommand.html#a55252c7df0330887d78df6d7cdc9b00c" title="Returns a short text string describing what this command does; for example, &quot;insert text&quot;...">actionText()</a> <a class="el" href="classQUndoStack.html#a7151ccb600f4afeea9983932257a55bf" title="Creates an undo QAction object with the given parent. ">QUndoStack::createUndoAction()</a> <a class="el" href="classQUndoStack.html#af49f16d415dd58b6e766940c6c0a2679" title="Creates an redo QAction object with the given parent. ">QUndoStack::createRedoAction()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qundostack_8cpp_source.html#l00281">281</a> of file <a class="el" href="qundostack_8cpp_source.html">qundostack.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qundostack_8cpp_source.html#l00972">QUndoStack::beginMacro()</a>, and <a class="el" href="qundostack_8cpp_source.html#l00115">QUndoCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;{</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordtype">int</span> cdpos = text.<a class="code" href="classQString.html#afffb887b72dd3ae599f1e6205c5248d9">indexOf</a>(<a class="code" href="structQLatin1Char.html">QLatin1Char</a>(<span class="charliteral">&#39;\n&#39;</span>));</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">if</span> (cdpos &gt; 0) {</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <a class="code" href="classQUndoCommand.html#a406c617114c3df32bfd09204aa920c88">d</a>-&gt;<a class="code" href="classQUndoCommandPrivate.html#a4ef8723d105098f98c72eb20a6e2c5fc">text</a> = text.<a class="code" href="classQString.html#a8ac5c7669060295d274a0db1c9bcb5ca">left</a>(cdpos);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <a class="code" href="classQUndoCommand.html#a406c617114c3df32bfd09204aa920c88">d</a>-&gt;<a class="code" href="classQUndoCommandPrivate.html#a4fba6b57d93f3ebc8a437cd345a22612">actionText</a> = text.<a class="code" href="classQString.html#a0e3c8883986091e3e82971b0574fd882">mid</a>(cdpos + 1);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <a class="code" href="classQUndoCommand.html#a406c617114c3df32bfd09204aa920c88">d</a>-&gt;<a class="code" href="classQUndoCommandPrivate.html#a4ef8723d105098f98c72eb20a6e2c5fc">text</a> = <a class="code" href="classQUndoCommand.html#aabc970b4927a0c78ef7379bfa4ed9014">text</a>;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <a class="code" href="classQUndoCommand.html#a406c617114c3df32bfd09204aa920c88">d</a>-&gt;<a class="code" href="classQUndoCommandPrivate.html#a4fba6b57d93f3ebc8a437cd345a22612">actionText</a> = <a class="code" href="classQUndoCommand.html#aabc970b4927a0c78ef7379bfa4ed9014">text</a>;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    }</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;}</div><div class="ttc" id="classQUndoCommandPrivate_html_a4ef8723d105098f98c72eb20a6e2c5fc"><div class="ttname"><a href="classQUndoCommandPrivate.html#a4ef8723d105098f98c72eb20a6e2c5fc">QUndoCommandPrivate::text</a></div><div class="ttdeci">QString text</div><div class="ttdef"><b>Definition:</b> <a href="qundostack__p_8h_source.html#l00072">qundostack_p.h:72</a></div></div>
<div class="ttc" id="classQString_html_a8ac5c7669060295d274a0db1c9bcb5ca"><div class="ttname"><a href="classQString.html#a8ac5c7669060295d274a0db1c9bcb5ca">QString::left</a></div><div class="ttdeci">QString left(int n) const Q_REQUIRED_RESULT</div><div class="ttdoc">Returns a substring that contains the n leftmost characters of the string. </div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l03664">qstring.cpp:3664</a></div></div>
<div class="ttc" id="classQString_html_afffb887b72dd3ae599f1e6205c5248d9"><div class="ttname"><a href="classQString.html#afffb887b72dd3ae599f1e6205c5248d9">QString::indexOf</a></div><div class="ttdeci">int indexOf(QChar c, int from=0, Qt::CaseSensitivity cs=Qt::CaseSensitive) const</div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l02838">qstring.cpp:2838</a></div></div>
<div class="ttc" id="classQString_html_a0e3c8883986091e3e82971b0574fd882"><div class="ttname"><a href="classQString.html#a0e3c8883986091e3e82971b0574fd882">QString::mid</a></div><div class="ttdeci">QString mid(int position, int n=-1) const Q_REQUIRED_RESULT</div><div class="ttdoc">Returns a string that contains n characters of this string, starting at the specified position index...</div><div class="ttdef"><b>Definition:</b> <a href="qstring_8cpp_source.html#l03706">qstring.cpp:3706</a></div></div>
<div class="ttc" id="classQUndoCommandPrivate_html_a4fba6b57d93f3ebc8a437cd345a22612"><div class="ttname"><a href="classQUndoCommandPrivate.html#a4fba6b57d93f3ebc8a437cd345a22612">QUndoCommandPrivate::actionText</a></div><div class="ttdeci">QString actionText</div><div class="ttdef"><b>Definition:</b> <a href="qundostack__p_8h_source.html#l00073">qundostack_p.h:73</a></div></div>
<div class="ttc" id="classQUndoCommand_html_a406c617114c3df32bfd09204aa920c88"><div class="ttname"><a href="classQUndoCommand.html#a406c617114c3df32bfd09204aa920c88">QUndoCommand::d</a></div><div class="ttdeci">QUndoCommandPrivate * d</div><div class="ttdef"><b>Definition:</b> <a href="qundostack_8h_source.html#l00062">qundostack.h:62</a></div></div>
<div class="ttc" id="structQLatin1Char_html"><div class="ttname"><a href="structQLatin1Char.html">QLatin1Char</a></div><div class="ttdoc">The QLatin1Char class provides an 8-bit ASCII/Latin-1 character. </div><div class="ttdef"><b>Definition:</b> <a href="qchar_8h_source.html#l00055">qchar.h:55</a></div></div>
<div class="ttc" id="classQUndoCommand_html_aabc970b4927a0c78ef7379bfa4ed9014"><div class="ttname"><a href="classQUndoCommand.html#aabc970b4927a0c78ef7379bfa4ed9014">QUndoCommand::text</a></div><div class="ttdeci">QString text() const</div><div class="ttdoc">Returns a short text string describing what this command does; for example, &quot;insert text&quot;...</div><div class="ttdef"><b>Definition:</b> <a href="qundostack_8cpp_source.html#l00241">qundostack.cpp:241</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aabc970b4927a0c78ef7379bfa4ed9014"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabc970b4927a0c78ef7379bfa4ed9014">&#9670;&nbsp;</a></span>text()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQString.html">QString</a> QUndoCommand::text </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a short text string describing what this command does; for example, "insert text". </p>
<p>The text is used for names of items in <a class="el" href="classQUndoView.html" title="The QUndoView class displays the contents of a QUndoStack. ">QUndoView</a>.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classQUndoCommand.html#a55252c7df0330887d78df6d7cdc9b00c" title="Returns a short text string describing what this command does; for example, &quot;insert text&quot;...">actionText()</a>, <a class="el" href="classQUndoCommand.html#a624624cd78018e83e2540fdfd8aa3945" title="Sets the command&#39;s text to be the text specified. ">setText()</a>, <a class="el" href="classQUndoStack.html#a7151ccb600f4afeea9983932257a55bf" title="Creates an undo QAction object with the given parent. ">QUndoStack::createUndoAction()</a>, <a class="el" href="classQUndoStack.html#af49f16d415dd58b6e766940c6c0a2679" title="Creates an redo QAction object with the given parent. ">QUndoStack::createRedoAction()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qundostack_8cpp_source.html#l00241">241</a> of file <a class="el" href="qundostack_8cpp_source.html">qundostack.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qundostack_8cpp_source.html#l00281">setText()</a>.</p>
<div class="fragment"><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;{</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classQUndoCommand.html#a406c617114c3df32bfd09204aa920c88">d</a>-&gt;<a class="code" href="classQUndoCommandPrivate.html#a4ef8723d105098f98c72eb20a6e2c5fc">text</a>;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;}</div><div class="ttc" id="classQUndoCommandPrivate_html_a4ef8723d105098f98c72eb20a6e2c5fc"><div class="ttname"><a href="classQUndoCommandPrivate.html#a4ef8723d105098f98c72eb20a6e2c5fc">QUndoCommandPrivate::text</a></div><div class="ttdeci">QString text</div><div class="ttdef"><b>Definition:</b> <a href="qundostack__p_8h_source.html#l00072">qundostack_p.h:72</a></div></div>
<div class="ttc" id="classQUndoCommand_html_a406c617114c3df32bfd09204aa920c88"><div class="ttname"><a href="classQUndoCommand.html#a406c617114c3df32bfd09204aa920c88">QUndoCommand::d</a></div><div class="ttdeci">QUndoCommandPrivate * d</div><div class="ttdef"><b>Definition:</b> <a href="qundostack_8h_source.html#l00062">qundostack.h:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5f8549d9da7617282381c00447c7cbbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f8549d9da7617282381c00447c7cbbd">&#9670;&nbsp;</a></span>undo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void QUndoCommand::undo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reverts a change to the document. </p>
<p>After <a class="el" href="classQUndoCommand.html#a5f8549d9da7617282381c00447c7cbbd" title="Reverts a change to the document. ">undo()</a> is called, the state of the document should be the same as before <a class="el" href="classQUndoCommand.html#aac55e0d53f3612ebcebb684b4d098872" title="Applies a change to the document. ">redo()</a> was called. This function must be implemented in the derived class. Calling <a class="el" href="classQUndoStack.html#aced5a2ef38d40636003e13bc7a510999" title="Pushes cmd on the stack or merges it with the most recently executed command. ">QUndoStack::push()</a>, <a class="el" href="classQUndoStack.html#ae9d50cae6c242782b3f90e8b97c3bc2c" title="Undoes the command below the current command by calling QUndoCommand::undo(). ">QUndoStack::undo()</a> or <a class="el" href="classQUndoStack.html#a2e3783fe1041e0a6292daeb6faea6623" title="Redoes the current command by calling QUndoCommand::redo(). ">QUndoStack::redo()</a> from this function leads to undefined beahavior.</p>
<p>The default implementation calls <a class="el" href="classQUndoCommand.html#a5f8549d9da7617282381c00447c7cbbd" title="Reverts a change to the document. ">undo()</a> on all child commands in reverse order.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classQUndoCommand.html#aac55e0d53f3612ebcebb684b4d098872" title="Applies a change to the document. ">redo()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qundostack_8cpp_source.html#l00226">226</a> of file <a class="el" href="qundostack_8cpp_source.html">qundostack.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="qundostack_8cpp_source.html#l00226">undo()</a>.</p>
<div class="fragment"><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;{</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = <a class="code" href="classQUndoCommand.html#a406c617114c3df32bfd09204aa920c88">d</a>-&gt;<a class="code" href="classQUndoCommandPrivate.html#ac3558267a82d3cc79b94d45dd1e67c19">child_list</a>.<a class="code" href="classQList.html#aa83cded751888bb21257cb4890652809">size</a>() - 1; i &gt;= 0; --i)</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <a class="code" href="classQUndoCommand.html#a406c617114c3df32bfd09204aa920c88">d</a>-&gt;<a class="code" href="classQUndoCommandPrivate.html#ac3558267a82d3cc79b94d45dd1e67c19">child_list</a>.<a class="code" href="classQList.html#ab32e1ab64b7837c2d0d7a89c4ca8d9c2">at</a>(i)-&gt;<a class="code" href="classQUndoCommand.html#a5f8549d9da7617282381c00447c7cbbd">undo</a>();</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;}</div><div class="ttc" id="classQUndoCommandPrivate_html_ac3558267a82d3cc79b94d45dd1e67c19"><div class="ttname"><a href="classQUndoCommandPrivate.html#ac3558267a82d3cc79b94d45dd1e67c19">QUndoCommandPrivate::child_list</a></div><div class="ttdeci">QList&lt; QUndoCommand * &gt; child_list</div><div class="ttdef"><b>Definition:</b> <a href="qundostack__p_8h_source.html#l00071">qundostack_p.h:71</a></div></div>
<div class="ttc" id="classQList_html_ab32e1ab64b7837c2d0d7a89c4ca8d9c2"><div class="ttname"><a href="classQList.html#ab32e1ab64b7837c2d0d7a89c4ca8d9c2">QList::at</a></div><div class="ttdeci">const T &amp; at(int i) const</div><div class="ttdoc">Returns the item at index position i in the list. </div><div class="ttdef"><b>Definition:</b> <a href="qlist_8h_source.html#l00468">qlist.h:468</a></div></div>
<div class="ttc" id="classQUndoCommand_html_a5f8549d9da7617282381c00447c7cbbd"><div class="ttname"><a href="classQUndoCommand.html#a5f8549d9da7617282381c00447c7cbbd">QUndoCommand::undo</a></div><div class="ttdeci">virtual void undo()</div><div class="ttdoc">Reverts a change to the document. </div><div class="ttdef"><b>Definition:</b> <a href="qundostack_8cpp_source.html#l00226">qundostack.cpp:226</a></div></div>
<div class="ttc" id="classQUndoCommand_html_a406c617114c3df32bfd09204aa920c88"><div class="ttname"><a href="classQUndoCommand.html#a406c617114c3df32bfd09204aa920c88">QUndoCommand::d</a></div><div class="ttdeci">QUndoCommandPrivate * d</div><div class="ttdef"><b>Definition:</b> <a href="qundostack_8h_source.html#l00062">qundostack.h:62</a></div></div>
<div class="ttc" id="classQList_html_aa83cded751888bb21257cb4890652809"><div class="ttname"><a href="classQList.html#aa83cded751888bb21257cb4890652809">QList::size</a></div><div class="ttdeci">int size() const</div><div class="ttdoc">Returns the number of items in the list. </div><div class="ttdef"><b>Definition:</b> <a href="qlist_8h_source.html#l00137">qlist.h:137</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Friends and Related Functions</h2>
<a id="a0db7bfecd800facdb9cfa693485c6e1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0db7bfecd800facdb9cfa693485c6e1f">&#9670;&nbsp;</a></span>QUndoStack</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend <a class="el" href="qxcbwindow_8cpp.html#a5198534de6768d36f570e0b656ad34d6">class</a> <a class="el" href="classQUndoStack.html">QUndoStack</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qundostack_8h_source.html#l00084">84</a> of file <a class="el" href="qundostack_8h_source.html">qundostack.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Properties</h2>
<a id="a406c617114c3df32bfd09204aa920c88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a406c617114c3df32bfd09204aa920c88">&#9670;&nbsp;</a></span>d</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQUndoCommandPrivate.html">QUndoCommandPrivate</a>* QUndoCommand::d</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qundostack_8h_source.html#l00062">62</a> of file <a class="el" href="qundostack_8h_source.html">qundostack.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="qundostack_8cpp_source.html#l00261">actionText()</a>, <a class="el" href="qundostack_8cpp_source.html#l00320">child()</a>, <a class="el" href="qundostack_8cpp_source.html#l00304">childCount()</a>, <a class="el" href="qundostack_8cpp_source.html#l00601">QUndoStack::push()</a>, <a class="el" href="qundostack_8cpp_source.html#l00115">QUndoCommand()</a>, <a class="el" href="qundostack_8cpp_source.html#l00208">redo()</a>, <a class="el" href="qundostack_8cpp_source.html#l00281">setText()</a>, <a class="el" href="qundostack_8cpp_source.html#l00241">text()</a>, <a class="el" href="qundostack_8cpp_source.html#l00226">undo()</a>, and <a class="el" href="qundostack_8cpp_source.html#l00146">~QUndoCommand()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/src/gui/util/<a class="el" href="qundostack_8h_source.html">qundostack.h</a></li>
<li>/src/gui/util/<a class="el" href="qundostack_8cpp_source.html">qundostack.cpp</a></li>
</ul>
</div><!-- contents -->

<hr class="footer"/><address class="footer"><small><a href="https://dreamswork.github.io/qt4/">Qt 4.8 Source Code Browser</a></small></address>
</body>
</html>
